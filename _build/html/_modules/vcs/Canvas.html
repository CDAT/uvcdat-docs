<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>vcs.Canvas &#8212; VCS 2.4.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/globe.png"/>
    <link rel="top" title="VCS 2.4.1 documentation" href="../../index.html" />
    <link rel="up" title="vcs" href="../vcs.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">VCS 2.4.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../vcs.html" accesskey="U">vcs</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for vcs.Canvas</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Canvas</span>
<span class="sd">    The object onto which all plots are drawn.</span>

<span class="sd">    Usually created using :py:func:`vcs.init`, this object provides easy access</span>
<span class="sd">    to the functionality of the entire VCS module.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">numpy.ma</span>
<span class="kn">import</span> <span class="nn">MV2</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">cdutil</span>
<span class="kn">from</span> <span class="nn">queries</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># noqa</span>
<span class="kn">import</span> <span class="nn">boxfill</span>
<span class="kn">import</span> <span class="nn">isofill</span>
<span class="kn">import</span> <span class="nn">isoline</span>
<span class="kn">import</span> <span class="nn">vector</span>
<span class="kn">import</span> <span class="nn">line</span>
<span class="kn">import</span> <span class="nn">marker</span>
<span class="kn">import</span> <span class="nn">fillarea</span>
<span class="kn">import</span> <span class="nn">texttable</span>
<span class="kn">import</span> <span class="nn">textorientation</span>
<span class="kn">import</span> <span class="nn">textcombined</span>
<span class="kn">import</span> <span class="nn">template</span>
<span class="kn">import</span> <span class="nn">displayplot</span>
<span class="kn">import</span> <span class="nn">vtk</span>
<span class="kn">from</span> <span class="nn">VTKPlots</span> <span class="k">import</span> <span class="n">VTKVCSBackend</span>
<span class="kn">from</span> <span class="nn">weakref</span> <span class="k">import</span> <span class="n">WeakSet</span><span class="p">,</span> <span class="n">WeakKeyDictionary</span>

<span class="kn">from</span> <span class="nn">error</span> <span class="k">import</span> <span class="n">vcsError</span>
<span class="kn">import</span> <span class="nn">cdms2</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">cdtime</span>
<span class="kn">import</span> <span class="nn">vcs</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">cdms2.grid</span> <span class="k">import</span> <span class="n">AbstractRectGrid</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">VCS_validation_functions</span>
<span class="kn">from</span> <span class="nn">xmldocs</span> <span class="k">import</span> <span class="n">plot_keywords_doc</span><span class="p">,</span> <span class="n">graphics_method_core</span><span class="p">,</span> <span class="n">axesconvert</span><span class="p">,</span> <span class="n">xaxisconvert</span><span class="p">,</span> \
    <span class="n">plot_1D_input</span><span class="p">,</span> <span class="n">plot_2D_input</span><span class="p">,</span> <span class="n">plot_output</span><span class="p">,</span> <span class="n">plot_2_1D_input</span><span class="p">,</span> \
    <span class="n">plot_2_1D_options</span>
<span class="n">gui_canvas_closed</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">canvas_closed</span> <span class="o">=</span> <span class="mi">0</span>
<span class="kn">import</span> <span class="nn">vcsaddons</span>  <span class="c1"># noqa</span>
<span class="kn">import</span> <span class="nn">vcs.manageElements</span>  <span class="c1"># noqa</span>
<span class="kn">import</span> <span class="nn">configurator</span>  <span class="c1"># noqa</span>
<span class="kn">from</span> <span class="nn">projection</span> <span class="k">import</span> <span class="n">no_deformation_projections</span>  <span class="c1"># noqa</span>

<span class="c1"># Python &lt; 3 DeprecationWarning ignored by default</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">SIGNAL</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span> <span class="o">=</span> <span class="n">WeakSet</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_methods</span> <span class="o">=</span> <span class="n">WeakKeyDictionary</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="c1"># Call handler functions</span>
        <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span><span class="p">:</span>
            <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

        <span class="c1"># Call handler methods</span>
        <span class="k">for</span> <span class="n">obj</span><span class="p">,</span> <span class="n">funcs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_methods</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">funcs</span><span class="p">:</span>
                <span class="n">func</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">ismethod</span><span class="p">(</span><span class="n">slot</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">slot</span><span class="o">.</span><span class="n">__self__</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_methods</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_methods</span><span class="p">[</span><span class="n">slot</span><span class="o">.</span><span class="n">__self__</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_methods</span><span class="p">[</span><span class="n">slot</span><span class="o">.</span><span class="n">__self__</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">slot</span><span class="o">.</span><span class="n">__func__</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">ismethod</span><span class="p">(</span><span class="n">slot</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">slot</span><span class="o">.</span><span class="n">__self__</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_methods</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_methods</span><span class="p">[</span><span class="n">slot</span><span class="o">.</span><span class="n">__self__</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">slot</span><span class="o">.</span><span class="n">__func__</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">slot</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_methods</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">dictionarytovcslist</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error, vcs list must have numbers only as keys&#39;</span><span class="p">)</span>
    <span class="n">dictionarytovcslist</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>


<span class="k">def</span> <span class="nf">_determine_arg_list</span><span class="p">(</span><span class="n">g_name</span><span class="p">,</span> <span class="n">actual_args</span><span class="p">):</span>
    <span class="s2">&quot;Determine what is in the argument list for plotting graphics methods&quot;</span>

    <span class="n">itemplate_name</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">igraphics_method</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">igraphics_option</span> <span class="o">=</span> <span class="mi">4</span>

    <span class="c1"># Note: Set default graphics method to &#39;default&#39;, which is invalid.</span>
    <span class="c1"># If it is not modified in this routine, it will be filled in later</span>
    <span class="c1"># in _reconstruct_tv after the grid type is established.</span>
    <span class="c1">#</span>
    <span class="c1"># Xtrargs - {} - added by C.Doutriaux, needed for projection object passed</span>
    <span class="c1"># Need to be passed as keyword later</span>
    <span class="n">arglist</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">{}]</span>
    <span class="n">arghold</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">argstring</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">actual_args</span>
    <span class="n">found_slabs</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">argstring</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">possible_slab</span> <span class="o">=</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">asVariable</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">possible_slab</span><span class="p">,</span> <span class="s1">&#39;iscontiguous&#39;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">possible_slab</span><span class="o">.</span><span class="n">iscontiguous</span><span class="p">():</span>
                        <span class="c1"># this seems to loose the id...</span>
                        <span class="n">saved_id</span> <span class="o">=</span> <span class="n">possible_slab</span><span class="o">.</span><span class="n">id</span>
                        <span class="n">possible_slab</span> <span class="o">=</span> <span class="n">possible_slab</span><span class="o">.</span><span class="n">ascontiguousarray</span><span class="p">()</span>
                        <span class="n">possible_slab</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">saved_id</span>
                <span class="n">arglist</span><span class="p">[</span><span class="n">found_slabs</span><span class="p">]</span> <span class="o">=</span> <span class="n">possible_slab</span>
                <span class="k">if</span> <span class="n">found_slabs</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Too many slab arguments.&quot;</span><span class="p">)</span>
                <span class="n">found_slabs</span> <span class="o">=</span> <span class="n">found_slabs</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">except</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">CDMSError</span><span class="p">:</span>
                <span class="n">arghold</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="c1">#</span>
    <span class="c1"># Now find the template</span>
    <span class="c1">#</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">arghold</span>
    <span class="n">arghold</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">found_template</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">istemplate</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="k">if</span> <span class="n">found_template</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;You can only specify one template object.&#39;</span><span class="p">)</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">itemplate_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="n">found_template</span> <span class="o">=</span> <span class="n">found_template</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">arghold</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="c1">#</span>
    <span class="c1"># Now find the graphics method</span>
    <span class="c1">#</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">arghold</span>
    <span class="n">arghold</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">found_graphics_method</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">isgraphicsmethod</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="k">if</span> <span class="n">found_graphics_method</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;You can only specify one graphics method.&#39;</span><span class="p">)</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">=</span> <span class="n">graphicsmethodtype</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="n">found_graphics_method</span> <span class="o">=</span> <span class="n">found_graphics_method</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">isline</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="k">if</span> <span class="n">found_graphics_method</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;You can only specify one graphics method.&#39;</span><span class="p">)</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;line&#39;</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="n">found_graphics_method</span> <span class="o">=</span> <span class="n">found_graphics_method</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">ismarker</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="k">if</span> <span class="n">found_graphics_method</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;You can only specify one graphics method.&#39;</span><span class="p">)</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;marker&#39;</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="n">found_graphics_method</span> <span class="o">=</span> <span class="n">found_graphics_method</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">isfillarea</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="k">if</span> <span class="n">found_graphics_method</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;You can only specify one graphics method.&#39;</span><span class="p">)</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;fillarea&#39;</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="n">found_graphics_method</span> <span class="o">=</span> <span class="n">found_graphics_method</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">istext</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="k">if</span> <span class="n">found_graphics_method</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;You can only specify one graphics method.&#39;</span><span class="p">)</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;text&#39;</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span>
                <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">Tt_name</span> <span class="o">+</span> <span class="s1">&#39;:::&#39;</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">To_name</span>
            <span class="n">found_graphics_method</span> <span class="o">=</span> <span class="n">found_graphics_method</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">isprojection</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="n">arglist</span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="s1">&#39;projection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">vcsaddons</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">VCSaddon</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">found_graphics_method</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;You can only specify one graphics method.&#39;</span><span class="p">)</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">=</span> <span class="n">graphicsmethodtype</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="n">found_graphics_method</span> <span class="o">=</span> <span class="n">found_graphics_method</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Unknown type </span><span class="si">%s</span><span class="s2"> of argument to plotting command.&quot;</span> <span class="o">%</span>
                           <span class="nb">type</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">g_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">=</span> <span class="n">g_name</span>

<span class="c1"># Now install the string arguments, left to right.</span>
    <span class="k">if</span> <span class="n">found_template</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">argstring</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">itemplate_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">argstring</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">del</span> <span class="n">argstring</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">found_graphics_method</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">g_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">argstring</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">=</span> <span class="n">argstring</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">del</span> <span class="n">argstring</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Check for various errors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">argstring</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">argstring</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">argstring</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">argstring</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">g_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Error in argument list for vcs plot command.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                <span class="s2">&quot;Error in argument list for vcs </span><span class="si">%s</span><span class="s2">  command.&quot;</span> <span class="o">%</span>
                <span class="n">g_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">],</span> <span class="n">vcsaddons</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">VCSaddon</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">found_slabs</span> <span class="o">!=</span> <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span><span class="o">.</span><span class="n">g_nslabs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> requires </span><span class="si">%i</span><span class="s2"> slab(s)&quot;</span> <span class="o">%</span>
                <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span><span class="o">.</span><span class="n">g_name</span><span class="p">,</span>
                 <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span><span class="o">.</span><span class="n">g_nslabs</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="s1">&#39;vector&#39;</span><span class="p">,</span> <span class="s1">&#39;xvsy&#39;</span><span class="p">,</span> <span class="s1">&#39;stream&#39;</span><span class="p">,</span> <span class="s1">&#39;glyph&#39;</span><span class="p">,</span> <span class="s1">&#39;3d_vector&#39;</span><span class="p">,</span> <span class="s1">&#39;3d_dual_scalar&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">found_slabs</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                    <span class="s2">&quot;Graphics method </span><span class="si">%s</span><span class="s2"> requires 2 slabs.&quot;</span> <span class="o">%</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;meshfill&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">found_slabs</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Graphics method requires at least 1 slab.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">found_slabs</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">g</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="p">(</span><span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">,</span>
                                      <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">TransientRectGrid</span><span class="p">)):</span>
                    <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Meshfill requires 2 slab if first slab doesn&#39;t have a &quot;</span>
                                   <span class="s2">&quot;Rectilinear, Curvilinear or Generic Grid type&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">((</span><span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;line&#39;</span><span class="p">)</span> <span class="ow">or</span>
              <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;marker&#39;</span><span class="p">)</span> <span class="ow">or</span>
              <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;fillarea&#39;</span><span class="p">)</span> <span class="ow">or</span>
              <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;text&#39;</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">found_slabs</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                    <span class="s2">&quot;Continents or low-level primative methods requires 0 slabs.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
            <span class="k">pass</span>                            <span class="c1"># Check later</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">found_slabs</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="ow">not</span><span class="p">(</span>
                    <span class="n">found_slabs</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;1d&quot;</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                    <span class="s2">&quot;Graphics method </span><span class="si">%s</span><span class="s2"> requires 1 slab.&quot;</span> <span class="o">%</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="n">igraphics_method</span><span class="p">])</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">arglist</span>


<span class="k">def</span> <span class="nf">_process_keyword</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Set obj.target from:</span>
<span class="sd">    - keyargs[source]</span>
<span class="sd">    - default</span>
<span class="sd">    - obj.source</span>
<span class="sd">    in that order.&quot;&quot;&quot;</span>
    <span class="n">arg</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">source</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">source</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">arg</span>


<div class="viewcode-block" id="Canvas"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas">[docs]</a><span class="k">class</span> <span class="nc">Canvas</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The object onto which all plots are drawn.</span>

<span class="sd">    Usually created using :py:func:`vcs.init`, this object provides easy access</span>
<span class="sd">    to the functionality of the entire VCS module.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;_mode&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_pause_time&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_viewport&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_worldcoordinate&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_winfo_id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_varglist&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_animate_info&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_isplottinggridded&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_user_actions_names&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_user_actions&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_animate&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_canvas&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_canvas_id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mode&#39;</span><span class="p">,</span>
        <span class="s1">&#39;pause_time&#39;</span><span class="p">,</span>
        <span class="s1">&#39;viewport&#39;</span><span class="p">,</span>
        <span class="s1">&#39;worldcoordinate&#39;</span><span class="p">,</span>
        <span class="s1">&#39;winfo_id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;varglist&#39;</span><span class="p">,</span>
        <span class="s1">&#39;animate_info&#39;</span><span class="p">,</span>
        <span class="s1">&#39;canvas_template_editor&#39;</span><span class="p">,</span>
        <span class="s1">&#39;isplottinggridded&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ratio&#39;</span><span class="p">,</span>
        <span class="s1">&#39;canvas&#39;</span><span class="p">,</span>
        <span class="s1">&#39;animate&#39;</span><span class="p">,</span>
        <span class="s1">&#39;user_actions_names&#39;</span><span class="p">,</span>
        <span class="s1">&#39;user_actions&#39;</span><span class="p">,</span>
        <span class="s1">&#39;size&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ParameterChanged&#39;</span><span class="p">,</span>
        <span class="s1">&#39;colormap&#39;</span><span class="p">,</span>
        <span class="s1">&#39;backgroundcolor&#39;</span><span class="p">,</span>
        <span class="s1">&#39;bgX&#39;</span><span class="p">,</span>
        <span class="s1">&#39;bgY&#39;</span><span class="p">,</span>
        <span class="s1">&#39;display_names&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_dotdir&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_dotdirenv&#39;</span><span class="p">,</span>
        <span class="s1">&#39;drawLogo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;enableLogo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;backend&#39;</span><span class="p">,</span>
        <span class="s1">&#39;configurator&#39;</span><span class="p">,</span>
        <span class="s1">&#39;__last_plot_actual_args&#39;</span><span class="p">,</span>
        <span class="s1">&#39;__last_plot_keyargs&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_continents&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_continents_line&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_savedcontinentstype&#39;</span><span class="p">,</span>
        <span class="s1">&#39;__weakref__&#39;</span><span class="p">,</span>
    <span class="p">]</span>

<span class="c1">#     def applicationFocusChanged(self, old, current ):</span>
<span class="c1">#         self.backend.applicationFocusChanged()</span>

    <span class="k">def</span> <span class="nf">_set_user_actions_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkListElements</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="s1">&#39;user_actions_names&#39;</span><span class="p">,</span>
            <span class="n">value</span><span class="p">,</span>
            <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkString</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_actions_names</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_actions_names</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_get_user_actions_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_actions_names</span>
    <span class="n">user_actions_names</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">_get_user_actions_names</span><span class="p">,</span>
        <span class="n">_set_user_actions_names</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_user_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkListElements</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="s1">&#39;user_actions_names&#39;</span><span class="p">,</span>
            <span class="n">value</span><span class="p">,</span>
            <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkCallable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_actions_names</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_get_user_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span>
    <span class="n">user_actions</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_user_actions</span><span class="p">,</span> <span class="n">_set_user_actions</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setmode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkInt</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="s1">&#39;mode&#39;</span><span class="p">,</span>
            <span class="n">value</span><span class="p">,</span>
            <span class="n">minvalue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">maxvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_getmode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getmode</span><span class="p">,</span> <span class="n">_setmode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setwinfo_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkInt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;winfo_id&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_winfo_id</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_getwinfo_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_winfo_id</span>
    <span class="n">winfo_id</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getwinfo_id</span><span class="p">,</span> <span class="n">_setwinfo_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setvarglist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkListElements</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="s1">&#39;varglist&#39;</span><span class="p">,</span>
            <span class="n">value</span><span class="p">,</span>
            <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkCallable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_varglist</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_getvarglist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_varglist</span>
    <span class="n">varglist</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getvarglist</span><span class="p">,</span> <span class="n">_setvarglist</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setcanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Error, canvas is not an attribute you can set&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_getcanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canvas</span>
    <span class="n">canvas</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getcanvas</span><span class="p">,</span> <span class="n">_setcanvas</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setanimate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Error, animate is not an attribute you can set&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_getanimate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_animate</span>
    <span class="n">animate</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getanimate</span><span class="p">,</span> <span class="n">_setanimate</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setpausetime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkInt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;pause_time&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pause_time</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_getpausetime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pause_time</span>
    <span class="n">pause_time</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getpausetime</span><span class="p">,</span> <span class="n">_setpausetime</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setviewport</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                <span class="s2">&quot;viewport must be of type list and have four values ranging between [0,1].&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="mf">0.</span> <span class="o">&lt;=</span> <span class="n">value</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mf">1.</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                    <span class="s2">&quot;viewport must be of type list and have four values ranging between [0,1].&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_viewport</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_getviewport</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_viewport</span>
    <span class="n">viewport</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getviewport</span><span class="p">,</span> <span class="n">_setviewport</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setworldcoordinate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                <span class="s2">&quot;worldcoordinate must be of type list and have four values ranging between [0,1].&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worldcoordinate</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_getworldcoordinate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_worldcoordinate</span>
    <span class="n">worldcoordinate</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getworldcoordinate</span><span class="p">,</span> <span class="n">_setworldcoordinate</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setisplottinggridded</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;isplottinggridded must be boolean&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_isplottinggridded</span> <span class="o">=</span> <span class="n">value</span>  <span class="c1"># No check on this!</span>

    <span class="k">def</span> <span class="nf">_getisplottinggridded</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isplottinggridded</span>
    <span class="n">isplottinggridded</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getisplottinggridded</span><span class="p">,</span> <span class="n">_setisplottinggridded</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setanimate_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_animate_info</span> <span class="o">=</span> <span class="n">value</span>  <span class="c1"># No check on this!</span>

    <span class="k">def</span> <span class="nf">_getanimate_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_animate_info</span>
    <span class="n">animate_info</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getanimate_info</span><span class="p">,</span> <span class="n">_setanimate_info</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interact</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">interact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">interact</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_datawc_tv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tv</span><span class="p">,</span> <span class="n">arglist</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The graphics method&#39;s data world coordinates (i.e., datawc_x1, datawc_x2,</span>
<span class="sd">        datawc_y1, and datawc_y2) will override the incoming variable&#39;s coordinates.</span>
<span class="sd">        tv equals arglist[0] and assumed to be the first Variable. arglist[1] is</span>
<span class="sd">        assumed to be the second variable.&quot;&quot;&quot;</span>

        <span class="c1"># Determine the type of graphics method</span>
        <span class="n">nvar</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;boxfill&#39;</span><span class="p">:</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getboxfill</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;isofill&#39;</span><span class="p">:</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getisofill</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;isoline&#39;</span><span class="p">:</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getisoline</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;scatter&#39;</span><span class="p">:</span>
            <span class="n">nvar</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getscatter</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;vector&#39;</span><span class="p">:</span>
            <span class="n">nvar</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getvector</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xvsy&#39;</span><span class="p">:</span>
            <span class="n">nvar</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getxvsy</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xyvsy&#39;</span><span class="p">:</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getxyvsy</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;yxvsx&#39;</span><span class="p">:</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getyxvsx</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;taylor&#39;</span><span class="p">:</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gettaylor</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;meshfill&#39;</span><span class="p">:</span>
            <span class="n">gm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getmeshfill</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tv</span>

        <span class="c1"># Determine if the graphics method needs clipping</span>
        <span class="n">f32</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">1.e20</span><span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="n">set_new_x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">set_new_y</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">!=</span> <span class="n">f32</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">!=</span> <span class="n">f32</span><span class="p">):</span>
            <span class="n">set_new_x</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">!=</span> <span class="n">f32</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">!=</span> <span class="n">f32</span><span class="p">):</span>
            <span class="n">set_new_y</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">((</span><span class="n">set_new_x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">set_new_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;yxvsx&#39;</span><span class="p">):</span>
                <span class="n">tv</span> <span class="o">=</span> <span class="n">tv</span><span class="p">(</span><span class="n">longitude</span><span class="o">=</span><span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span><span class="p">,</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">nvar</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">](</span>
                        <span class="n">longitude</span><span class="o">=</span><span class="p">(</span>
                            <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span><span class="p">,</span>
                            <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span><span class="p">))</span>
            <span class="k">elif</span> <span class="p">((</span><span class="n">set_new_x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">set_new_y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xyvsy&#39;</span><span class="p">):</span>
                <span class="n">tv</span> <span class="o">=</span> <span class="n">tv</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span><span class="p">,</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">nvar</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">](</span>
                        <span class="n">latitude</span><span class="o">=</span><span class="p">(</span>
                            <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span><span class="p">,</span>
                            <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span><span class="p">))</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">set_new_x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">set_new_y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">tv</span> <span class="o">=</span> <span class="n">tv</span><span class="p">(</span>
                    <span class="n">latitude</span><span class="o">=</span><span class="p">(</span>
                        <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span><span class="p">,</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span><span class="p">),</span> <span class="n">longitude</span><span class="o">=</span><span class="p">(</span>
                        <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span><span class="p">,</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">nvar</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">](</span>
                        <span class="n">latitude</span><span class="o">=</span><span class="p">(</span>
                            <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span><span class="p">,</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span><span class="p">),</span> <span class="n">longitude</span><span class="o">=</span><span class="p">(</span>
                            <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span><span class="p">,</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="n">tv</span>

    <span class="k">def</span> <span class="nf">savecontinentstype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_savedcontinentstype</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">onClosing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cell</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endconfigure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">onClosing</span><span class="p">(</span><span class="n">cell</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_reconstruct_tv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Reconstruct a transient variable from the keyword arguments.</span>
<span class="sd">        Also select the default graphics method, depending on the grid type</span>
<span class="sd">        of the reconstructed variable. For meshfill, ravel the last two</span>
<span class="sd">        dimensions if necessary.</span>
<span class="sd">        arglist[0] is assumed to be a Variable.&quot;&quot;&quot;</span>

        <span class="n">ARRAY_1</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">ARRAY_2</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="c1"># TEMPLATE = 2</span>
        <span class="n">GRAPHICS_METHOD</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">GRAPHICS_OPTION</span> <span class="o">=</span> <span class="mi">4</span>

        <span class="n">origv</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="n">ARRAY_1</span><span class="p">]</span>

        <span class="c1"># Create copies of domain and attributes</span>
        <span class="n">variable</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;variable&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">variable</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">origv</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">variable</span><span class="p">)</span>
        <span class="n">tvdomain</span> <span class="o">=</span> <span class="n">origv</span><span class="o">.</span><span class="n">getDomain</span><span class="p">()</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">origv</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
        <span class="n">axislist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">clone</span><span class="p">(),</span> <span class="n">tvdomain</span><span class="p">))</span>

        <span class="c1"># Map keywords to dimension indices</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">rank</span> <span class="o">=</span> <span class="n">origv</span><span class="o">.</span><span class="n">ndim</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">rank</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">origv</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

        <span class="n">dimmap</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">dimmap</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xdim</span> <span class="o">=</span> <span class="n">rank</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">dimmap</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ydim</span> <span class="o">=</span> <span class="n">rank</span> <span class="o">-</span> <span class="mi">2</span>
        <span class="n">dimmap</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rank</span> <span class="o">-</span> <span class="mi">3</span>
        <span class="n">dimmap</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rank</span> <span class="o">-</span> <span class="mi">4</span>
        <span class="n">dimmap</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rank</span> <span class="o">-</span> <span class="mi">5</span>

        <span class="c1"># Process grid keyword</span>
        <span class="n">grid</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">grid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">xdim</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">ydim</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">grid</span><span class="o">.</span><span class="n">getOrder</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">grid</span><span class="o">.</span><span class="n">getOrder</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;yx&#39;</span><span class="p">:</span>
                <span class="n">axislist</span><span class="p">[</span><span class="n">xdim</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">getLongitude</span><span class="p">()</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                <span class="n">axislist</span><span class="p">[</span><span class="n">ydim</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">getLatitude</span><span class="p">()</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">axislist</span><span class="p">[</span><span class="n">xdim</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">getLatitude</span><span class="p">()</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                <span class="n">axislist</span><span class="p">[</span><span class="n">ydim</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">getLongitude</span><span class="p">()</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>

        <span class="c1"># Process axis keywords</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">arg</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span> <span class="o">+</span> <span class="s1">&#39;axis&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">axislist</span><span class="p">[</span><span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]]</span> <span class="o">=</span> <span class="n">arg</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>

        <span class="c1"># Process array keywords</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">arg</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span> <span class="o">+</span> <span class="s1">&#39;array&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">axis</span> <span class="o">=</span> <span class="n">axislist</span><span class="p">[</span><span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]]</span>
                <span class="n">axis</span> <span class="o">=</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">createAxis</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">axis</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="n">axis</span><span class="o">.</span><span class="n">setBounds</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">axislist</span><span class="p">[</span><span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]]</span> <span class="o">=</span> <span class="n">axis</span>

        <span class="c1"># Process bounds keywords</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">arg</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span> <span class="o">+</span> <span class="s1">&#39;bounds&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">axis</span> <span class="o">=</span> <span class="n">axislist</span><span class="p">[</span><span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]]</span>
                <span class="n">axis</span><span class="o">.</span><span class="n">setBounds</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

        <span class="c1"># Process axis name keywords</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">arg</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span> <span class="o">+</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">axis</span> <span class="o">=</span> <span class="n">axislist</span><span class="p">[</span><span class="n">dimmap</span><span class="p">[</span><span class="n">c</span><span class="p">]]</span>
                <span class="n">axis</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">arg</span>

        <span class="c1"># Create the internal tv</span>
        <span class="n">tv</span> <span class="o">=</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span>
            <span class="n">origv</span><span class="p">,</span>
            <span class="n">copy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">axes</span><span class="o">=</span><span class="n">axislist</span><span class="p">,</span>
            <span class="n">attributes</span><span class="o">=</span><span class="n">attrs</span><span class="p">)</span>
        <span class="n">grid</span> <span class="o">=</span> <span class="n">tv</span><span class="o">.</span><span class="n">getGrid</span><span class="p">()</span>

        <span class="n">isgridded</span> <span class="o">=</span> <span class="p">(</span><span class="n">grid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Set the default graphics method if not already set.</span>
        <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span> <span class="ow">or</span>\
                <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;boxfill&#39;</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">):</span>
                        <span class="c1"># See _determine_arg_list</span>

            <span class="k">if</span> <span class="n">grid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">tv</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;yxvsx&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;boxfill&#39;</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">AbstractRectGrid</span><span class="p">):</span>
                <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;boxfill&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">latbounds</span><span class="p">,</span> <span class="n">lonbounds</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">getBounds</span><span class="p">()</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">latbounds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">lonbounds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">):</span>
                        <span class="c1"># Plug in &#39;points&#39; graphics method here, with:</span>
                        <span class="c1">#   arglist[GRAPHICS_METHOD] = &#39;points&#39;</span>
                        <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                            <span class="s2">&quot;Cell boundary data is missing, cannot plot nonrectangular gridded data.&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;boxfill&#39;</span>
                <span class="k">else</span><span class="p">:</span>

                    <span class="c1"># tv has a nonrectilinear grid with bounds defined,</span>
                    <span class="c1"># so use meshfill. Create another default meshobject to hang</span>
                    <span class="c1"># keywords on, since the true &#39;default&#39; meshobject</span>
                    <span class="c1"># is immutable.</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;meshfill&#39;</span>

                    <span class="c1"># Get the mesh from the grid.</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">gridindices</span> <span class="o">=</span> <span class="n">tv</span><span class="o">.</span><span class="n">getGridIndices</span><span class="p">()</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="n">gridindices</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">mesh</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">getMesh</span><span class="p">(</span><span class="n">transpose</span><span class="o">=</span><span class="n">gridindices</span><span class="p">)</span>

                    <span class="c1"># mesh array needs to be mutable, so make it a tv.</span>
                    <span class="c1"># Normally this is done up front in _determine_arg_list.</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="n">ARRAY_2</span><span class="p">]</span> <span class="o">=</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">asVariable</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="n">meshobj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createmeshfill</span><span class="p">()</span>
                    <span class="n">meshobj</span><span class="o">.</span><span class="n">wrap</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">360.0</span><span class="p">]</span>  <span class="c1"># Wraparound</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_OPTION</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;__d_meshobj&#39;</span>

        <span class="c1"># IF Meshfill method and no mesh passed then try to get the mesh from</span>
        <span class="c1"># the object</span>
        <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;meshfill&#39;</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="n">ARRAY_2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Get the mesh from the grid.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">gridindices</span> <span class="o">=</span> <span class="n">tv</span><span class="o">.</span><span class="n">getGridIndices</span><span class="p">()</span>
                <span class="n">mesh</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">getMesh</span><span class="p">(</span><span class="n">transpose</span><span class="o">=</span><span class="n">gridindices</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">gridindices</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">mesh</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">getMesh</span><span class="p">()</span>

            <span class="c1"># mesh array needs to be mutable, so make it a tv.</span>
            <span class="c1"># Normally this is done up front in _determine_arg_list.</span>
            <span class="n">arglist</span><span class="p">[</span><span class="n">ARRAY_2</span><span class="p">]</span> <span class="o">=</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">asVariable</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_OPTION</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
                <span class="n">meshobj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createmeshfill</span><span class="p">()</span>
                <span class="n">meshobj</span><span class="o">.</span><span class="n">wrap</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">360.0</span><span class="p">]</span>  <span class="c1"># Wraparound</span>
                <span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_OPTION</span><span class="p">]</span> <span class="o">=</span> <span class="n">meshobj</span><span class="o">.</span><span class="n">name</span>

        <span class="c1"># Ravel the last two dimensions for meshfill if necessary</span>
        <span class="c1"># value to know if we&#39;re plotting a grided meshfill</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isplottinggridded</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">isgridded</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;meshfill&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">isplottinggridded</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># Process variable attributes</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;comment1&#39;</span><span class="p">,</span> <span class="s1">&#39;comment1&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;comment2&#39;</span><span class="p">,</span> <span class="s1">&#39;comment2&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;comment3&#39;</span><span class="p">,</span> <span class="s1">&#39;comment3&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;comment4&#39;</span><span class="p">,</span> <span class="s1">&#39;comment4&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;file_comment&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;hms&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;long_name&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">tv</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">tim</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tim</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">unicode</span><span class="p">)):</span>
                <span class="n">ctime</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">s2c</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">tim</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ctime</span> <span class="o">=</span> <span class="n">tim</span><span class="o">.</span><span class="n">tocomp</span><span class="p">()</span>
            <span class="n">tv</span><span class="o">.</span><span class="n">user_date</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ctime</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="n">_process_keyword</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;ymd&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
        <span class="c1"># If date has still not been set, try to get it from the first</span>
        <span class="c1"># time value if present</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;user_date&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span>
                <span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">):</span>
            <span class="n">change_date_time</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Draw continental outlines if specified.</span>
        <span class="n">contout</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;continents&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">contout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">xdim</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">ydim</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">tv</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="n">xdim</span><span class="p">)</span><span class="o">.</span><span class="n">isLongitude</span><span class="p">()</span> <span class="ow">and</span> <span class="n">tv</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="n">ydim</span><span class="p">)</span><span class="o">.</span><span class="n">isLatitude</span><span class="p">())</span> <span class="ow">or</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isplottinggridded</span><span class="p">):</span>
                <span class="n">contout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getcontinentstype</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">contout</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="n">GRAPHICS_METHOD</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;meshfill&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
                <span class="p">(</span><span class="n">xdim</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">ydim</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="n">contout</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setcontinentstype</span><span class="p">(</span><span class="n">contout</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">savecontinentstype</span><span class="p">(</span><span class="n">contout</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setcontinentstype</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">savecontinentstype</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Reverse axis direction if necessary</span>
        <span class="n">xrev</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xrev&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xrev</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">xdim</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">tv</span> <span class="o">=</span> <span class="n">tv</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># By default, latitudes on the y-axis are plotted S-N</span>
        <span class="c1"># levels on the y-axis are plotted with decreasing pressure</span>
        <span class="k">if</span> <span class="n">ydim</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">yrev</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;yrev&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">yrev</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">tv</span> <span class="o">=</span> <span class="n">tv</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>

<span class="c1">#  -- This s no longer needed since we are making a copy of the data.</span>
<span class="c1">#     We now apply the axes changes below in __plot. Dean and Charles keep</span>
<span class="c1">#     an eye opened for the errors concerning datawc in the VCS module.</span>
<span class="c1">#        tv = self._datawc_tv( tv, arglist )</span>
        <span class="k">return</span> <span class="n">tv</span>

<div class="viewcode-block" id="Canvas.objecthelp"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.objecthelp">[docs]</a>    <span class="k">def</span> <span class="nf">objecthelp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print out information on the VCS object. See example below on its use.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_objecthelp</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; ln=a.getline(&#39;red&#39;) # Get a VCS line object</span>
<span class="sd">                &gt;&gt;&gt; a.objecthelp(ln) # This will print out information on how to use ln</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">:</span>
            <span class="nb">print</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;__doc__&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pause_time</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">call_from_gui</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">&quot;vtk&quot;</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_canvas_id</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">next_canvas_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParameterChanged</span> <span class="o">=</span> <span class="n">SIGNAL</span><span class="p">(</span><span class="s1">&#39;ParameterChanged&#39;</span><span class="p">)</span>
        <span class="n">vcs</span><span class="o">.</span><span class="n">next_canvas_id</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backgroundcolor</span> <span class="o">=</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span>

        <span class="c1"># displays plotted</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ospath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PATH&quot;</span><span class="p">]</span>
        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ospath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;bin&quot;</span><span class="p">):</span>
                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>
        <span class="k">if</span> <span class="n">found</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PATH&quot;</span><span class="p">]</span> <span class="o">+</span> \
                <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;bin&quot;</span><span class="p">)</span>
        <span class="k">global</span> <span class="n">gui_canvas_closed</span>
        <span class="k">global</span> <span class="n">canvas_closed</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">winfo_id</span> <span class="o">=</span> <span class="o">-</span><span class="mi">99</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">varglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isplottinggridded</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">psize</span> <span class="o">=</span> <span class="mf">1.2941176470588236</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="n">psize</span> <span class="o">=</span> <span class="n">size</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">size</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;letter&#39;</span><span class="p">,</span> <span class="s1">&#39;usletter&#39;</span><span class="p">]:</span>
                <span class="n">psize</span> <span class="o">=</span> <span class="n">size</span> <span class="o">=</span> <span class="mf">1.2941176470588236</span>
            <span class="k">elif</span> <span class="n">size</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;a4&#39;</span><span class="p">,</span> <span class="p">]:</span>
                <span class="n">psize</span> <span class="o">=</span> <span class="n">size</span> <span class="o">=</span> <span class="mf">1.4142857142857141</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Unknown size: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">size</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Unknown size: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">psize</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_animate_info</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pause_time</span> <span class="o">=</span> <span class="n">pause_time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_canvas</span> <span class="o">=</span> <span class="n">vcs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewport</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worldcoordinate</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dotdir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dotdirenv</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getdotdirectory</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">drawLogo</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enableLogo</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">geometry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Extract width and height, create dict</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span> <span class="o">==</span> <span class="nb">dict</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">geometry</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unexpected key </span><span class="si">%s</span><span class="s2"> in geometry&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>

                <span class="n">width</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="n">height</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

                <span class="n">check_vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
                <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkListOfNumbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;geometry&#39;</span><span class="p">,</span> <span class="n">check_vals</span><span class="p">,</span>
                                                            <span class="n">minvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">minelements</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">maxelements</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkListOfNumbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;geometry&#39;</span><span class="p">,</span> <span class="n">geometry</span><span class="p">,</span>
                                                                            <span class="n">minvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">minelements</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                                                            <span class="n">maxelements</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;geometry should be list, tuple, or dict&quot;</span><span class="p">)</span>
            <span class="n">geometry</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="n">width</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="n">height</span><span class="p">}</span>

        <span class="k">if</span> <span class="n">geometry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">bg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bgX</span> <span class="o">=</span> <span class="n">geometry</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bgY</span> <span class="o">=</span> <span class="n">geometry</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># default size for bg</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bgX</span> <span class="o">=</span> <span class="mi">814</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bgY</span> <span class="o">=</span> <span class="mi">606</span>

        <span class="k">if</span> <span class="n">backend</span> <span class="o">==</span> <span class="s2">&quot;vtk&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">=</span> <span class="n">VTKVCSBackend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="n">geometry</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="n">bg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">backend</span><span class="p">,</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkRenderWindow</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">=</span> <span class="n">VTKVCSBackend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renWin</span><span class="o">=</span><span class="n">backend</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="n">bg</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Unknown backend type: &#39;</span><span class="si">%s</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">Assiging &#39;as is&#39; to &quot;</span>
                <span class="s2">&quot;backend, no warranty about anything working from this point on&quot;</span> <span class="o">%</span>
                <span class="n">backend</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">=</span> <span class="n">backend</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_animate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">Animate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setcontinentsline</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setcontinentstype</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Initial.attributes is being called in main.c, so it is not needed here!</span>
<span class="c1"># Actually it is for taylordiagram graphic methods....</span>
<span class="c1">#  Okay, then this is redundant since it is done in main.c. When time perments, put the</span>
<span class="c1">#  taylordiagram graphic methods attributes in main.c Because this is here we must check</span>
<span class="c1">#  to make sure that the initial attributes file is called only once for normalization</span>
<span class="c1">#  purposes....</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_template_editor</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ratio</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_actions_names</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;Clear Canvas&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Close Canvas&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Show arguments passsed to user action&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_actions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clear</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dummy_user_action</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">display</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_names</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;display&quot;</span><span class="p">][</span><span class="n">display</span><span class="p">]</span>
            <span class="k">if</span> <span class="s2">&quot;3d&quot;</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">g_type</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="k">return</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span> <span class="o">=</span> <span class="n">configurator</span><span class="o">.</span><span class="n">Configurator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">endconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">processParameterChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParameterChanged</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="c1"># Functions to set/querie drawing of UV-CDAT logo</span>
<div class="viewcode-block" id="Canvas.drawlogoon"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.drawlogoon">[docs]</a>    <span class="k">def</span> <span class="nf">drawlogoon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Show UV-CDAT logo on the canvas</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_drawlogoon</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.drawlogoon()</span>
<span class="sd">                &gt;&gt;&gt; a.getdrawlogo()</span>
<span class="sd">                True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enableLogo</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Canvas.drawlogooff"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.drawlogooff">[docs]</a>    <span class="k">def</span> <span class="nf">drawlogooff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Hide UV-CDAT logo on the canvas</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_drawlogooff</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.drawlogooff()</span>
<span class="sd">                &gt;&gt;&gt; a.getdrawlogo()</span>
<span class="sd">                False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enableLogo</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Canvas.getdrawlogo"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getdrawlogo">[docs]</a>    <span class="k">def</span> <span class="nf">getdrawlogo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns value of draw logo. By default, draw logo is set to True.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_getdrawlogo</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.getdrawlogo()</span>
<span class="sd">                True</span>
<span class="sd">                &gt;&gt;&gt; a.drawlogooff()</span>
<span class="sd">                &gt;&gt;&gt; a.getdrawlogo()</span>
<span class="sd">                False</span>

<span class="sd">        :returns: Boolean value of system variable which indicates whether logo will be drawn</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">enableLogo</span></div>

    <span class="k">def</span> <span class="nf">initLogoDrawing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">drawLogo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enableLogo</span>

<div class="viewcode-block" id="Canvas.update"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.update">[docs]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If a series of commands are given to VCS and the Canvas Mode is</span>
<span class="sd">        set to manual, then use this function to update the plot(s)</span>
<span class="sd">        manually.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_update</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; import cdms2 # We need cdms2 to create a slab</span>
<span class="sd">                &gt;&gt;&gt; f = cdms2.open(vcs.sample_data+&#39;/clt.nc&#39;) # use cdms2 to open a data file</span>
<span class="sd">                &gt;&gt;&gt; s = f(&#39;clt&#39;) # use the data file to create a slab</span>
<span class="sd">                &gt;&gt;&gt; a.plot(s,&#39;default&#39;,&#39;boxfill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.mode = 0 # Go to manual mode</span>
<span class="sd">                &gt;&gt;&gt; box=a.getboxfill(&#39;quick&#39;)</span>
<span class="sd">                &gt;&gt;&gt; box.color_1=100</span>
<span class="sd">                &gt;&gt;&gt; box.xticlabels(&#39;lon30&#39;,&#39;lon30&#39;)</span>
<span class="sd">                &gt;&gt;&gt; box.xticlabels(&#39;&#39;,&#39;&#39;)</span>
<span class="sd">                &gt;&gt;&gt; box.datawc(1e20,1e20,1e20,1e20)</span>
<span class="sd">                &gt;&gt;&gt; box.datawc(-45.0, 45.0, -90.0, 90.0)</span>
<span class="sd">                &gt;&gt;&gt; a.update() # Update the changes manually</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.scriptobject"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.scriptobject">[docs]</a>    <span class="k">def</span> <span class="nf">scriptobject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save individual attributes sets (i.e., individual primary class</span>
<span class="sd">        objects and/or secondary class objects). These attribute sets</span>
<span class="sd">        are saved in the user&#39;s current directory in one of two formats:</span>
<span class="sd">        Python script, or a Javascript Object.</span>

<span class="sd">        .. note::</span>

<span class="sd">            If the the filename has a &quot;.py&quot; at the end, it will produce a</span>
<span class="sd">            Python script. If the filename has a &quot;.scr&quot; at the end, it will</span>
<span class="sd">            produce a VCS script. If neither extensions are given, then by</span>
<span class="sd">            default a Javascript Object will be produced.</span>

<span class="sd">        .. attention::</span>

<span class="sd">            VCS does not allow the modification of &#39;default&#39; attribute sets,</span>
<span class="sd">            it will not allow them to be saved as individual script files.</span>
<span class="sd">            However, a &#39;default&#39; attribute set that has been copied under a</span>
<span class="sd">            different name can be saved as a script file.</span>

<span class="sd">        .. admonition:: VCS Scripts Deprecated</span>

<span class="sd">            SCR scripts are no longer generated by this function</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_scriptobject</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; i=a.createisoline(&#39;dean&#39;) # Create an instance of default isoline object</span>
<span class="sd">                &gt;&gt;&gt; a.scriptobject(i,&#39;ex_isoline.py&#39;) # Save isoline object as a Python file &#39;isoline.py&#39;</span>
<span class="sd">                &gt;&gt;&gt; a.scriptobject(i,&#39;ex_isoline2&#39;) # Save isoline object as a JSON object &#39;isoline2.json&#39;</span>

<span class="sd">        :param script_filename: Name of the output script file.</span>
<span class="sd">        :type script_filename: str</span>

<span class="sd">        :param mode: Mode is either &quot;w&quot; for replace or &quot;a&quot; for append.</span>
<span class="sd">        :type mode: str</span>

<span class="sd">        :param obj: Any VCS primary class or secondary class object.</span>
<span class="sd">        :type obj: VCS object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">istemplate</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="n">template</span><span class="o">.</span><span class="n">P</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">isgraphicsmethod</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;Gfb&#39;</span><span class="p">):</span>
                <span class="n">boxfill</span><span class="o">.</span><span class="n">Gfb</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;Gfi&#39;</span><span class="p">):</span>
                <span class="n">isofill</span><span class="o">.</span><span class="n">Gfi</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;Gi&#39;</span><span class="p">):</span>
                <span class="n">isoline</span><span class="o">.</span><span class="n">Gi</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;GXy&#39;</span><span class="p">):</span>
                <span class="n">xyvsy</span><span class="o">.</span><span class="n">GXy</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;GYx&#39;</span><span class="p">):</span>
                <span class="n">yxvsx</span><span class="o">.</span><span class="n">GYx</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;GXY&#39;</span><span class="p">):</span>
                <span class="n">xvsy</span><span class="o">.</span><span class="n">GXY</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;Gv&#39;</span><span class="p">):</span>
                <span class="n">vector</span><span class="o">.</span><span class="n">Gv</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;GSp&#39;</span><span class="p">):</span>
                <span class="n">scatter</span><span class="o">.</span><span class="n">GSp</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;Gtd&#39;</span><span class="p">):</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;Gfm&#39;</span><span class="p">):</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span> <span class="s1">&#39;Could not find the correct graphics class object.&#39;</span>
        <span class="k">elif</span> <span class="n">issecondaryobject</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">s_name</span> <span class="o">==</span> <span class="s1">&#39;Tl&#39;</span><span class="p">):</span>
                <span class="n">line</span><span class="o">.</span><span class="n">Tl</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">s_name</span> <span class="o">==</span> <span class="s1">&#39;Tm&#39;</span><span class="p">):</span>
                <span class="n">marker</span><span class="o">.</span><span class="n">Tm</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">s_name</span> <span class="o">==</span> <span class="s1">&#39;Tf&#39;</span><span class="p">):</span>
                <span class="n">fillarea</span><span class="o">.</span><span class="n">Tf</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">s_name</span> <span class="o">==</span> <span class="s1">&#39;Tt&#39;</span><span class="p">):</span>
                <span class="n">texttable</span><span class="o">.</span><span class="n">Tt</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">s_name</span> <span class="o">==</span> <span class="s1">&#39;To&#39;</span><span class="p">):</span>
                <span class="n">textorientation</span><span class="o">.</span><span class="n">To</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">s_name</span> <span class="o">==</span> <span class="s1">&#39;Tc&#39;</span><span class="p">):</span>
                <span class="n">textcombined</span><span class="o">.</span><span class="n">Tc</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">s_name</span> <span class="o">==</span> <span class="s1">&#39;Proj&#39;</span><span class="p">):</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">script_filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span> <span class="s1">&#39;Could not find the correct secondary class object.&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span> <span class="s1">&#39;This is not a template, graphics method or secondary method object.&#39;</span></div>

<div class="viewcode-block" id="Canvas.removeobject"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.removeobject">[docs]</a>    <span class="k">def</span> <span class="nf">removeobject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">removeobject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>
    <span class="n">removeobject</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">removeobject</span><span class="o">.</span><span class="n">__doc__</span>  <span class="c1"># noqa</span>

    <span class="k">def</span> <span class="nf">removeP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">removeP</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.clean_auto_generated_objects"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.clean_auto_generated_objects">[docs]</a>    <span class="k">def</span> <span class="nf">clean_auto_generated_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cleans up all automatically generated VCS objects.</span>

<span class="sd">        This function will delete all references to objects that</span>
<span class="sd">        VCS created automatically in response to user actions but are</span>
<span class="sd">        no longer in use. This shouldn&#39;t be necessary most of the time,</span>
<span class="sd">        but if you&#39;re running into performance/memory issues, calling it</span>
<span class="sd">        periodically may help.</span>

<span class="sd">        :param type: Type of objects to remove. By default, will remove everything.</span>
<span class="sd">        :type type: None, str, list/tuple (of str)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">listelements</span><span class="p">()</span>
            <span class="nb">type</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;fontNumber&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">unicode</span><span class="p">)):</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="p">[</span><span class="nb">type</span><span class="p">,</span> <span class="p">]</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">objtype</span> <span class="ow">in</span> <span class="nb">type</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listelements</span><span class="p">(</span><span class="n">objtype</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">obj</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;__&quot;</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">exec</span><span class="p">(</span><span class="s2">&quot;o = self.get</span><span class="si">%s</span><span class="s2">(obj)&quot;</span> <span class="o">%</span> <span class="n">objtype</span><span class="p">)</span>
                        <span class="n">destroy</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">if</span> <span class="n">objtype</span> <span class="o">==</span> <span class="s1">&#39;template&#39;</span><span class="p">:</span>
                            <span class="c1"># print o.name</span>
                            <span class="n">dnames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">return_display_names</span><span class="p">()</span>
                            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dnames</span><span class="p">:</span>
                                <span class="n">dpy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getplot</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
                                <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">[</span>
                                        <span class="n">dpy</span><span class="o">.</span><span class="n">template</span><span class="p">,</span> <span class="n">dpy</span><span class="o">.</span><span class="n">_template_origin</span><span class="p">]:</span>
                                    <span class="n">destroy</span> <span class="o">=</span> <span class="kc">False</span>
                                    <span class="k">break</span>
                        <span class="k">if</span> <span class="n">destroy</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">removeobject</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="k">pass</span>

        <span class="k">return</span></div>

<div class="viewcode-block" id="Canvas.check_name_source"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.check_name_source">[docs]</a>    <span class="k">def</span> <span class="nf">check_name_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">typ</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">check_name_source</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">typ</span><span class="p">)</span></div>
    <span class="n">check_name_source</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">check_name_source</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.createtemplate"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createtemplate">[docs]</a>    <span class="k">def</span> <span class="nf">createtemplate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createtemplate</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createtemplate</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.gettemplate"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.gettemplate">[docs]</a>    <span class="k">def</span> <span class="nf">gettemplate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Pt_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">gettemplate</span><span class="p">(</span><span class="n">Pt_name_src</span><span class="p">)</span></div>
    <span class="n">gettemplate</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">gettemplate</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.createprojection"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createprojection">[docs]</a>    <span class="k">def</span> <span class="nf">createprojection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createprojection</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createprojection</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createprojection</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getprojection"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getprojection">[docs]</a>    <span class="k">def</span> <span class="nf">getprojection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Proj_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getprojection</span><span class="p">(</span><span class="n">Proj_name_src</span><span class="p">)</span></div>
    <span class="n">getprojection</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getprojection</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.createboxfill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createboxfill">[docs]</a>    <span class="k">def</span> <span class="nf">createboxfill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createboxfill</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createboxfill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createboxfill</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getboxfill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getboxfill">[docs]</a>    <span class="k">def</span> <span class="nf">getboxfill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gfb_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getboxfill</span><span class="p">(</span><span class="n">Gfb_name_src</span><span class="p">)</span></div>
    <span class="n">getboxfill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getboxfill</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.boxfill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.boxfill">[docs]</a>    <span class="k">def</span> <span class="nf">boxfill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a boxfill plot given the data, boxfill graphics method, and</span>
<span class="sd">        template. If no boxfill class object is given, then the &#39;default&#39; boxfill</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>



<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_boxfill</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;boxfill&#39;) # Show all the existing boxfill graphics methods</span>
<span class="sd">                *******************Boxfill Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Boxfill Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; box=a.getboxfill(&#39;quick&#39;) # Create instance of &#39;quick&#39;</span>
<span class="sd">                &gt;&gt;&gt; array=[range(10) for _ in range(10)]</span>
<span class="sd">                &gt;&gt;&gt; a.boxfill(array, box) # Plot array using specified box and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; template = a.gettemplate(&#39;quick&#39;) # get quick template</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; a.boxfill(array, box, template) # Plot array using specified box and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.boxfill(box, array, template) # Plot array using specified box and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.boxfill(template, array, box) # Plot array using specified box and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.boxfill(template, box, array) # Plot array using specified box and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.boxfill(array, &#39;hovmuller&#39;, &#39;quick&#39;) # Use &#39;hovmuller&#39; template and &#39;quick&#39; boxfill</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.boxfill(&#39;hovmuller&#39;, array, &#39;quick&#39;) # Use &#39;hovmuller&#39; template and &#39;quick&#39; boxfill</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.boxfill(&#39;hovmuller&#39;, &#39;quick&#39;, array) # Use &#39;hovmuller template and &#39;quick&#39; boxfill</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">            .. note::</span>

<span class="sd">                As shown above, the array, &#39;template&#39;, and &#39;box&#39; parameters can be provided in any order.</span>
<span class="sd">                The &#39;template&#39; and &#39;box&#39; parameters can either be VCS template and boxfill objects,</span>
<span class="sd">                or string names of template and boxfill objects.</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;boxfill&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>
    <span class="n">boxfill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">boxfill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">%</span> <span class="p">(</span>
        <span class="n">plot_keywords_doc</span><span class="p">,</span> <span class="n">graphics_method_core</span><span class="p">,</span> <span class="n">axesconvert</span><span class="p">,</span> <span class="n">plot_2D_input</span><span class="p">,</span> <span class="n">plot_output</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.createtaylordiagram"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createtaylordiagram">[docs]</a>    <span class="k">def</span> <span class="nf">createtaylordiagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtaylordiagram</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createtaylordiagram</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createtaylordiagram</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.gettaylordiagram"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.gettaylordiagram">[docs]</a>    <span class="k">def</span> <span class="nf">gettaylordiagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gtd_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">gettaylordiagram</span><span class="p">(</span><span class="n">Gtd_name_src</span><span class="p">)</span></div>
    <span class="n">gettaylordiagram</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">gettaylordiagram</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.taylordiagram"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.taylordiagram">[docs]</a>    <span class="k">def</span> <span class="nf">taylordiagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a taylordiagram plot given the data, taylordiagram graphics method, and</span>
<span class="sd">        template. If no taylordiagram class object is given, then the &#39;default&#39; taylordiagram</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_taylordiagram</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;taylordiagram&#39;) # Show all the existing taylordiagram graphics methods</span>
<span class="sd">                *******************Taylordiagram Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Taylordiagram Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; td= a.gettaylordiagram() # Create instance of &#39;default&#39;</span>
<span class="sd">                &gt;&gt;&gt; array=[range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.taylordiagram(array,td) # Plot array using specified iso and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; template=a.gettemplate(&#39;hovmuller&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.taylordiagram(array,td,template) # Plot array using specified iso and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;taylordiagram&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.createmeshfill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createmeshfill">[docs]</a>    <span class="k">def</span> <span class="nf">createmeshfill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createmeshfill</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createmeshfill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createmeshfill</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getmeshfill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getmeshfill">[docs]</a>    <span class="k">def</span> <span class="nf">getmeshfill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gfm_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getmeshfill</span><span class="p">(</span><span class="n">Gfm_name_src</span><span class="p">)</span></div>
    <span class="n">getmeshfill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getmeshfill</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.meshfill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.meshfill">[docs]</a>    <span class="k">def</span> <span class="nf">meshfill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a meshfill plot given the data, the mesh, a meshfill graphics method, and</span>
<span class="sd">        a template. If no meshfill class object is given, then the &#39;default&#39; meshfill</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        Format:</span>
<span class="sd">        This function expects 1D data (any extra dimension will be used for animation)</span>
<span class="sd">        In addition the mesh array must be of the same shape than data with 2 additional dimension</span>
<span class="sd">        representing the vertices coordinates for the Y (0) and X (1) dimension</span>
<span class="sd">        Let&#39;s say you want to plot a spatial assuming mesh containing 10,000 grid cell, then data must be shape (10000,)</span>
<span class="sd">        or (n1,n2,n3,...,10000) if additional dimensions exist (ex time,level), these dimension would be used only</span>
<span class="sd">        for animation and will be ignored in the rest of this example.</span>
<span class="sd">        The shape of the mesh, assuming 4 vertices per grid cell, must be (1000,2,4), where the array [:,0,:]</span>
<span class="sd">        represent the Y coordinates of the vertices (clockwise or counterclockwise) and the array [:,1:]</span>
<span class="sd">        represents the X coordinates of the vertices (the same clockwise/counterclockwise than the Y coordinates)</span>
<span class="sd">        In brief you&#39;d have:</span>
<span class="sd">        data.shape=(10000,)</span>
<span class="sd">        mesh.shape=(10000,2,4)</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_meshfill</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;meshfill&#39;) # Show all the existing meshfill graphics methods</span>
<span class="sd">                *******************Meshfill Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Meshfill Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; import cdms2 # Need cdms2 to create a slab</span>
<span class="sd">                &gt;&gt;&gt; f = cdms2.open(vcs.sample_data+&#39;/clt.nc&#39;) # use cdms2 to open a data file</span>
<span class="sd">                &gt;&gt;&gt; slab = f(&#39;clt&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; mesh=a.getmeshfill() # Create instance of &#39;default&#39;</span>
<span class="sd">                &gt;&gt;&gt; a.meshfill(slab,mesh) # Plot array using specified mesh and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; a.meshfill(slab,mesh,&#39;quick&#39;,&#39;a_polar_meshfill&#39;)  # Plot slab with polar mesh, quick template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;meshfill&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.create3d_scalar"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.create3d_scalar">[docs]</a>    <span class="k">def</span> <span class="nf">create3d_scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">create3d_scalar</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>

    <span class="n">create3d_scalar</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">create3d_scalar</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.get3d_scalar"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.get3d_scalar">[docs]</a>    <span class="k">def</span> <span class="nf">get3d_scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gfdv3d_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">get3d_scalar</span><span class="p">(</span><span class="n">Gfdv3d_name_src</span><span class="p">)</span></div>
    <span class="n">get3d_scalar</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">get3d_scalar</span><span class="o">.</span><span class="n">__doc__</span>

    <span class="k">def</span> <span class="nf">scalar3d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;3d_scalar&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.create3d_vector"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.create3d_vector">[docs]</a>    <span class="k">def</span> <span class="nf">create3d_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">create3d_vector</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>

    <span class="n">create3d_vector</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">create3d_vector</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.get3d_vector"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.get3d_vector">[docs]</a>    <span class="k">def</span> <span class="nf">get3d_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gfdv3d_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">get3d_vector</span><span class="p">(</span><span class="n">Gfdv3d_name_src</span><span class="p">)</span></div>
    <span class="n">get3d_vector</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">get3d_vector</span><span class="o">.</span><span class="n">__doc__</span>

    <span class="k">def</span> <span class="nf">vector3d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;3d_vector&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.create3d_dual_scalar"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.create3d_dual_scalar">[docs]</a>    <span class="k">def</span> <span class="nf">create3d_dual_scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">create3d_dual_scalar</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>

    <span class="n">create3d_dual_scalar</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">create3d_dual_scalar</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.get3d_dual_scalar"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.get3d_dual_scalar">[docs]</a>    <span class="k">def</span> <span class="nf">get3d_dual_scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gfdv3d_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">get3d_dual_scalar</span><span class="p">(</span><span class="n">Gfdv3d_name_src</span><span class="p">)</span></div>
    <span class="n">get3d_dual_scalar</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">get3d_dual_scalar</span><span class="o">.</span><span class="n">__doc__</span>

    <span class="k">def</span> <span class="nf">dual_scalar3d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;3d_dual_scalar&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.createisofill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createisofill">[docs]</a>    <span class="k">def</span> <span class="nf">createisofill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createisofill</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createisofill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createisofill</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getisofill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getisofill">[docs]</a>    <span class="k">def</span> <span class="nf">getisofill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gfi_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getisofill</span><span class="p">(</span><span class="n">Gfi_name_src</span><span class="p">)</span></div>
    <span class="n">getisofill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getisofill</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.isofill"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.isofill">[docs]</a>    <span class="k">def</span> <span class="nf">isofill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a isofill plot given the data, isofill graphics method, and</span>
<span class="sd">        template. If no isofill class object is given, then the &#39;default&#39; isofill</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_isofill</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;isofill&#39;) # Show all the existing isofill graphics methods</span>
<span class="sd">                *******************Isofill Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Isofill Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; iso=a.getisofill(&#39;quick&#39;) # Create instance of &#39;quick&#39;</span>
<span class="sd">                &gt;&gt;&gt; import cdms2 # Need cdms2 to create a slab</span>
<span class="sd">                &gt;&gt;&gt; f = cdms2.open(vcs.sample_data+&#39;/clt.nc&#39;) # use cdms2 to open a data file</span>
<span class="sd">                &gt;&gt;&gt; slab = f(&#39;clt&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; a.isofill(slab,iso) # Plot array using specified iso and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; template = a.gettemplate(&#39;hovmuller&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.isofill(slab,iso,template) # Plot array using specified iso and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;isofill&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>
    <span class="n">isofill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">isofill</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">%</span> <span class="p">(</span>
        <span class="n">plot_keywords_doc</span><span class="p">,</span> <span class="n">graphics_method_core</span><span class="p">,</span> <span class="n">axesconvert</span><span class="p">,</span> <span class="n">plot_2D_input</span><span class="p">,</span> <span class="n">plot_output</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.createisoline"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createisoline">[docs]</a>    <span class="k">def</span> <span class="nf">createisoline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createisoline</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createisoline</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createisoline</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getisoline"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getisoline">[docs]</a>    <span class="k">def</span> <span class="nf">getisoline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gi_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getisoline</span><span class="p">(</span><span class="n">Gi_name_src</span><span class="p">)</span></div>
    <span class="n">getisoline</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getisoline</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.isoline"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.isoline">[docs]</a>    <span class="k">def</span> <span class="nf">isoline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a isoline plot given the data, isoline graphics method, and</span>
<span class="sd">        template. If no isoline class object is given, then the &#39;default&#39; isoline</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_isoline</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;isoline&#39;) # Show all the existing isoline graphics methods</span>
<span class="sd">                *******************Isoline Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Isoline Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; iso=a.getisoline(&#39;quick&#39;) # Create instance of &#39;quick&#39;</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.isoline(array,iso) # Plot array using specified iso and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; template = a.gettemplate(&#39;hovmuller&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.isoline(array,iso,template)  # Plot array using specified iso and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;isoline&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>
    <span class="n">isoline</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">isoline</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">%</span> <span class="p">(</span>
        <span class="n">plot_keywords_doc</span><span class="p">,</span> <span class="n">graphics_method_core</span><span class="p">,</span> <span class="n">axesconvert</span><span class="p">,</span> <span class="n">plot_2D_input</span><span class="p">,</span> <span class="n">plot_output</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">create1d</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>
    <span class="n">create1d</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">create1d</span><span class="o">.</span><span class="n">__doc__</span>

    <span class="k">def</span> <span class="nf">get1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">get1d</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">create1d</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">create1d</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.createxyvsy"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createxyvsy">[docs]</a>    <span class="k">def</span> <span class="nf">createxyvsy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createxyvsy</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createxyvsy</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createxyvsy</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getxyvsy"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getxyvsy">[docs]</a>    <span class="k">def</span> <span class="nf">getxyvsy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GXy_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getxyvsy</span><span class="p">(</span><span class="n">GXy_name_src</span><span class="p">)</span></div>
    <span class="n">getxyvsy</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getxyvsy</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.xyvsy"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.xyvsy">[docs]</a>    <span class="k">def</span> <span class="nf">xyvsy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a Xyvsy plot given the data, Xyvsy graphics method, and</span>
<span class="sd">        template. If no Xyvsy class object is given, then the &#39;default&#39; Xyvsy</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_xyvsy</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;xyvsy&#39;) # Show all the existing Xyvsy graphics methods</span>
<span class="sd">                *******************Xyvsy Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Xyvsy Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; xyy=a.getxyvsy(&#39;default_xyvsy_&#39;) # Create instance of default xyvsy</span>
<span class="sd">                &gt;&gt;&gt; array=[range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.xyvsy(array,xyy) # Plot array using specified xyy and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; template=a.gettemplate(&#39;hovmuller&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.xyvsy(array,xyy,template) # Plot array using specified xyy and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;xyvsy&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>
    <span class="n">xyvsy</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">xyvsy</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">%</span> <span class="p">(</span>
        <span class="n">plot_keywords_doc</span><span class="p">,</span> <span class="n">graphics_method_core</span><span class="p">,</span> <span class="n">xaxisconvert</span><span class="p">,</span> <span class="n">plot_1D_input</span><span class="p">,</span> <span class="n">plot_output</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.createyxvsx"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createyxvsx">[docs]</a>    <span class="k">def</span> <span class="nf">createyxvsx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createyxvsx</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createyxvsx</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createyxvsx</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getyxvsx"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getyxvsx">[docs]</a>    <span class="k">def</span> <span class="nf">getyxvsx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GYx_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getyxvsx</span><span class="p">(</span><span class="n">GYx_name_src</span><span class="p">)</span></div>
    <span class="n">getyxvsx</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getyxvsx</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.yxvsx"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.yxvsx">[docs]</a>    <span class="k">def</span> <span class="nf">yxvsx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a Yxvsx plot given the data, Yxvsx graphics method, and</span>
<span class="sd">        template. If no Yxvsx class object is given, then the &#39;default&#39; Yxvsx</span>
<span class="sd">        graphics method is used. Simerly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_yxvsx</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;yxvsx&#39;) # Show all the existing Yxvsx graphics methods</span>
<span class="sd">                *******************Yxvsx Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Yxvsx Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; yxx=a.getyxvsx(&#39;default_yxvsx_&#39;) # Create instance of default yxvsx</span>
<span class="sd">                &gt;&gt;&gt; array=[range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.yxvsx(array,yxx) # Plot array using specified yxx and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; template=a.gettemplate(&#39;hovmuller&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.yxvsx(array,yxx,template) # Plot array using specified yxx and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;yxvsx&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>
    <span class="n">yxvsx</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">yxvsx</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">%</span> <span class="p">(</span>
        <span class="n">plot_keywords_doc</span><span class="p">,</span> <span class="n">graphics_method_core</span><span class="p">,</span> <span class="n">xaxisconvert</span><span class="p">,</span> <span class="n">plot_1D_input</span><span class="p">,</span> <span class="n">plot_output</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.createxvsy"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createxvsy">[docs]</a>    <span class="k">def</span> <span class="nf">createxvsy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createxvsy</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createxvsy</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createxvsy</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getxvsy"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getxvsy">[docs]</a>    <span class="k">def</span> <span class="nf">getxvsy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GXY_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getxvsy</span><span class="p">(</span><span class="n">GXY_name_src</span><span class="p">)</span></div>
    <span class="n">getxvsy</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getxvsy</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.xvsy"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.xvsy">[docs]</a>    <span class="k">def</span> <span class="nf">xvsy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a XvsY plot given the data, XvsY graphics method, and</span>
<span class="sd">        template. If no XvsY class object is given, then the &#39;default&#39; XvsY</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_xvsy</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;xvsy&#39;) # Show all the existing XvsY graphics methods</span>
<span class="sd">                *******************Xvsy Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Xvsy Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; xy=a.getxvsy(&#39;default_xvsy_&#39;) # Create instance of default xvsy</span>
<span class="sd">                &gt;&gt;&gt; import cdms2 # Need cdms2 to create a slab</span>
<span class="sd">                &gt;&gt;&gt; f = cdms2.open(vcs.sample_data+&#39;/clt.nc&#39;) # use cdms2 to open a data file</span>
<span class="sd">                &gt;&gt;&gt; slab1 = f(&#39;u&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; slab2 = f(&#39;v&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; a.xvsy(slab1,slab2,xy) # Plot array using specified xy and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; template=a.gettemplate(&#39;hovmuller&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.xvsy(slab1,slab2,xy,template) # Plot array using specified xy and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;xvsy&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>
    <span class="n">xvsy</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">xvsy</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">%</span> <span class="p">(</span><span class="n">plot_keywords_doc</span><span class="p">,</span>
                                   <span class="n">graphics_method_core</span><span class="p">,</span>
                                   <span class="n">axesconvert</span><span class="p">,</span>
                                   <span class="n">plot_2_1D_input</span><span class="p">,</span>
                                   <span class="n">plot_output</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.createvector"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createvector">[docs]</a>    <span class="k">def</span> <span class="nf">createvector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createvector</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createvector</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createvector</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getvector"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getvector">[docs]</a>    <span class="k">def</span> <span class="nf">getvector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Gv_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getvector</span><span class="p">(</span><span class="n">Gv_name_src</span><span class="p">)</span></div>
    <span class="n">getvector</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getvector</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.vector"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.vector">[docs]</a>    <span class="k">def</span> <span class="nf">vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a vector plot given the data, vector graphics method, and</span>
<span class="sd">        template. If no vector class object is given, then the &#39;default&#39; vector</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_vector</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;vector&#39;) # Show all the existing vector graphics methods</span>
<span class="sd">                *******************Vector Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Vector Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; import cdms2 # Need cdms2 to create a slab</span>
<span class="sd">                &gt;&gt;&gt; f = cdms2.open(vcs.sample_data+&#39;/clt.nc&#39;) # use cdms2 to open a data file</span>
<span class="sd">                &gt;&gt;&gt; slab1 = f(&#39;u&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; slab2 = f(&#39;v&#39;) # vector needs 2 slabs, so get another</span>
<span class="sd">                &gt;&gt;&gt; a.vector(slab1, slab2) # plot vector using slab and default vector</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; template=a.gettemplate(&#39;hovmuller&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.vector(slab1, slab2, template) # Plot array using default vector and specified template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;vector&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.createscatter"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createscatter">[docs]</a>    <span class="k">def</span> <span class="nf">createscatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createscatter</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createscatter</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createscatter</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getscatter"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getscatter">[docs]</a>    <span class="k">def</span> <span class="nf">getscatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GSp_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getscatter</span><span class="p">(</span><span class="n">GSp_name_src</span><span class="p">)</span></div>
    <span class="n">getscatter</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getscatter</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.scatter"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.scatter">[docs]</a>    <span class="k">def</span> <span class="nf">scatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a scatter plot given the data, scatter graphics method, and</span>
<span class="sd">        template. If no scatter class object is given, then the &#39;default&#39; scatter</span>
<span class="sd">        graphics method is used. Similarly, if no template class object is given,</span>
<span class="sd">        then the &#39;default&#39; template is used.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_scatter</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;scatter&#39;) # Show all the existing scatter graphics methods</span>
<span class="sd">                *******************Scatter Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Scatter Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; import cdms2 # Need cdms2 to create a slab</span>
<span class="sd">                &gt;&gt;&gt; f = cdms2.open(vcs.sample_data+&#39;/clt.nc&#39;) # use cdms2 to open a data file</span>
<span class="sd">                &gt;&gt;&gt; slab1 = f(&#39;u&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; slab2 = f(&#39;v&#39;) # need 2 slabs, so get another</span>
<span class="sd">                &gt;&gt;&gt; a.scatter(slab1, slab2) # Plot array using specified sct and default template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # Clear VCS canvas</span>
<span class="sd">                &gt;&gt;&gt; template=a.gettemplate(&#39;hovmuller&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.scatter(slab1, slab2, template) # Plot array using specified sct and template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>
    <span class="n">scatter</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">scatter</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">%</span> <span class="p">(</span>
        <span class="n">plot_keywords_doc</span><span class="p">,</span> <span class="n">graphics_method_core</span><span class="p">,</span> <span class="n">axesconvert</span><span class="p">,</span> <span class="n">plot_2_1D_input</span><span class="p">,</span> <span class="n">plot_output</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.createline"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createline">[docs]</a>    <span class="k">def</span> <span class="nf">createline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">ltype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># noqa</span>
                   <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createline</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">ltype</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span>
                              <span class="n">priority</span><span class="p">,</span> <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">projection</span><span class="p">)</span></div>
    <span class="n">createline</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createline</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getline"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getline">[docs]</a>    <span class="k">def</span> <span class="nf">getline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">ltype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getline</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">ltype</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>
    <span class="n">getline</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getline</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.line"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.line">[docs]</a>    <span class="k">def</span> <span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Plot a line segment on the Vcs Canvas. If no line class</span>
<span class="sd">        object is given, then an error will be returned.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_line</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;line&#39;)  # Show all the existing line objects</span>
<span class="sd">                *******************Line Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Line Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; ln=a.getline(&#39;red&#39;) # Create instance of &#39;red&#39;</span>
<span class="sd">                &gt;&gt;&gt; ln.width=4 # Set the line width</span>
<span class="sd">                &gt;&gt;&gt; ln.color = 242 # Set the line color</span>
<span class="sd">                &gt;&gt;&gt; ln.type = 4 # Set the line type</span>
<span class="sd">                &gt;&gt;&gt; ln.x=[[0.0,2.0,2.0,0.0,0.0], [0.5,1.5]] # Set the x value points</span>
<span class="sd">                &gt;&gt;&gt; ln.y=[[0.0,0.0,2.0,2.0,0.0], [1.0,1.0]] # Set the y value points</span>
<span class="sd">                &gt;&gt;&gt; a.line(ln) # Plot using specified line object</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :returns: A VCS displayplot object.</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.drawline"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.drawline">[docs]</a>    <span class="k">def</span> <span class="nf">drawline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ltype</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="mi">241</span><span class="p">,</span>  <span class="c1"># noqa</span>
                 <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                 <span class="n">worldcoordinate</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                 <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate and draw a line object on the VCS Canvas.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_drawline</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;line&#39;) # Show all the existing line objects</span>
<span class="sd">                *******************Line Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Line Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; ln=a.drawline(name=&#39;red&#39;, ltype=&#39;dash&#39;, width=2,</span>
<span class="sd">                ...              color=242, priority=1, viewport=[0, 1.0, 0, 1.0],</span>
<span class="sd">                ...              worldcoordinate=[0,100, 0,50],</span>
<span class="sd">                ...              x=[0,20,40,60,80,100],</span>
<span class="sd">                ...              y=[0,10,20,30,40,50] )</span>
<span class="sd">                &gt;&gt;&gt; a.line(ln) # Plot using specified line object</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :param name: Name of created object</span>
<span class="sd">        :type name: str</span>

<span class="sd">        :param ltype: One of &quot;dash&quot;, &quot;dash-dot&quot;, &quot;solid&quot;, &quot;dot&quot;, or &quot;long-dash&quot;.</span>
<span class="sd">        :type ltype: str</span>

<span class="sd">        :param width: Thickness of the line to be drawn</span>
<span class="sd">        :type width: int</span>

<span class="sd">        :param color: A color name from the `X11 Color Names list &lt;https://en.wikipedia.org/wiki/X11_color_names&gt;`_,</span>
<span class="sd">                      or an integer value from 0-255, or an RGB/RGBA tuple/list (e.g. (0,100,0), (100,100,0,50))</span>
<span class="sd">        :type color: str or int</span>

<span class="sd">        :param priority: The layer on which the line will be drawn.</span>
<span class="sd">        :type priority: int</span>

<span class="sd">        :param viewport: 4 floats between 0 and 1.</span>
<span class="sd">                            These specify the area that the X/Y values are mapped to inside of the canvas</span>
<span class="sd">        :type viewport: list of floats</span>

<span class="sd">        :param worldcoordinate: List of 4 floats (xmin, xmax, ymin, ymax)</span>
<span class="sd">        :type worldcoordinate: list of floats</span>

<span class="sd">        :param x: List of lists of x coordinates. Values must be between worldcoordinate[0] and worldcoordinate[1].</span>
<span class="sd">        :type x: list of floats</span>

<span class="sd">        :param y: List of lists of y coordinates. Values must be between worldcoordinate[2] and worldcoordinate[3].</span>
<span class="sd">        :type y: list of floats</span>

<span class="sd">        :param projection: Specify a geographic projection used to convert x/y</span>
<span class="sd">                            from spherical coordinates into 2D coordinates.</span>
<span class="sd">        :type projection: str or projection object</span>

<span class="sd">        :returns: A VCS line object</span>
<span class="sd">        :rtype: vcs.line.Tl</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;Must provide string name for the line.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">listelements</span><span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">lo</span><span class="p">:</span>
                <span class="n">ln</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getline</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ln</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createline</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">ltype</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="n">priority</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">viewport</span> <span class="o">=</span> <span class="n">viewport</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">worldcoordinate</span> <span class="o">=</span> <span class="n">worldcoordinate</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">ln</span><span class="o">.</span><span class="n">projection</span> <span class="o">=</span> <span class="n">projection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">ln</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="n">bg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ln</span></div>

<div class="viewcode-block" id="Canvas.createmarker"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createmarker">[docs]</a>    <span class="k">def</span> <span class="nf">createmarker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">mtype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># noqa</span>
                     <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                     <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                     <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createmarker</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">mtype</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span>
                                <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">projection</span><span class="p">)</span></div>
    <span class="n">createmarker</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createmarker</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getmarker"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getmarker">[docs]</a>    <span class="k">def</span> <span class="nf">getmarker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">mtype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                  <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                  <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                  <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getmarker</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">mtype</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>
    <span class="n">getmarker</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getmarker</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.marker"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.marker">[docs]</a>    <span class="k">def</span> <span class="nf">marker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Plot a marker segment on the Vcs Canvas. If no marker class</span>
<span class="sd">        object is given, then an error will be returned.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_marker</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;marker&#39;) # Show all the existing marker objects</span>
<span class="sd">                *******************Marker Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Marker Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; mrk=a.getmarker(&#39;red&#39;) # Create instance of &#39;red&#39;</span>
<span class="sd">                &gt;&gt;&gt; mrk.size=4 # Set the marker size</span>
<span class="sd">                &gt;&gt;&gt; mrk.color = 242 # Set the marker color</span>
<span class="sd">                &gt;&gt;&gt; mrk.type = 4 # Set the marker type</span>
<span class="sd">                &gt;&gt;&gt; mrk.x=[[0.0,2.0,2.0,0.0,0.0], [0.5,1.5]] # Set the x value points</span>
<span class="sd">                &gt;&gt;&gt; mrk.y=[[0.0,0.0,2.0,2.0,0.0], [1.0,1.0]] # Set the y value points</span>
<span class="sd">                &gt;&gt;&gt; a.marker(mrk) # Plot using specified marker object</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :returns: a VCS displayplot object</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;marker&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.drawmarker"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.drawmarker">[docs]</a>    <span class="k">def</span> <span class="nf">drawmarker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mtype</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="mi">241</span><span class="p">,</span>
                   <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                   <span class="n">worldcoordinate</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                   <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate and draw a marker object on the VCS Canvas.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_drawmarker</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;marker&#39;)  # Show all the existing marker objects</span>
<span class="sd">                *******************Marker Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Marker Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; mrk=a.drawmarker(name=&#39;red&#39;, mtype=&#39;dot&#39;, size=2,</span>
<span class="sd">                ...              color=242, priority=1, viewport=[0, 1.0, 0, 1.0],</span>
<span class="sd">                ...              worldcoordinate=[0,100, 0,50],</span>
<span class="sd">                ...              x=[0,20,40,60,80,100],</span>
<span class="sd">                ...              y=[0,10,20,30,40,50] ) # Create instance of marker object &#39;red&#39;</span>
<span class="sd">                &gt;&gt;&gt; a.marker(mrk) # Plot using specified marker object</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :param name: Name of created object</span>
<span class="sd">        :type name: str</span>

<span class="sd">        :param mtype: Marker type, i.e. &#39;dot&#39;, &#39;plus&#39;, &#39;star, etc.</span>
<span class="sd">        :type mtype: str</span>

<span class="sd">        :param size: Size of the marker to draw</span>
<span class="sd">        :type size: int</span>

<span class="sd">        :param color: A color name from the `X11 Color Names list &lt;https://en.wikipedia.org/wiki/X11_color_names&gt;`_,</span>
<span class="sd">                      or an integer value from 0-255, or an RGB/RGBA tuple/list (e.g. (0,100,0), (100,100,0,50))</span>
<span class="sd">        :type color: str or int</span>

<span class="sd">        :param priority: The layer on which the marker will be drawn.</span>
<span class="sd">        :type priority: int</span>

<span class="sd">        :param viewport: 4 floats between 0 and 1.</span>
<span class="sd">                        These specify the area that the X/Y values are mapped to inside of the canvas</span>
<span class="sd">        :type viewport: list of floats</span>

<span class="sd">        :param worldcoordinate: List of 4 floats (xmin, xmax, ymin, ymax)</span>
<span class="sd">        :type worldcoordinate: list of floats</span>

<span class="sd">        :param x: List of lists of x coordinates. Values must be between worldcoordinate[0] and worldcoordinate[1].</span>
<span class="sd">        :type x: list of floats</span>

<span class="sd">        :param y: List of lists of y coordinates. Values must be between worldcoordinate[2] and worldcoordinate[3].</span>
<span class="sd">        :type y: list of floats</span>

<span class="sd">        :returns: A drawmarker object</span>
<span class="sd">        :rtype: vcs.marker.Tm</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;Must provide string name for the marker.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">listelements</span><span class="p">(</span><span class="s1">&#39;marker&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">lo</span><span class="p">:</span>
                <span class="n">mrk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getmarker</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mrk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createmarker</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">mrk</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">mtype</span>
        <span class="n">mrk</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="n">mrk</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">mrk</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="n">priority</span>
        <span class="n">mrk</span><span class="o">.</span><span class="n">viewport</span> <span class="o">=</span> <span class="n">viewport</span>
        <span class="n">mrk</span><span class="o">.</span><span class="n">worldcoordinate</span> <span class="o">=</span> <span class="n">worldcoordinate</span>
        <span class="n">mrk</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">mrk</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">marker</span><span class="p">(</span><span class="n">mrk</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="n">bg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">mrk</span></div>

<div class="viewcode-block" id="Canvas.createfillarea"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createfillarea">[docs]</a>    <span class="k">def</span> <span class="nf">createfillarea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                       <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createfillarea</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>
    <span class="n">createfillarea</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createfillarea</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getfillarea"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getfillarea">[docs]</a>    <span class="k">def</span> <span class="nf">getfillarea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getfillarea</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>
    <span class="n">getfillarea</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getfillarea</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.fillarea"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.fillarea">[docs]</a>    <span class="k">def</span> <span class="nf">fillarea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a fillarea plot</span>

<span class="sd">        Plot a fillarea segment on the Vcs Canvas. If no fillarea class</span>
<span class="sd">        object is given, then an error will be returned.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_fillarea</span>

<span class="sd">                    &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                    &gt;&gt;&gt; a.show(&#39;fillarea&#39;) # Show all the existing fillarea objects</span>
<span class="sd">                    *******************Fillarea Names List**********************</span>
<span class="sd">                    ...</span>
<span class="sd">                    *******************End Fillarea Names List**********************</span>
<span class="sd">                    &gt;&gt;&gt; fa=a.createfillarea() # Create instance of default fillarea</span>
<span class="sd">                    &gt;&gt;&gt; fa.style=1 # Set the fillarea style</span>
<span class="sd">                    &gt;&gt;&gt; fa.index=4 # Set the fillarea index</span>
<span class="sd">                    &gt;&gt;&gt; fa.color = 242 # Set the fillarea color</span>
<span class="sd">                    &gt;&gt;&gt; fa.x=[0.25,0.75] # Set the x value points</span>
<span class="sd">                    &gt;&gt;&gt; fa.y=[0.2,0.5] # Set the y value points</span>
<span class="sd">                    &gt;&gt;&gt; a.fillarea(fa) # Plot using specified fillarea object</span>
<span class="sd">                    &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :returns: A fillarea object</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;fillarea&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.drawfillarea"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.drawfillarea">[docs]</a>    <span class="k">def</span> <span class="nf">drawfillarea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="mi">241</span><span class="p">,</span>
                     <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                     <span class="n">worldcoordinate</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                     <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate and draw a fillarea object on the VCS Canvas.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_drawfillarea</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;fillarea&#39;) # Show all the existing fillarea objects</span>
<span class="sd">                *******************Fillarea Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Fillarea Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; fa=a.drawfillarea(name=&#39;red&#39;, style=1, color=242,</span>
<span class="sd">                ...              priority=1, viewport=[0, 1.0, 0, 1.0],</span>
<span class="sd">                ...              worldcoordinate=[0,100, 0,50],</span>
<span class="sd">                ...              x=[0,20,40,60,80,100],</span>
<span class="sd">                ...              y=[0,10,20,30,40,50], bg=0 ) # Create instance of fillarea object &#39;red&#39;</span>
<span class="sd">                &gt;&gt;&gt; a.fillarea(fa) # Plot using specified fillarea object</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :param name: Name of created object</span>
<span class="sd">        :type name: str</span>

<span class="sd">        :param style: One of &quot;hatch&quot;, &quot;solid&quot;, or &quot;pattern&quot;.</span>
<span class="sd">        :type style: str</span>

<span class="sd">        :param index: Specifies which `pattern &lt;http://uvcdat.llnl.gov/gallery/fullsize/pattern_chart.png&gt;`_</span>
<span class="sd">        to fill the fillarea with. Accepts ints from 1-20.</span>

<span class="sd">        :type index: int</span>

<span class="sd">        :param color: A color name from the `X11 Color Names list &lt;https://en.wikipedia.org/wiki/X11_color_names&gt;`_,</span>
<span class="sd">        or an integer value from 0-255, or an RGB/RGBA tuple/list (e.g. (0,100,0), (100,100,0,50))</span>

<span class="sd">        :type color: str or int</span>

<span class="sd">        :param priority: The layer on which the fillarea will be drawn.</span>
<span class="sd">        :type priority: int</span>

<span class="sd">        :param viewport: 4 floats between 0 and 1.</span>
<span class="sd">                        These specify the area that the X/Y values are mapped to inside of the canvas</span>
<span class="sd">        :type viewport: list of floats</span>

<span class="sd">        :param worldcoordinate: List of 4 floats (xmin, xmax, ymin, ymax)</span>
<span class="sd">        :type worldcoordinate: list of floats</span>

<span class="sd">        :param x: List of lists of x coordinates. Values must be between worldcoordinate[0] and worldcoordinate[1].</span>
<span class="sd">        :type x: list of floats</span>

<span class="sd">        :param y: List of lists of y coordinates. Values must be between worldcoordinate[2] and worldcoordinate[3].</span>
<span class="sd">        :type y: list of floats</span>

<span class="sd">        :param bg: Boolean value. True =&gt; object drawn in background (not shown on canvas).</span>
<span class="sd">                    False =&gt; object shown on canvas.</span>
<span class="sd">        :type bg: bool</span>

<span class="sd">        :returns: A fillarea object</span>
<span class="sd">        :rtype: vcs.fillarea.Tf</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;Must provide string name for the fillarea.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">listelements</span><span class="p">(</span><span class="s1">&#39;fillarea&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">lo</span><span class="p">:</span>
                <span class="n">fa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getfillarea</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createfillarea</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">fa</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="n">fa</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">index</span>
        <span class="n">fa</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">fa</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="n">priority</span>
        <span class="n">fa</span><span class="o">.</span><span class="n">viewport</span> <span class="o">=</span> <span class="n">viewport</span>
        <span class="n">fa</span><span class="o">.</span><span class="n">worldcoordinate</span> <span class="o">=</span> <span class="n">worldcoordinate</span>
        <span class="n">fa</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">fa</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fillarea</span><span class="p">(</span><span class="n">fa</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="n">bg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fa</span></div>

<div class="viewcode-block" id="Canvas.createtexttable"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createtexttable">[docs]</a>    <span class="k">def</span> <span class="nf">createtexttable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">spacing</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expansion</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtexttable</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">expansion</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span>
                                   <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>
    <span class="n">createtexttable</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createtexttable</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.gettexttable"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.gettexttable">[docs]</a>    <span class="k">def</span> <span class="nf">gettexttable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                     <span class="n">spacing</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expansion</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                     <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                     <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                     <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">gettexttable</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">expansion</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span>
                                <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>
    <span class="n">gettexttable</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">gettexttable</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.createtextorientation"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createtextorientation">[docs]</a>    <span class="k">def</span> <span class="nf">createtextorientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtextorientation</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></div>
    <span class="n">createtextorientation</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createtextorientation</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.gettextorientation"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.gettextorientation">[docs]</a>    <span class="k">def</span> <span class="nf">gettextorientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">To_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">gettextorientation</span><span class="p">(</span><span class="n">To_name_src</span><span class="p">)</span></div>
    <span class="n">gettextorientation</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">gettextorientation</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.createtextcombined"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createtextcombined">[docs]</a>    <span class="k">def</span> <span class="nf">createtextcombined</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Tt_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Tt_source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">To_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">To_source</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span>  <span class="c1"># noqa</span>
                           <span class="n">font</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expansion</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtextcombined</span><span class="p">(</span><span class="n">Tt_name</span><span class="p">,</span> <span class="n">Tt_source</span><span class="p">,</span> <span class="n">To_name</span><span class="p">,</span> <span class="n">To_source</span><span class="p">,</span>
                                      <span class="n">font</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">expansion</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span>
                                      <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">halign</span><span class="p">,</span> <span class="n">valign</span><span class="p">,</span> <span class="n">projection</span><span class="p">)</span></div>
    <span class="n">createtextcombined</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createtextcombined</span><span class="o">.</span><span class="n">__doc__</span>
    <span class="c1">#</span>
    <span class="c1"># Set alias for the secondary createtextcombined.</span>
    <span class="n">createtext</span> <span class="o">=</span> <span class="n">createtextcombined</span>

<div class="viewcode-block" id="Canvas.gettextcombined"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.gettextcombined">[docs]</a>    <span class="k">def</span> <span class="nf">gettextcombined</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Tt_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">To_name_src</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">font</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expansion</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">gettextcombined</span><span class="p">(</span><span class="n">Tt_name_src</span><span class="p">,</span> <span class="n">To_name_src</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span>
                                   <span class="n">font</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">expansion</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span>
                                   <span class="n">priority</span><span class="p">,</span> <span class="n">viewport</span><span class="p">,</span> <span class="n">worldcoordinate</span><span class="p">,</span>
                                   <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">halign</span><span class="p">,</span> <span class="n">valign</span><span class="p">)</span></div>
    <span class="n">gettextcombined</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">gettextcombined</span><span class="o">.</span><span class="n">__doc__</span>
    <span class="c1">#</span>
    <span class="c1"># Set alias for the secondary gettextcombined.</span>
    <span class="n">gettext</span> <span class="o">=</span> <span class="n">gettextcombined</span>

<div class="viewcode-block" id="Canvas.textcombined"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.textcombined">[docs]</a>    <span class="k">def</span> <span class="nf">textcombined</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Plot a textcombined segment on the Vcs Canvas. If no textcombined class</span>
<span class="sd">        object is given, then an error will be returned.</span>

<span class="sd">        .. note::</span>

<span class="sd">            The text() function is an alias for textcombined().</span>
<span class="sd">            See example for usage.</span>

<span class="sd">        :Example:</span>

<span class="sd">        .. doctest:: canvas_textcombined</span>

<span class="sd">            &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">            &gt;&gt;&gt; a.clean_auto_generated_objects()</span>
<span class="sd">            &gt;&gt;&gt; a.show(&#39;texttable&#39;) # Show all the existing texttable objects</span>
<span class="sd">            *******************Texttable Names List**********************</span>
<span class="sd">            ...</span>
<span class="sd">            *******************End Texttable Names List**********************</span>
<span class="sd">            &gt;&gt;&gt; a.show(&#39;textorientation&#39;) # Show all the existing textorientation objects</span>
<span class="sd">            *******************Textorientation Names List**********************</span>
<span class="sd">            ...</span>
<span class="sd">            *******************End Textorientation Names List**********************</span>
<span class="sd">            &gt;&gt;&gt; vcs.createtext(&#39;qa_tta&#39;, &#39;qa&#39;, &#39;7left_tto&#39;, &#39;7left&#39;) # Create instance of &#39;std_tt&#39; and &#39;7left_to&#39;</span>
<span class="sd">            &lt;vcs.textcombined.Tc object at ...&gt;</span>
<span class="sd">            &gt;&gt;&gt; tc=a.gettext(&#39;qa_tta&#39;, &#39;7left_tto&#39;)</span>
<span class="sd">            &gt;&gt;&gt; tc.string=&#39;Text1&#39; # Show the string &quot;Text1&quot; on the VCS Canvas</span>
<span class="sd">            &gt;&gt;&gt; tc.font=2 # Set the text size</span>
<span class="sd">            &gt;&gt;&gt; tc.color=242 # Set the text color</span>
<span class="sd">            &gt;&gt;&gt; tc.angle=45 # Set the text angle</span>
<span class="sd">            &gt;&gt;&gt; tc.x=[0.5]</span>
<span class="sd">            &gt;&gt;&gt; tc.y=[0.5]</span>
<span class="sd">            &gt;&gt;&gt; a.textcombined(tc) # Plot using specified text object</span>
<span class="sd">            &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :returns: A fillarea object</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># First check if color is a string</span>
        <span class="k">if</span> <span class="s1">&#39;color&#39;</span> <span class="ow">in</span> <span class="n">parms</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parms</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)):</span>
                <span class="n">parms</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">match_color</span><span class="p">(</span><span class="n">parms</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vcs</span><span class="o">.</span><span class="n">textcombined</span><span class="o">.</span><span class="n">Tc</span><span class="p">):</span>
            <span class="n">args</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="c1"># Ok we have a user passed text object let&#39;s first create a random text combined</span>
<span class="c1"># icont=1</span>
<span class="c1"># while icont:</span>
<span class="c1"># n=random.randint(0,100000)</span>
<span class="c1"># try:</span>
<span class="c1"># t=self.createtextcombined(&#39;__&#39;+str(n),&#39;default&#39;,&#39;__&#39;+str(n),&#39;default&#39;)</span>
<span class="c1"># icont=0</span>
<span class="c1"># except:</span>
<span class="c1"># pass</span>
            <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createtextcombined</span><span class="p">()</span>
            <span class="n">t</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span>
            <span class="n">t</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span>
            <span class="n">t</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span>
            <span class="c1"># t.list()</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">parms</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">parms</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
                <span class="k">del</span><span class="p">(</span><span class="n">parms</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="n">args</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">parms</span><span class="p">)</span></div>
    <span class="c1">#</span>
    <span class="c1"># Set alias for the secondary textcombined.</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">textcombined</span>

<div class="viewcode-block" id="Canvas.gettextextent"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.gettextextent">[docs]</a>    <span class="k">def</span> <span class="nf">gettextextent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">textobject</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the coordinate of the box surrounding a text object once printed</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_gettextextent</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; t=a.createtext()</span>
<span class="sd">                &gt;&gt;&gt; t.x=[.5]</span>
<span class="sd">                &gt;&gt;&gt; t.y=[.5]</span>
<span class="sd">                &gt;&gt;&gt; t.string=[&#39;Hello World&#39;]</span>
<span class="sd">                &gt;&gt;&gt; a.gettextextent(t)</span>
<span class="sd">                [[...]]</span>

<span class="sd">        :param textobject: A VCS text object</span>
<span class="sd">        :type textobject: textcombined</span>

<span class="sd">        :returns: list of floats containing the coordinates of the text object&#39;s bounding box.</span>
<span class="sd">        :rtype: list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">vcs</span><span class="o">.</span><span class="n">istext</span><span class="p">(</span><span class="n">textobject</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;You must pass a text object&#39;</span><span class="p">)</span>
        <span class="n">To</span> <span class="o">=</span> <span class="n">textobject</span><span class="o">.</span><span class="n">To_name</span>
        <span class="n">Tt</span> <span class="o">=</span> <span class="n">textobject</span><span class="o">.</span><span class="n">Tt_name</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">gettextextent</span><span class="p">(</span><span class="n">To</span><span class="p">,</span> <span class="n">Tt</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">match_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">match_color</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">colormap</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.drawtextcombined"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.drawtextcombined">[docs]</a>    <span class="k">def</span> <span class="nf">drawtextcombined</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Tt_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">To_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">font</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">expansion</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="mi">241</span><span class="p">,</span>
                         <span class="n">height</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                         <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;half&#39;</span><span class="p">,</span>
                         <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                         <span class="n">worldcoordinate</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                         <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate and draw a textcombined object on the VCS Canvas.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_drawtextcombined</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.show(&#39;texttable&#39;)  # Show all the existing texttable objects</span>
<span class="sd">                *******************Texttable Names List**********************</span>
<span class="sd">                ...</span>
<span class="sd">                *******************End Texttable Names List**********************</span>
<span class="sd">                &gt;&gt;&gt; tc=a.drawtextcombined(Tt_name = &#39;std_example&#39;, To_name=&#39;7left_example&#39;, string=&#39;Hello example!&#39;, spacing=5,</span>
<span class="sd">                ...                   color=242, priority=1, viewport=[0, 1.0, 0, 1.0],</span>
<span class="sd">                ...                   worldcoordinate=[0,100, 0,50],</span>
<span class="sd">                ...                   x=[0,20,40,60,80,100],</span>
<span class="sd">                ...                   y=[0,10,20,30,40,50]) # Create instance of texttable object &#39;red&#39;</span>
<span class="sd">                &gt;&gt;&gt; a.textcombined(tc) # Plot using specified texttable object</span>

<span class="sd">        :param name: Name of created object</span>
<span class="sd">        :type name: str</span>

<span class="sd">        :param style: One of &quot;hatch&quot;, &quot;solid&quot;, or &quot;pattern&quot;.</span>
<span class="sd">        :type style: str</span>

<span class="sd">        :param index: Specifies which `pattern &lt;http://uvcdat.llnl.gov/gallery/fullsize/pattern_chart.png&gt;`_</span>
<span class="sd">                      to fill the fillarea with. Accepts ints from 1-20.</span>
<span class="sd">        :type index: int</span>

<span class="sd">        :param color: A color name from the `X11 Color Names list &lt;https://en.wikipedia.org/wiki/X11_color_names&gt;`_,</span>
<span class="sd">                      or an integer value from 0-255, or an RGB/RGBA tuple/list (e.g. (0,100,0), (100,100,0,50))</span>
<span class="sd">        :type color: str or int</span>

<span class="sd">        :param priority: The layer on which the fillarea will be drawn.</span>
<span class="sd">        :type priority: int</span>

<span class="sd">        :param viewport: 4 floats between 0 and 1.</span>
<span class="sd">                        These specify the area that the X/Y values are mapped to inside of the canvas</span>
<span class="sd">        :type viewport: list of floats</span>

<span class="sd">        :param worldcoordinate: List of 4 floats (xmin, xmax, ymin, ymax)</span>
<span class="sd">        :type worldcoordinate: list of floats</span>

<span class="sd">        :param x: List of lists of x coordinates. Values must be between worldcoordinate[0] and worldcoordinate[1].</span>
<span class="sd">        :type x: list of floats</span>

<span class="sd">        :param y: List of lists of y coordinates. Values must be between worldcoordinate[2] and worldcoordinate[3].</span>
<span class="sd">        :type y: list of floats</span>

<span class="sd">        :param bg: Boolean value. True =&gt; object drawn in background (not shown on canvas).</span>
<span class="sd">                                    False =&gt; object shown on canvas.</span>
<span class="sd">        :type bg: bool</span>

<span class="sd">        :returns: A texttable object</span>
<span class="sd">        :rtype: vcs.texttable.Tt</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Tt_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">Tt_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;Must provide string name for the texttable.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">listelements</span><span class="p">(</span><span class="s1">&#39;texttable&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">Tt_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lot</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">createtexttable</span><span class="p">(</span><span class="n">Tt_name</span><span class="p">)</span>
            <span class="n">loo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">listelements</span><span class="p">(</span><span class="s1">&#39;textorientation&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">To_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">loo</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">createtextorientation</span><span class="p">(</span><span class="n">To_name</span><span class="p">)</span>
            <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gettextcombined</span><span class="p">(</span><span class="n">Tt_name</span><span class="p">,</span> <span class="n">To_name</span><span class="p">)</span>

        <span class="c1"># Set the Text Table (Tt) members</span>
        <span class="n">t</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="n">string</span>

        <span class="c1"># Set the Text Table (Tt) members</span>
        <span class="n">t</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">font</span>
        <span class="n">t</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="n">spacing</span>
        <span class="n">t</span><span class="o">.</span><span class="n">expansion</span> <span class="o">=</span> <span class="n">expansion</span>
        <span class="n">t</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">t</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="n">priority</span>
        <span class="n">t</span><span class="o">.</span><span class="n">viewport</span> <span class="o">=</span> <span class="n">viewport</span>
        <span class="n">t</span><span class="o">.</span><span class="n">worldcoordinate</span> <span class="o">=</span> <span class="n">worldcoordinate</span>
        <span class="n">t</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">t</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

        <span class="c1"># Set the Text Orientation (To) members</span>
        <span class="n">t</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="n">t</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">angle</span>
        <span class="n">t</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">t</span><span class="o">.</span><span class="n">halign</span> <span class="o">=</span> <span class="n">halign</span>
        <span class="n">t</span><span class="o">.</span><span class="n">valign</span> <span class="o">=</span> <span class="n">valign</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="n">bg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">t</span></div>
    <span class="c1">#</span>
    <span class="c1"># Set alias for the secondary drawtextcombined.</span>
    <span class="n">drawtext</span> <span class="o">=</span> <span class="n">drawtextcombined</span>

    <span class="n">_plot_keywords_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;xaxis&#39;</span><span class="p">,</span> <span class="s1">&#39;xarray&#39;</span><span class="p">,</span>  <span class="s1">&#39;xrev&#39;</span><span class="p">,</span> <span class="s1">&#39;yaxis&#39;</span><span class="p">,</span> <span class="s1">&#39;yarray&#39;</span><span class="p">,</span> <span class="s1">&#39;yrev&#39;</span><span class="p">,</span> <span class="s1">&#39;continents&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;xbounds&#39;</span><span class="p">,</span> <span class="s1">&#39;ybounds&#39;</span><span class="p">,</span> <span class="s1">&#39;zaxis&#39;</span><span class="p">,</span> <span class="s1">&#39;zarray&#39;</span><span class="p">,</span> <span class="s1">&#39;taxis&#39;</span><span class="p">,</span> <span class="s1">&#39;tarray&#39;</span><span class="p">,</span> <span class="s1">&#39;waxis&#39;</span><span class="p">,</span> <span class="s1">&#39;warray&#39;</span><span class="p">,</span> <span class="s1">&#39;bg&#39;</span><span class="p">,</span> <span class="s1">&#39;ratio&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;donotstoredisplay&#39;</span><span class="p">,</span> <span class="s1">&#39;render&#39;</span><span class="p">,</span> <span class="s1">&#39;continents_line&#39;</span><span class="p">,</span> <span class="s2">&quot;display_name&quot;</span><span class="p">]</span>

    <span class="n">_deprecated_plot_keywords_</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;units&quot;</span><span class="p">,</span> <span class="s2">&quot;file_comment&quot;</span><span class="p">,</span> <span class="s2">&quot;xname&quot;</span><span class="p">,</span> <span class="s2">&quot;yname&quot;</span><span class="p">,</span> <span class="s2">&quot;zname&quot;</span><span class="p">,</span> <span class="s2">&quot;tname&quot;</span><span class="p">,</span> <span class="s2">&quot;wname&quot;</span><span class="p">,</span>
                                  <span class="s2">&quot;xunits&quot;</span><span class="p">,</span> <span class="s2">&quot;yunits&quot;</span><span class="p">,</span> <span class="s2">&quot;zunits&quot;</span><span class="p">,</span> <span class="s2">&quot;tunits&quot;</span><span class="p">,</span> <span class="s2">&quot;wunits&quot;</span><span class="p">,</span> <span class="s2">&quot;comment1&quot;</span><span class="p">,</span> <span class="s2">&quot;comment2&quot;</span><span class="p">,</span> <span class="s2">&quot;comment3&quot;</span><span class="p">,</span>
                                  <span class="s2">&quot;comment4&quot;</span><span class="p">,</span> <span class="s2">&quot;long_name&quot;</span><span class="p">]</span>
    <span class="c1"># def replot(self):</span>
    <span class="c1">#    &quot;&quot;&quot; Clears and plots with last used plot arguments</span>
    <span class="c1">#    &quot;&quot;&quot;</span>
    <span class="c1">#    self.clear()</span>
    <span class="c1">#    self.plot(*self.__last_plot_actual_args, **self.__last_plot_keyargs)</span>

<div class="viewcode-block" id="Canvas.plot"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.plot">[docs]</a>    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">actual_args</span><span class="p">,</span> <span class="o">**</span><span class="n">keyargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Plot an array(s) of data given a template and graphics method. The VCS template is</span>
<span class="sd">        used to define where the data and variable attributes will be displayed on the VCS</span>
<span class="sd">        Canvas. The VCS graphics method is used to define how the array(s) will be shown</span>
<span class="sd">        on the VCS Canvas.</span>

<span class="sd">        .. describe:: Plot Usage:</span>

<span class="sd">            .. code-block:: python</span>

<span class="sd">                plot(array1=None, array2=None, template_name=None,</span>
<span class="sd">                    graphics_method=None, graphics_name=None,</span>
<span class="sd">                    [key=value [, key=value [, ...]]])</span>

<span class="sd">            .. note::</span>

<span class="sd">                 array1 and array2 are NumPy arrays.</span>

<span class="sd">        .. describe:: Plot attribute keywords:</span>

<span class="sd">            .. note::</span>
<span class="sd">                More specific attributes take precedence over general attributes. In particular,</span>
<span class="sd">                specific attributes override variable object attributes, dimension attributes and</span>
<span class="sd">                arrays override axis objects, which override grid objects, which override variable</span>
<span class="sd">                objects.</span>

<span class="sd">                For example, if both &#39;file_comment&#39; and &#39;variable&#39; keywords are specified, the value of</span>
<span class="sd">                &#39;file_comment&#39; is used instead of the file comment in the parent of variable. Similarly,</span>
<span class="sd">                if both &#39;xaxis&#39; and &#39;grid&#39; keywords are specified, the value of &#39;xaxis&#39; takes precedence</span>
<span class="sd">                over the x-axis of grid.</span>

<span class="sd">            *  ratio [default is none]</span>

<span class="sd">                * None: let the self.ratio attribute decide</span>
<span class="sd">                *  0,&#39;off&#39;: overwrite self.ratio and do nothing about the ratio</span>
<span class="sd">                * &#39;auto&#39;: computes an automatic ratio</span>
<span class="sd">                * &#39;3&#39;,3: y dim will be 3 times bigger than x dim (restricted to original tempalte.data area</span>
<span class="sd">                * Adding a &#39;t&#39; at the end of the ratio, makes the tickmarks and boxes move along.</span>

<span class="sd">            * Dimension attribute keys (dimension length=n):</span>

<span class="sd">                * x or y Dimension values</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        [x|y|z|t|w]array = NumPy array of length n</span>
<span class="sd">                        [x|y|z|t|w]array = NumPy array of length n</span>

<span class="sd">                * x or y Dimension boundaries</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        [x|y]bounds = NumPy array of shape (n,2)</span>

<span class="sd">            * CDMS object:</span>

<span class="sd">                * x or y Axis</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        [x|y|z|t|w]axis = CDMS axis object</span>

<span class="sd">                * Grid object (e.g. grid=var.getGrid())</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        grid = CDMS grid object</span>

<span class="sd">                * Variable object</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        variable = CDMS variable object</span>

<span class="sd">            * Other:</span>

<span class="sd">                * Reverse the direction of the x or y axis:</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        [x|y]rev = 0|1</span>

<span class="sd">                    .. note::</span>

<span class="sd">                        For example, xrev = 1 would reverse the</span>
<span class="sd">                        direction of the x-axis</span>

<span class="sd">                * Continental outlines:</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        continents = 0,1,2,3,4,5,6,7,8,9,10,11</span>
<span class="sd">                        # VCS line object to define continent appearance</span>
<span class="sd">                        continents_line = vcs.getline(&quot;default&quot;)</span>

<span class="sd">                    .. note::</span>

<span class="sd">                        If continents &gt;=1, plot continental outlines.</span>
<span class="sd">                        By default: plot of xaxis is longitude, yaxis is latitude</span>
<span class="sd">                        -OR- xname is &#39;longitude&#39; and yname is &#39;latitude&#39;</span>

<span class="sd">                    * List of continents-type values (integers from 0-11)</span>

<span class="sd">                        * 0 signifies &quot;No Continents&quot;</span>
<span class="sd">                        * 1 signifies &quot;Fine Continents&quot;</span>
<span class="sd">                        * 2 signifies &quot;Coarse Continents&quot;</span>
<span class="sd">                        * 3 signifies &quot;United States&quot;</span>
<span class="sd">                        * 4 signifies &quot;Political Borders&quot;</span>
<span class="sd">                        * 5 signifies &quot;Rivers&quot;</span>

<span class="sd">                    .. note::</span>
<span class="sd">                        Values 6 through 11 signify the line type defined by</span>
<span class="sd">                        the files data_continent_other7 through data_continent_other12.</span>

<span class="sd">                * To set whether the displayplot object generated by this plot is stored</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        donotstoredisplay = True|False</span>

<span class="sd">                * Whether to actually render the plot or not (useful for doing a bunch of plots in a row)</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        render = True|False</span>

<span class="sd">                * VCS Display plot name (used to prevent duplicate display plots)</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        display_name = &quot;__display_123&quot;</span>

<span class="sd">                * Ratio of height/width for the plot; autot and auto will choose a &quot;good&quot; ratio for you.</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        ratio = 1.5|&quot;autot&quot;|&quot;auto&quot;</span>

<span class="sd">                * Plot the actual grid or the dual grid</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        plot_based_dual_grid = True | False</span>

<span class="sd">                    .. note::</span>

<span class="sd">                        This is based on what is needed by the plot: isofill, isoline, vector need</span>
<span class="sd">                        point attributes, boxfill and meshfill need cell attributes</span>
<span class="sd">                        the default is True (if the parameter is not specified).</span>

<span class="sd">                * Graphics Output in Background Mode:</span>

<span class="sd">                    .. code-block:: python</span>

<span class="sd">                        # if ==1, create images in the background</span>
<span class="sd">                        bg = 0|1</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_plot</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; import cdms2 # Need cdms2 to create a slab</span>
<span class="sd">                &gt;&gt;&gt; f = cdms2.open(vcs.sample_data+&#39;/clt.nc&#39;) # use cdms2 to open a data file</span>
<span class="sd">                &gt;&gt;&gt; slab1 = f(&#39;u&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; slab2 = f(&#39;v&#39;) # need 2 slabs, so get another</span>
<span class="sd">                &gt;&gt;&gt; a.plot(slab1) # this call will use default settings for template and boxfill</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.plot(slab1, &#39;polar&#39;, &#39;isofill&#39;, &#39;polar&#39;) # this is specifying the template and graphics method</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; t=a.gettemplate(&#39;polar&#39;) # get the polar template</span>
<span class="sd">                &gt;&gt;&gt; vec=a.getvector() # get default vector</span>
<span class="sd">                &gt;&gt;&gt; a.plot(slab1, slab2, t, vec) # plot the data as a vector using the &#39;AMIP&#39; template</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # clear the VCS Canvas of all plots</span>
<span class="sd">                &gt;&gt;&gt; box=a.getboxfill() # get default boxfill graphics method</span>
<span class="sd">                &gt;&gt;&gt; a.plot(box,t,slab2) # plot array data using box &#39;new&#39; and template &#39;t&#39;</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>
<span class="sd">        %s</span>

<span class="sd">        :returns: A VCS display plot object</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__last_plot_actual_args</span> <span class="o">=</span> <span class="n">actual_args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__last_plot_keyargs</span> <span class="o">=</span> <span class="n">keyargs</span>
        <span class="n">passed_var</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;variable&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">arglist</span> <span class="o">=</span> <span class="n">_determine_arg_list</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">actual_args</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">passed_var</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">asVariable</span><span class="p">(</span><span class="n">passed_var</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">pfile</span> <span class="o">=</span> <span class="n">actual_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span>
            <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;cdmsfile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pfile</span><span class="o">.</span><span class="n">uri</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span>
                <span class="n">pfile</span><span class="p">,</span>
                <span class="s1">&#39;uri&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">pfile</span><span class="o">.</span><span class="n">id</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">if</span> <span class="s2">&quot;continents_line&quot;</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="p">:</span>
            <span class="c1"># Stash the current line type</span>
            <span class="n">old_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getcontinentsline</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setcontinentsline</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="s2">&quot;continents_line&quot;</span><span class="p">])</span>

        <span class="c1"># Plot the data</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;continents_line&quot;</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="p">:</span>
            <span class="c1"># Restore the canvas line type</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setcontinentsline</span><span class="p">(</span><span class="n">old_line</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span></div>
    <span class="n">plot</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">%</span> <span class="p">(</span><span class="n">plot_2_1D_options</span><span class="p">,</span>
                                   <span class="n">plot_keywords_doc</span><span class="p">,</span>
                                   <span class="n">graphics_method_core</span><span class="p">,</span>
                                   <span class="n">axesconvert</span><span class="p">,</span>
                                   <span class="n">plot_2_1D_input</span><span class="p">,</span>
                                   <span class="n">plot_output</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">plot_filledcontinents</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">slab</span><span class="p">,</span> <span class="n">template_name</span><span class="p">,</span> <span class="n">g_type</span><span class="p">,</span> <span class="n">g_name</span><span class="p">,</span> <span class="n">bg</span><span class="p">,</span> <span class="n">ratio</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="n">cdutil</span><span class="o">.</span><span class="n">continent_fill</span><span class="o">.</span><span class="n">Gcf</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">g_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;boxfill&#39;</span><span class="p">:</span>
            <span class="n">g</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getboxfill</span><span class="p">(</span><span class="n">g_name</span><span class="p">)</span>
        <span class="n">lons</span> <span class="o">=</span> <span class="n">slab</span><span class="o">.</span><span class="n">getLongitude</span><span class="p">()</span>
        <span class="n">lats</span> <span class="o">=</span> <span class="n">slab</span><span class="o">.</span><span class="n">getLatitude</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">lons</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">lats</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">&gt;</span> <span class="mf">9.9E19</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">=</span> <span class="n">lons</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">datawc_x1</span>
        <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">&gt;</span> <span class="mf">9.9E19</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">=</span> <span class="n">lons</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">datawc_x2</span>
        <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">&gt;</span> <span class="mf">9.9E19</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">=</span> <span class="n">lats</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">datawc_y1</span>
        <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">&gt;</span> <span class="mf">9.9E19</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">=</span> <span class="n">lats</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">datawc_y2</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gettemplate</span><span class="p">(</span><span class="n">template_name</span><span class="p">)</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="n">template_name</span><span class="p">,</span> <span class="n">ratio</span><span class="o">=</span><span class="n">ratio</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="nb">print</span> <span class="n">err</span>

    <span class="k">def</span> <span class="nf">__new_elts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">original</span><span class="p">,</span> <span class="n">new</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">e</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">original</span><span class="p">[</span><span class="n">e</span><span class="p">]:</span>
                    <span class="n">new</span><span class="p">[</span><span class="n">e</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new</span>

    <span class="k">def</span> <span class="nf">__plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arglist</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">):</span>

            <span class="c1"># This routine has five arguments in arglist from _determine_arg_list</span>
            <span class="c1"># It adds one for bg and passes those on to Canvas.plot as its sixth</span>
            <span class="c1"># arguments.</span>

            <span class="c1"># First of all let&#39;s remember which elets we have before comin in here</span>
            <span class="c1"># so that anything added (temp objects) can be removed at clear</span>
            <span class="c1"># time</span>
        <span class="n">original_elts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">new_elts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">original_elts</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="n">new_elts</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># First of all try some cleanup</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">arglist</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
        <span class="n">xtrakw</span> <span class="o">=</span> <span class="n">arglist</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">xtrakw</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;Multiple Definition for &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">keyargs</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">xtrakw</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="k">assert</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">isVariable</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">assert</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">isVariable</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">vcsaddons</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">VCSaddon</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animate</span><span class="o">.</span><span class="n">is_playing</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animate</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">animate</span><span class="o">.</span><span class="n">is_playing</span><span class="p">():</span>
                <span class="k">pass</span>
        <span class="c1"># reset animation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animate</span><span class="o">.</span><span class="n">create_flg</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Store the origin template. The template used to plot may be changed below by the</span>
        <span class="c1"># _create_random_template function, which copies templates for</span>
        <span class="c1"># modifications.</span>
        <span class="n">template_origin</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">tmptmpl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gettemplate</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">tmptmpl</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">_ratio</span> <span class="o">=</span> <span class="o">-</span><span class="mi">999</span>

        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;default_dud&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;taylordiagram&#39;</span><span class="p">:</span>
                <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;deftaylor&quot;</span>
                <span class="c1"># copy_tmpl=self.createtemplate(source=&#39;deftaylor&#39;)</span>
            <span class="c1"># else:</span>
            <span class="c1">#    copy_tmpl=self.createtemplate(source=arglist[2])</span>
        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getgraphicsmethod</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="n">check_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">gettemplate</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="c1"># By defalut do the ratio thing for lat/lon and linear projection</span>
        <span class="c1"># but it can be overwritten by keyword</span>
        <span class="n">doratio</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ratio&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ratio</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">doratio</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;t&#39;</span> <span class="ow">and</span> <span class="n">doratio</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">doratio</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mf">0.</span><span class="p">:</span>
                <span class="n">doratio</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>

        <span class="c1"># Check for curvilinear grids, and wrap options !</span>
        <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inGrid</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">inGrid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span>
                <span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;meshfill&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span>
                    <span class="n">inGrid</span><span class="p">,</span> <span class="p">(</span><span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">)):</span>
                <span class="n">g</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getmeshfill</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                <span class="k">if</span> <span class="s1">&#39;wrap&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keyargs</span> <span class="ow">and</span> <span class="n">g</span><span class="o">.</span><span class="n">wrap</span> <span class="o">==</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]:</span>
                    <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;wrap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">360.</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;yxvsx&#39;</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xs</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                    <span class="n">ys</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">xs</span><span class="o">.</span><span class="n">isLongitude</span><span class="p">()</span> <span class="ow">and</span> <span class="n">ys</span><span class="o">.</span><span class="n">isLatitude</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span>
                            <span class="n">inGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">TransientRectGrid</span><span class="p">):</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">inGrid</span><span class="o">.</span><span class="n">getMesh</span><span class="p">())</span>
                        <span class="k">if</span> <span class="s1">&#39;wrap&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="p">:</span>
                            <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;wrap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">360.</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="n">ys</span><span class="o">.</span><span class="n">isLongitude</span><span class="p">()</span> <span class="ow">and</span> <span class="n">xs</span><span class="o">.</span><span class="n">isLatitude</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">TransientRectGrid</span><span class="p">):</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">inGrid</span><span class="o">.</span><span class="n">getMesh</span><span class="p">())</span>
                        <span class="k">if</span> <span class="s2">&quot;wrap&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="p">:</span>
                            <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;wrap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">360.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;boxfill&#39;</span>
                        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                            <span class="s1">&#39;boxfill&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;default&#39;</span><span class="p">)</span>
                        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                        <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getmeshfill</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                        <span class="n">md</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getmeshfill</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">md</span><span class="o">.</span><span class="n">levels</span> <span class="o">!=</span> <span class="n">m</span><span class="o">.</span><span class="n">levels</span><span class="p">:</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">boxfill_type</span> <span class="o">=</span> <span class="s1">&#39;custom&#39;</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">levels</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">levels</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">fillareacolors</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">fillareacolors</span>
                        <span class="k">for</span> <span class="n">att</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;projection&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;xticlabels1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;xticlabels2&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;xmtics1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;xmtics2&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;yticlabels1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;yticlabels2&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;ymtics1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;ymtics2&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;datawc_x1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;datawc_x2&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;datawc_y1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;datawc_y2&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;xaxisconvert&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;yaxisconvert&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;legend&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;ext_1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;ext_2&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;missing&#39;</span><span class="p">]:</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">,</span> <span class="n">att</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">att</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> \
                <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">2</span> \
                <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;boxfill&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span> \
                <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">):</span>
            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1d&#39;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getyxvsx</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                <span class="c1"># tmp.list()</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
        <span class="k">elif</span> <span class="n">inGrid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span>\
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">avariable</span><span class="o">.</span><span class="n">AbstractVariable</span><span class="p">)</span> <span class="ow">and</span>\
                <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">AbstractRectGrid</span><span class="p">)</span> <span class="ow">and</span>\
                <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;boxfill&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;meshfill&quot;</span>

<span class="c1"># arglist[4]=copy_mthd.name</span>
        <span class="c1"># Ok let&#39;s check for meshfill needed</span>
        <span class="k">if</span> <span class="n">inGrid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span>\
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">avariable</span><span class="o">.</span><span class="n">AbstractVariable</span><span class="p">)</span> <span class="ow">and</span>\
                <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">(),</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">AbstractRectGrid</span><span class="p">)</span> <span class="ow">and</span>\
                <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;meshfill&quot;</span><span class="p">,</span> <span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;You are attempting to plot unstructured grid&quot;</span> <span class="o">+</span>
                               <span class="s2">&quot;with a method that is not meshfill&quot;</span><span class="p">)</span>
        <span class="c1"># preprocessing for extra keyword (at-plotting-time options)</span>
        <span class="n">cmds</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># First of all a little preprocessing for legend !</span>
        <span class="k">if</span> <span class="s1">&#39;legend&#39;</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;boxfill&#39;</span><span class="p">:</span>
            <span class="c1"># we now have a possible problem since it can be legend for the</span>
            <span class="c1"># graphic method or the template!</span>
            <span class="n">k</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;legend&#39;</span><span class="p">]</span>
            <span class="n">isboxfilllegend</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">({})):</span>
                <span class="c1">#                print k.keys()</span>
                <span class="c1"># ok it&#39;s a dictionary if the key type is string then it&#39;s for</span>
                <span class="c1"># template, else it&#39;s for boxfill</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)):</span>
                    <span class="c1"># not a string, therefore it&#39;s boxfill !</span>
                    <span class="n">isboxfilllegend</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">type</span><span class="p">([]),</span> <span class="nb">type</span><span class="p">(())]:</span>
                <span class="c1"># ok it&#39;s a list therefore if the length is not 4 we have a</span>
                <span class="c1"># boxfill legend</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">isboxfilllegend</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">type</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">type</span><span class="p">({}),</span> <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="mf">0.</span><span class="p">)]:</span>
                        <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                            <span class="s2">&quot;Error, at-plotting-time argument &#39;legend&#39; is ambiguous in this context</span><span class="se">\n</span><span class="s2">&quot;</span>
                            <span class="s2">&quot;Cannot determine if it is template or boxfill keyword,</span><span class="se">\n</span><span class="s2"> tips to solve that:</span><span class="se">\n</span><span class="s2">&quot;</span>
                            <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">if you aim at boxfill keyword, pass legend as a dictionary, </span><span class="se">\n</span><span class="s2">&quot;</span>
                            <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">if your aim at template, add {&#39;priority&#39;:1} at the end of the list</span><span class="se">\n</span><span class="s2">&quot;</span>
                            <span class="s2">&quot;Currently legend is passed as:&quot;</span> <span class="o">+</span>
                            <span class="nb">repr</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
                    <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="n">isboxfilllegend</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># ok it&#39;s length 4, now the only hope left is that not all</span>
                    <span class="c1"># values are between 0 and 1</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">k</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">1.</span> <span class="ow">or</span> <span class="n">k</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.</span><span class="p">:</span>
                            <span class="n">isboxfilllegend</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">isboxfilllegend</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                            <span class="s2">&quot;Error, at-plotting-time argument &#39;legend&#39; is ambiguous&quot;</span>
                            <span class="s2">&quot;in this context</span><span class="se">\n</span><span class="s2">Cannot determine if it is template or boxfill keyword,</span><span class="se">\n</span><span class="s2"> &quot;</span>
                            <span class="s2">&quot;tips to solve that:</span><span class="se">\n\t</span><span class="s2">if you aim at boxfill keyword, pass legend as a dictionary, </span><span class="se">\n</span><span class="s2">&quot;</span>
                            <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">if your aim at template, add {&#39;priority&#39;:1} at the end of the list</span><span class="se">\n</span><span class="s2">&quot;</span>
                            <span class="s2">&quot;Currently legend is passed as:&quot;</span> <span class="o">+</span>
                            <span class="nb">repr</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>

            <span class="c1"># ok it is for the boxfill let&#39;s do it</span>
            <span class="k">if</span> <span class="n">isboxfilllegend</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">legend</span> <span class="o">=</span> <span class="n">k</span>
                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;legend&#39;</span><span class="p">])</span>
                <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>

        <span class="c1"># There is no way of knowing if the template has been called prior to this plot command.</span>
        <span class="c1"># So it is done here to make sure that the template coordinates are normalized. If already</span>
        <span class="c1"># normalized, then no change will to the template.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gettemplate</span><span class="p">(</span><span class="n">template_origin</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="c1"># Creates dictionary/list to remember what we changed</span>
        <span class="n">slab_changed_attributes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">axes_changed</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">axes_changed2</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># loops through possible keywords for graphic method</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;projection&#39;</span><span class="p">,</span>
                <span class="s1">&#39;xticlabels1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;xticlabels2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;xmtics1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;xmtics2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;yticlabels1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;yticlabels2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ymtics1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ymtics2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;datawc_x1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;datawc_y1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;datawc_x2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;datawc_y2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;xaxisconvert&#39;</span><span class="p">,</span>
                <span class="s1">&#39;yaxisconvert&#39;</span><span class="p">,</span>
                <span class="s1">&#39;label&#39;</span><span class="p">,</span>
                <span class="s1">&#39;labelskipdistance&#39;</span><span class="p">,</span>
                <span class="s1">&#39;line&#39;</span><span class="p">,</span>
                <span class="s1">&#39;linewidth&#39;</span><span class="p">,</span>
                <span class="s1">&#39;linecolors&#39;</span><span class="p">,</span>
                <span class="s1">&#39;text&#39;</span><span class="p">,</span>
                <span class="s1">&#39;textcolors&#39;</span><span class="p">,</span>
                <span class="s1">&#39;level&#39;</span><span class="p">,</span>
                <span class="s1">&#39;level_1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;level_2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ext_1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ext_2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;missing&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color_1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color_2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;fillareastyle&#39;</span><span class="p">,</span>
                <span class="s1">&#39;fillareacolors&#39;</span><span class="p">,</span>
                <span class="s1">&#39;fillareaindices&#39;</span><span class="p">,</span>
                <span class="s1">&#39;levels&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mesh&#39;</span><span class="p">,</span>
                <span class="s1">&#39;wrap&#39;</span><span class="p">,</span>
                <span class="s1">&#39;marker&#39;</span><span class="p">,</span>
                <span class="s1">&#39;markercolor&#39;</span><span class="p">,</span>
                <span class="s1">&#39;markersize&#39;</span><span class="p">,</span>
                <span class="s1">&#39;linecolor&#39;</span><span class="p">,</span>
                <span class="s1">&#39;detail&#39;</span><span class="p">,</span>
                <span class="s1">&#39;max&#39;</span><span class="p">,</span>
                <span class="s1">&#39;quadrans&#39;</span><span class="p">,</span>
                <span class="s1">&#39;skillValues&#39;</span><span class="p">,</span>
                <span class="s1">&#39;skillColor&#39;</span><span class="p">,</span>
                <span class="s1">&#39;skillCoefficient&#39;</span><span class="p">,</span>
                <span class="s1">&#39;referencevalue&#39;</span><span class="p">,</span>
                <span class="s1">&#39;arrowlength&#39;</span><span class="p">,</span>
                <span class="s1">&#39;arrowangle&#39;</span><span class="p">,</span>
                <span class="s1">&#39;arrowbase&#39;</span><span class="p">,</span>
                <span class="s1">&#39;scale&#39;</span><span class="p">,</span>
                <span class="s1">&#39;alignement&#39;</span><span class="p">,</span>
                <span class="s1">&#39;type&#39;</span><span class="p">,</span>
                <span class="s1">&#39;reference&#39;</span><span class="p">,</span>
                <span class="c1"># Now the &quot;special&quot; keywords</span>
                <span class="s1">&#39;worldcoordinate&#39;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">if</span> <span class="n">p</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;worldcoordinate&#39;</span><span class="p">,</span> <span class="p">]:</span>  <span class="c1"># not a special keywords</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
                <span class="k">elif</span> <span class="n">p</span> <span class="o">==</span> <span class="s1">&#39;worldcoordinate&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">,</span> <span class="s1">&#39;datawc_x1&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">,</span> <span class="s1">&#39;datawc_x2&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">,</span> <span class="s1">&#39;datawc_y1&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">,</span> <span class="s1">&#39;datawc_y2&#39;</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">3</span><span class="p">])</span>
                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
            <span class="c1"># Now template settings keywords</span>
            <span class="k">elif</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;viewport&#39;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="n">check_tmpl</span> <span class="o">=</span> <span class="n">copy_tmpl</span>
                <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span>
                    <span class="s1">&#39;x&#39;</span><span class="p">,</span>
                    <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
                    <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">x1</span><span class="p">,</span>
                    <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">x2</span><span class="p">)</span>
                <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span>
                    <span class="s1">&#39;y&#39;</span><span class="p">,</span>
                    <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span>
                    <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span>
                    <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y1</span><span class="p">,</span>
                    <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y2</span><span class="p">)</span>
                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
            <span class="c1"># Now template and x/y related stuff (1 dir only)</span>
            <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;label1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;label2&#39;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="n">check_tmpl</span> <span class="o">=</span> <span class="n">copy_tmpl</span>
                <span class="n">k</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
                <span class="c1"># not a list means only priority set</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">([])):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="n">kk</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">kk</span><span class="p">])</span>

                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
            <span class="c1"># Now template and x1 and x2/y1 and y2 related stuff (1 dir only)</span>
            <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;mintic1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mintic2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;tic1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;tic2&#39;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="n">check_tmpl</span> <span class="o">=</span> <span class="n">copy_tmpl</span>

                <span class="n">k</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
                <span class="c1"># not a list means only priority set</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">([])):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="n">kk</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;y1&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;y2&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;x2&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">kk</span><span class="p">])</span>

                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
            <span class="c1"># Now template with x1, x2, x3, x4, x5</span>
            <span class="k">elif</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;box1&#39;</span><span class="p">,</span> <span class="s1">&#39;box2&#39;</span><span class="p">,</span> <span class="s1">&#39;box3&#39;</span><span class="p">,</span> <span class="s1">&#39;box4&#39;</span><span class="p">,</span>
                <span class="s1">&#39;line1&#39;</span><span class="p">,</span> <span class="s1">&#39;line2&#39;</span><span class="p">,</span> <span class="s1">&#39;line3&#39;</span><span class="p">,</span> <span class="s1">&#39;line4&#39;</span><span class="p">,</span>
                <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;legend&#39;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="n">check_tmpl</span> <span class="o">=</span> <span class="n">copy_tmpl</span>
                <span class="n">k</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
                <span class="c1"># not a list means only priority set</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">([])):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="n">kk</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;x2&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;y1&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;y2&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">kk</span><span class="p">])</span>

                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
            <span class="c1"># Now MV2 related keywords</span>
            <span class="c1"># Charles note: It&#39;s here that we need to remember what changed so</span>
            <span class="c1"># i can unset it later</span>
            <span class="k">elif</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;title&#39;</span><span class="p">,</span>
                <span class="s1">&#39;comment1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;comment2&#39;</span><span class="p">,</span>
                <span class="s1">&#39;comment3&#39;</span><span class="p">,</span>
                <span class="s1">&#39;comment4&#39;</span><span class="p">,</span>
                <span class="s1">&#39;source&#39;</span><span class="p">,</span>
                <span class="s1">&#39;crdate&#39;</span><span class="p">,</span>
                <span class="s1">&#39;crtime&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dataname&#39;</span><span class="p">,</span>
                <span class="s1">&#39;file&#39;</span><span class="p">,</span>
                <span class="s1">&#39;function&#39;</span><span class="p">,</span>
                <span class="s1">&#39;transformation&#39;</span><span class="p">,</span>
                <span class="s1">&#39;units&#39;</span><span class="p">,</span>
                <span class="s1">&#39;id&#39;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="n">k</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="n">check_tmpl</span> <span class="o">=</span> <span class="n">copy_tmpl</span>
                <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">check_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
                        <span class="n">k</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>  <span class="c1"># not a list means only priority set</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="n">kk</span><span class="p">])</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="n">slab_changed_attributes</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span>
<span class="c1"># if hasattr(arglist[0],p):</span>
<span class="c1"># slab_changed_attributes[p]=getattr(arglist[0],p)</span>
<span class="c1"># else:</span>
<span class="c1"># slab_created_attributes.append(p)</span>
<span class="c1"># setattr(arglist[0],p,k)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># if hasattr(arglist[0],p):</span>
                    <span class="c1"># slab_changed_attributes[p]=getattr(arglist[0],p)</span>
                    <span class="c1"># else:</span>
                    <span class="c1"># slab_created_attributes.append(p)</span>
                    <span class="c1"># setattr(arglist[0],p,k[0])</span>
                    <span class="n">slab_changed_attributes</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">kk</span><span class="p">])</span>

                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
            <span class="c1"># Now Axis related keywords</span>
            <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                <span class="s1">&#39;value&#39;</span><span class="p">,</span>
                <span class="s1">&#39;units&#39;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span>
                    <span class="n">ax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                    <span class="k">if</span> <span class="s1">&#39;xaxis&#39;</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;xaxis&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                        <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;xaxis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
                    <span class="n">g</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">()</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="p">(</span><span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">))</span> <span class="ow">or</span> <span class="n">arglist</span><span class="p">[</span>
                            <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;meshfill&#39;</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="k">del</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                    <span class="n">ax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                    <span class="k">if</span> <span class="s1">&#39;yaxis&#39;</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;yaxis&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                        <span class="n">keyargs</span><span class="p">[</span><span class="s1">&#39;yaxis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
                    <span class="n">g</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">()</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="p">(</span><span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">))</span> <span class="ow">or</span> <span class="n">arglist</span><span class="p">[</span>
                            <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;meshfill&#39;</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="k">del</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span>
                    <span class="n">ax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getLevel</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span>
                    <span class="n">ax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getTime</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">ids</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxisIds</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">)):</span>
                        <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">ids</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axes_changed</span><span class="p">:</span>
                                <span class="n">axes_changed</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
                    <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">ids2</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getAxisIds</span><span class="p">()</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ids2</span><span class="p">)):</span>
                            <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">ids2</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                                <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axes_changed2</span><span class="p">:</span>
                                    <span class="n">axes_changed2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
                <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">check_tmpl</span> <span class="o">=</span> <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span>
                        <span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                <span class="n">k</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="c1"># not a list means only priority set</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">([])):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="n">kk</span><span class="p">])</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">)):</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">k</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">try</span><span class="p">:</span>
                                <span class="nb">setattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                            <span class="k">except</span><span class="p">:</span>
                                <span class="c1"># print err</span>
                                <span class="k">pass</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="p">({})):</span>
                        <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">copy_tmpl</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">kk</span><span class="p">,</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">kk</span><span class="p">])</span>

                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
            <span class="c1"># Finally take care of commands</span>
            <span class="k">elif</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;pdf&#39;</span><span class="p">,</span> <span class="s1">&#39;ps&#39;</span><span class="p">,</span> <span class="s1">&#39;postscript&#39;</span><span class="p">,</span> <span class="s1">&#39;gif&#39;</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="n">cmds</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>

        <span class="c1"># Check if datawc has time setting in it</span>
        <span class="c1"># if copy_mthd is None:</span>
        <span class="c1">#     if arglist[3]!=&#39;default&#39;:</span>
        <span class="c1">#         copy_mthd=vcs.creategraphicsmethod(arglist[3],arglist[4])</span>
        <span class="c1">#         print &quot;5555555&quot;</span>
        <span class="c1">#     else:</span>
        <span class="c1">#         copy_mthd=vcs.creategraphicsmethod(&#39;boxfill&#39;,arglist[4])</span>
        <span class="c1">#         print &quot;5555555bbbbbbbb&quot;</span>
        <span class="c1">#     wasnone=1</span>
<span class="c1"># and (type(copy_mthd.datawc_x1) in [type(cdtime.comptime(1900)),type(cdtime.reltime(0,&#39;days since 1900&#39;))] or \</span>
<span class="c1"># type(copy_mthd.datawc_x2) in</span>
<span class="c1"># [type(cdtime.comptime(1900)),type(cdtime.reltime(0,&#39;days since 1900&#39;))])</span>
<span class="c1"># \</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">check_mthd</span><span class="p">,</span> <span class="s1">&#39;datawc_x1&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">check_mthd</span><span class="p">,</span> <span class="s1">&#39;datawc_x2&#39;</span><span class="p">))</span> \
                <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isTime</span><span class="p">()</span> \
                <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">xticlabels1</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span> \
                <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">xticlabels2</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span> \
                <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">xmtics1</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span> \
                <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">xmtics2</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span> \
                <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;G1d&#39;</span><span class="p">]</span> <span class="ow">and</span>
                         <span class="p">(</span><span class="n">check_mthd</span><span class="o">.</span><span class="n">flip</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">or</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span>
                         <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># used to be GXy GX</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxisIds</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">ids</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axes_changed</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                        <span class="n">axes_changed</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ids2</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getAxisIds</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ids2</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">ids2</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axes_changed2</span><span class="p">:</span>
                            <span class="n">axes_changed2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">toRelativeTime</span><span class="p">(</span>
                    <span class="n">check_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                    <span class="n">check_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                <span class="n">convertedok</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">convertedok</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="c1"># and check_mthd.g_name not in [&quot;G1d&quot;,]: #used to be Gsp</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">check_mthd</span><span class="o">.</span><span class="n">xticlabels1</span> <span class="o">==</span>
                    <span class="s1">&#39;*&#39;</span> <span class="ow">or</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">xticlabels2</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">convertedok</span><span class="p">:</span>
                <span class="n">convert_datawc</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">for</span> <span class="n">cax</span> <span class="ow">in</span> <span class="n">axes_changed</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">axes_changed</span><span class="p">[</span><span class="n">cax</span><span class="p">]</span> <span class="o">==</span> <span class="n">ax</span><span class="p">:</span>
                        <span class="n">convert_datawc</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">convert_datawc</span><span class="p">:</span>
                    <span class="n">oax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="n">cax</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                    <span class="n">t</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">check_mthd</span><span class="o">.</span><span class="n">datawc_x1</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">type</span><span class="p">(</span><span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;months since 1900&#39;</span><span class="p">)),</span> <span class="nb">type</span><span class="p">(</span>
                            <span class="n">cdtime</span><span class="o">.</span><span class="n">comptime</span><span class="p">(</span><span class="mi">1900</span><span class="p">))]:</span>
                        <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                                <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                            <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                        <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">&gt;</span> <span class="mf">9.E19</span><span class="p">:</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span>
                                <span class="n">oax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                <span class="n">oax</span><span class="o">.</span><span class="n">units</span><span class="p">)</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span>
                                <span class="n">oax</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span><span class="o">.</span><span class="n">torel</span><span class="p">(</span>
                                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span>
                                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x1</span><span class="p">,</span>
                                <span class="n">oax</span><span class="o">.</span><span class="n">units</span><span class="p">)</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span>
                                <span class="n">oax</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span><span class="o">.</span><span class="n">torel</span><span class="p">(</span>
                                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">&gt;</span> <span class="mf">9.E19</span><span class="p">:</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span><span class="n">oax</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">oax</span><span class="o">.</span><span class="n">units</span><span class="p">)</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span>
                                <span class="n">oax</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span><span class="o">.</span><span class="n">torel</span><span class="p">(</span><span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span>
                                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x2</span><span class="p">,</span>
                                <span class="n">oax</span><span class="o">.</span><span class="n">units</span><span class="p">)</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span>
                                <span class="n">oax</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span><span class="o">.</span><span class="n">torel</span><span class="p">(</span>
                                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                                <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">xticlabels1</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                    <span class="n">copy_mthd</span><span class="o">.</span><span class="n">xticlabels1</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">generate_time_labels</span><span class="p">(</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x1</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x2</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">xticlabels2</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                    <span class="n">copy_mthd</span><span class="o">.</span><span class="n">xticlabels2</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">generate_time_labels</span><span class="p">(</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x1</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_x2</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">check_mthd</span><span class="p">,</span> <span class="s1">&#39;g_name&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Gfm&#39;</span> <span class="ow">and</span>
                  <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">(),</span> <span class="p">(</span><span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">))):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isTime</span><span class="p">():</span>  <span class="c1"># used to GXy</span>
                    <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">xticlabels1</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span> <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">xticlabels2</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span> <span class="ow">and</span>\
                            <span class="ow">not</span> <span class="p">(</span><span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;G1d&#39;</span> <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">flip</span><span class="p">)</span> <span class="ow">and</span>\
                            <span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;G1d&#39;</span><span class="p">]:</span>  <span class="c1"># used to be GSp</span>
                        <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                                <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                            <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                        <span class="n">t</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                        <span class="n">timeunits</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">units</span>
                        <span class="n">calendar</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">()</span>
                        <span class="n">t0</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">timeunits</span><span class="p">)</span>
                        <span class="n">t1</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">timeunits</span><span class="p">)</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">xticlabels1</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">generate_time_labels</span><span class="p">(</span>
                            <span class="n">t0</span><span class="p">,</span>
                            <span class="n">t1</span><span class="p">,</span>
                            <span class="n">timeunits</span><span class="p">,</span>
                            <span class="n">calendar</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">check_mthd</span><span class="p">,</span> <span class="s1">&#39;datawc_y1&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">check_mthd</span><span class="p">,</span> <span class="s1">&#39;datawc_y2&#39;</span><span class="p">))</span>\
                <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">yticlabels1</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span> \
                <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">yticlabels2</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span> \
                <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">ymtics1</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span> \
                <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">ymtics2</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span> \
                <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">isTime</span><span class="p">()</span> \
                <span class="ow">and</span> <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">ndim</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="p">(</span><span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;G1d&#39;</span> <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">flip</span><span class="p">))</span> \
                <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;Gfm&#39;</span> <span class="ow">and</span>
                         <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">(),</span>
                                    <span class="p">(</span><span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">))):</span>  <span class="c1"># GXy</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
            <span class="c1"># used to be  Sp</span>
            <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s2">&quot;G1d&quot;</span> <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">linewidth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                <span class="n">axes_changed2</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxisIds</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">ids</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axes_changed</span><span class="p">:</span>
                        <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                        <span class="n">axes_changed</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
<span class="c1"># else:</span>
<span class="c1"># ax=axes_changed[i]</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ids2</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getAxisIds</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ids2</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">ids2</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axes_changed2</span><span class="p">:</span>
                            <span class="n">axes_changed2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
<span class="c1"># else:</span>
<span class="c1"># ax=axes_changed2[i]</span>
                        <span class="k">break</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">toRelativeTime</span><span class="p">(</span>
                    <span class="n">check_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                    <span class="n">check_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                <span class="n">convertedok</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">convertedok</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">check_mthd</span><span class="o">.</span><span class="n">yticlabels1</span> <span class="o">==</span>
                    <span class="s1">&#39;*&#39;</span> <span class="ow">or</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">yticlabels2</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">convertedok</span><span class="p">:</span>
                <span class="n">convert_datawc</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">A</span> <span class="o">=</span> <span class="n">axes_changed</span>
                <span class="c1"># GSp</span>
                <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s2">&quot;G1d&quot;</span> <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">linewidth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">A</span> <span class="o">=</span> <span class="n">axes_changed2</span>
                <span class="k">for</span> <span class="n">cax</span> <span class="ow">in</span> <span class="n">A</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">cax</span><span class="p">]</span> <span class="ow">is</span> <span class="n">ax</span><span class="p">:</span>
                        <span class="n">convert_datawc</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">convert_datawc</span><span class="p">:</span>
                    <span class="n">oax</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="n">cax</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">&gt;</span> <span class="mf">9.E19</span><span class="p">:</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span>
                            <span class="n">oax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                            <span class="n">oax</span><span class="o">.</span><span class="n">units</span><span class="p">)</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span>
                            <span class="n">oax</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span><span class="o">.</span><span class="n">torel</span><span class="p">(</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y1</span><span class="p">,</span>
                            <span class="n">oax</span><span class="o">.</span><span class="n">units</span><span class="p">)</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span>
                            <span class="n">oax</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span><span class="o">.</span><span class="n">torel</span><span class="p">(</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">&gt;</span> <span class="mf">9.E19</span><span class="p">:</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span><span class="n">oax</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">oax</span><span class="o">.</span><span class="n">units</span><span class="p">)</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span>
                            <span class="n">oax</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span><span class="o">.</span><span class="n">torel</span><span class="p">(</span><span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y2</span><span class="p">,</span>
                            <span class="n">oax</span><span class="o">.</span><span class="n">units</span><span class="p">)</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span>
                            <span class="n">oax</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span><span class="o">.</span><span class="n">torel</span><span class="p">(</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                            <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">yticlabels1</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                    <span class="n">copy_mthd</span><span class="o">.</span><span class="n">yticlabels1</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">generate_time_labels</span><span class="p">(</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y1</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y2</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">yticlabels2</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                        <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                    <span class="n">copy_mthd</span><span class="o">.</span><span class="n">yticlabels2</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">generate_time_labels</span><span class="p">(</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y1</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_y2</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_timeunits</span><span class="p">,</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">datawc_calendar</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">check_mthd</span><span class="p">,</span> <span class="s1">&#39;g_name&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Gfm&#39;</span> <span class="ow">and</span>
                  <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">(),</span>
                             <span class="p">(</span><span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">))):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># [&#39;GYx&#39;,&#39;GXy&#39;,&#39;GXY&#39;,&#39;GSp&#39;]:</span>
                <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span>
                        <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">isTime</span><span class="p">()</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">ndim</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;G1d&quot;</span><span class="p">,</span> <span class="p">]:</span>
                    <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">yticlabels1</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span> <span class="ow">and</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">yticlabels2</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span>
                                <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                            <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
<span class="c1"># print</span>
<span class="c1"># copy_mthd.datawc_y1,copy_mthd.datawc_y2,copy_mthd.datawc_timeunits,copy_mthd.datawc_calendar</span>
                        <span class="n">t</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                        <span class="n">timeunits</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">units</span>
                        <span class="n">calendar</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">()</span>
                        <span class="n">t0</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">timeunits</span><span class="p">)</span>
                        <span class="n">t1</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">timeunits</span><span class="p">)</span>
                        <span class="n">copy_mthd</span><span class="o">.</span><span class="n">yticlabels1</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">generate_time_labels</span><span class="p">(</span>
                            <span class="n">t0</span><span class="p">,</span>
                            <span class="n">t1</span><span class="p">,</span>
                            <span class="n">timeunits</span><span class="p">,</span>
                            <span class="n">calendar</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">def</span> <span class="nf">clean_val</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">numpy</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mf">0.</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">0.</span>
            <span class="k">elif</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="n">value</span> <span class="o">=</span> <span class="o">-</span><span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">i</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">k</span> <span class="o">=</span> <span class="mf">10.</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">k</span> <span class="o">=</span> <span class="mf">10.</span>
            <span class="n">v</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">/</span> <span class="n">numpy</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">j</span><span class="p">))</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">v</span> <span class="o">*</span> <span class="n">sign</span>

        <span class="k">def</span> <span class="nf">mkdic</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;area_wt&#39;</span><span class="p">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sin</span>
                <span class="n">func2</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arcsin</span>
            <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;exp&#39;</span><span class="p">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">exp</span>
                <span class="n">func2</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">log</span>
            <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;ln&#39;</span><span class="p">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">log</span>
                <span class="n">func2</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">exp</span>
            <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;log10&#39;</span><span class="p">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">log10</span>
            <span class="n">vals</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;area_wt&#39;</span><span class="p">:</span>
                    <span class="n">vals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">v</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">vals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
            <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">minmax</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
            <span class="n">levs</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">mkscale</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span>
<span class="c1"># levs=vcs.mkevenlevels(min,max)</span>
            <span class="n">vals</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">levs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;log10&#39;</span><span class="p">:</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;area_wt&#39;</span><span class="p">:</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="n">func2</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">/</span> <span class="n">numpy</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mf">180.</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="n">func2</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
                <span class="n">vals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clean_val</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
            <span class="n">dic</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">mklabels</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
            <span class="n">dic2</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">dic</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;area_wt&#39;</span><span class="p">:</span>
                        <span class="n">dic2</span><span class="p">[</span><span class="n">func</span><span class="p">(</span><span class="n">k</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.</span><span class="p">)]</span> <span class="o">=</span> <span class="n">dic</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dic2</span><span class="p">[</span><span class="n">func</span><span class="p">(</span><span class="n">k</span><span class="p">)]</span> <span class="o">=</span> <span class="n">dic</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">dic2</span>

        <span class="k">def</span> <span class="nf">set_convert_labels</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
            <span class="n">did_something</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">axc</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">mthd</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">,</span> <span class="n">axc</span> <span class="o">+</span> <span class="s1">&#39;axisconvert&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">mthd</span> <span class="o">!=</span> <span class="s1">&#39;linear&#39;</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span>
                                    <span class="n">copy_mthd</span><span class="p">,</span> <span class="n">axc</span> <span class="o">+</span> <span class="s1">&#39;ticlabels&#39;</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">axc</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span>
                                    <span class="n">axn</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                                <span class="k">else</span><span class="p">:</span>
                                    <span class="n">axn</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
                                <span class="n">dic</span> <span class="o">=</span> <span class="n">mkdic</span><span class="p">(</span><span class="n">mthd</span><span class="p">,</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="n">axn</span><span class="p">)[:])</span>
                                <span class="k">if</span> <span class="n">test</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                    <span class="nb">setattr</span><span class="p">(</span>
                                        <span class="n">copy_mthd</span><span class="p">,</span>
                                        <span class="n">axc</span> <span class="o">+</span>
                                        <span class="s1">&#39;ticlabels&#39;</span> <span class="o">+</span>
                                        <span class="n">num</span><span class="p">,</span>
                                        <span class="n">dic</span><span class="p">)</span>
                                <span class="n">did_something</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">return</span> <span class="n">did_something</span>

        <span class="k">if</span> <span class="n">set_convert_labels</span><span class="p">(</span><span class="n">check_mthd</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>
                <span class="n">set_convert_labels</span><span class="p">(</span><span class="n">copy_mthd</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">creategraphicsmethod</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">check_mthd</span> <span class="o">=</span> <span class="n">copy_mthd</span>

        <span class="n">x</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">y</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isLongitude</span><span class="p">():</span>
                <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;longitude&quot;</span>
            <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isLatitude</span><span class="p">():</span>
                <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;latitude&quot;</span>
            <span class="c1"># in [&quot;GXy&quot;,&quot;GXY&quot;]:</span>
            <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s2">&quot;G1d&quot;</span> <span class="ow">and</span> <span class="p">(</span>
                    <span class="n">check_mthd</span><span class="o">.</span><span class="n">flip</span> <span class="ow">or</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">datawc_x1</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">datawc_x2</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">x</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isCircularAxis</span><span class="p">():</span>
                        <span class="n">datawc_x1</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">datawc_x1</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">getBounds</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">datawc_x1</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isCircularAxis</span><span class="p">():</span>
                        <span class="n">datawc_x2</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">datawc_x2</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">getBounds</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">datawc_x2</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">isLongitude</span><span class="p">():</span>
                <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;longitude&quot;</span>
            <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">isLatitude</span><span class="p">():</span>
                <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;latitude&quot;</span>

            <span class="k">if</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s2">&quot;G1d&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">flip</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span>
                    <span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># in [&quot;GYx&quot;,]:</span>
                <span class="n">datawc_y1</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">datawc_y2</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">y</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="c1"># in [&quot;GYX&quot;,]:</span>
            <span class="k">elif</span> <span class="n">check_mthd</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s2">&quot;G1d&quot;</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">datawc_y1</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">datawc_y2</span> <span class="o">=</span> <span class="n">MV2</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">y</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">datawc_y1</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">getBounds</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">datawc_y1</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">datawc_y2</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">getBounds</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">datawc_y2</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getGrid</span><span class="p">(</span>
            <span class="p">),</span> <span class="p">(</span><span class="n">cdms2</span><span class="o">.</span><span class="n">gengrid</span><span class="o">.</span><span class="n">AbstractGenericGrid</span><span class="p">,</span> <span class="n">cdms2</span><span class="o">.</span><span class="n">hgrid</span><span class="o">.</span><span class="n">AbstractCurveGrid</span><span class="p">)):</span>
                <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;longitude&quot;</span>
                <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;latitude&quot;</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">copy_mthd</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">setTicksandLabels</span><span class="p">(</span>
                <span class="n">check_mthd</span><span class="p">,</span>
                <span class="n">copy_mthd</span><span class="p">,</span>
                <span class="n">datawc_x1</span><span class="p">,</span>
                <span class="n">datawc_x2</span><span class="p">,</span>
                <span class="n">datawc_y1</span><span class="p">,</span>
                <span class="n">datawc_y2</span><span class="p">,</span>
                <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">if</span> <span class="n">copy_mthd</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy_mthd</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">name</span>

        <span class="c1"># End of preprocessing !</span>

        <span class="c1"># get the background value</span>
        <span class="n">bg</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bg&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span>
                <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;taylordiagram&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">slab_changed_attributes</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">):</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">,</span> <span class="n">slab_changed_attributes</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
                <span class="n">slab_changed_attributes</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
            <span class="c1"># first look at the extra arguments and make sure there is no</span>
            <span class="c1"># duplicate</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span><span class="p">,</span> <span class="s1">&#39;bg&#39;</span><span class="p">]:</span>
                    <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;template&#39;</span><span class="p">:</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">keyargs</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
                    <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="c1"># look through the available taylordiagram methods and use the plot</span>
            <span class="c1"># function</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;taylordiagram&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;unknown taylordiagram graphic method: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">t</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">canvas</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="o">**</span><span class="n">keyargs</span><span class="p">)</span>

            <span class="n">dname</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;display_name&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dname</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dn</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;display&quot;</span><span class="p">][</span><span class="n">dname</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">nm</span><span class="p">,</span> <span class="n">src</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_name_source</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span><span class="p">)</span>
                <span class="n">dn</span> <span class="o">=</span> <span class="n">displayplot</span><span class="o">.</span><span class="n">Dp</span><span class="p">(</span><span class="n">nm</span><span class="p">)</span>
            <span class="n">dn</span><span class="o">.</span><span class="n">continents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getcontinentstype</span><span class="p">()</span>
            <span class="n">dn</span><span class="o">.</span><span class="n">continents_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getcontinentsline</span><span class="p">()</span>
            <span class="n">dn</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">dn</span><span class="o">.</span><span class="n">g_type</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="n">dn</span><span class="o">.</span><span class="n">g_name</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
            <span class="n">dn</span><span class="o">.</span><span class="n">array</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">dn</span><span class="o">.</span><span class="n">extradisplays</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">displays</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">slab_changed_attributes</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">slab_changed_attributes</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">tmp</span> <span class="o">==</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                    <span class="nb">delattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>
            <span class="n">dn</span><span class="o">.</span><span class="n">newelements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__new_elts</span><span class="p">(</span><span class="n">original_elts</span><span class="p">,</span> <span class="n">new_elts</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">dn</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># not taylor diagram</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">vcsaddons</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">VCSaddon</span><span class="p">):</span>
                <span class="n">gm</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">tp</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">tp</span> <span class="o">==</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span>
                    <span class="n">tp</span> <span class="o">=</span> <span class="s2">&quot;textcombined&quot;</span>
                <span class="k">elif</span> <span class="n">tp</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
                    <span class="n">tp</span> <span class="o">=</span> <span class="s2">&quot;boxfill&quot;</span>
                <span class="k">elif</span> <span class="n">tp</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;xvsy&quot;</span><span class="p">,</span> <span class="s2">&quot;xyvsy&quot;</span><span class="p">,</span> <span class="s2">&quot;yxvsx&quot;</span><span class="p">,</span> <span class="s2">&quot;scatter&quot;</span><span class="p">):</span>
                    <span class="n">tp</span> <span class="o">=</span> <span class="s2">&quot;1d&quot;</span>
                <span class="n">gm</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">tp</span><span class="p">][</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">gm</span><span class="p">,</span> <span class="s2">&quot;priority&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">gm</span><span class="o">.</span><span class="n">priority</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getprojection</span><span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">projection</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">type</span> <span class="ow">in</span> <span class="n">no_deformation_projections</span> <span class="ow">and</span> <span class="p">(</span>
                    <span class="n">doratio</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span> <span class="ow">or</span> <span class="n">doratio</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">):</span>
                <span class="n">doratio</span> <span class="o">=</span> <span class="s2">&quot;1t&quot;</span>
            <span class="k">for</span> <span class="n">keyarg</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">keyarg</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">_plot_keywords_</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">_plot_keywords</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">keyarg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">_deprecated_plot_keywords_</span><span class="p">:</span>
                        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Deprecation Warning: Keyword &#39;</span><span class="si">%s</span><span class="s2">&#39; will be removed in the next version&quot;</span>
                                      <span class="s2">&quot;of UV-CDAT.&quot;</span> <span class="o">%</span> <span class="n">keyarg</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                            <span class="s1">&#39;Unrecognized vcs plot keyword: </span><span class="si">%s</span><span class="s1">, assuming backend (</span><span class="si">%s</span><span class="s1">) keyword&#39;</span> <span class="o">%</span>
                            <span class="p">(</span><span class="n">keyarg</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">type</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s1">&#39;variable&#39;</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="p">:</span>
                <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reconstruct_tv</span><span class="p">(</span><span class="n">arglist</span><span class="p">,</span> <span class="n">keyargs</span><span class="p">)</span>
                <span class="c1"># Now applies the attributes change</span>
                <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">slab_changed_attributes</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">):</span>
                        <span class="n">tmp</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">tmp</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">,</span> <span class="n">slab_changed_attributes</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
                    <span class="n">slab_changed_attributes</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
                <span class="c1"># Now applies the axes changes</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axes_changed</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setAxis</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">axes_changed</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axes_changed2</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">setAxis</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">axes_changed2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="c1"># Check to make sure that you have at least 2 dimensions for the follow graphics methods</span>
            <span class="c1"># Flipping the order to avoid the tv not exist problem</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;boxfill&#39;</span><span class="p">,</span> <span class="s1">&#39;isofill&#39;</span><span class="p">,</span> <span class="s1">&#39;isoline&#39;</span><span class="p">,</span> <span class="s1">&#39;vector&#39;</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span>
                    <span class="nb">len</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                    <span class="s1">&#39;Invalid number of dimensions for </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

            <span class="c1"># Ok now does the linear projection for lat/lon ratio stuff</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;marker&#39;</span><span class="p">,</span> <span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="s1">&#39;fillarea&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">]:</span>
                <span class="c1"># fist create a dummy template</span>
                <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">()</span>
                <span class="c1"># Now creates a copy of the primitives, in case it&#39;s used on</span>
                <span class="c1"># other canvases with diferent ratios</span>
                <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;text&#39;</span><span class="p">:</span>
                    <span class="n">nms</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:::&quot;</span><span class="p">)</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createtext</span><span class="p">(</span><span class="n">Tt_source</span><span class="o">=</span><span class="n">nms</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">To_source</span><span class="o">=</span><span class="n">nms</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;marker&#39;</span><span class="p">:</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createmarker</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;line&#39;</span><span class="p">:</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createline</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;fillarea&#39;</span><span class="p">:</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createfillarea</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">x1</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">viewport</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">x2</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">viewport</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y1</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">viewport</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y2</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">viewport</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

                <span class="n">proj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getprojection</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">projection</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">proj</span><span class="o">.</span><span class="n">type</span> <span class="ow">in</span> <span class="n">no_deformation_projections</span> <span class="ow">and</span> <span class="p">(</span>
                        <span class="n">doratio</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span> <span class="ow">or</span> <span class="n">doratio</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">):</span>
                    <span class="n">doratio</span> <span class="o">=</span> <span class="s2">&quot;1t&quot;</span>

                <span class="k">if</span> <span class="n">proj</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;linear&#39;</span> <span class="ow">and</span> <span class="n">doratio</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;auto&#39;</span><span class="p">:</span>
                    <span class="n">lon1</span><span class="p">,</span> <span class="n">lon2</span><span class="p">,</span> <span class="n">lat1</span><span class="p">,</span> <span class="n">lat2</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">worldcoordinate</span>
                    <span class="n">t</span><span class="o">.</span><span class="n">ratio_linear_projection</span><span class="p">(</span>
                        <span class="n">lon1</span><span class="p">,</span>
                        <span class="n">lon2</span><span class="p">,</span>
                        <span class="n">lat1</span><span class="p">,</span>
                        <span class="n">lat2</span><span class="p">,</span>
                        <span class="kc">None</span><span class="p">,</span>
                        <span class="n">box_and_ticks</span><span class="o">=</span><span class="n">box_and_ticks</span><span class="p">)</span>
                    <span class="n">p</span><span class="o">.</span><span class="n">viewport</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">x1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">x2</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y2</span><span class="p">]</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span>
                <span class="k">elif</span> <span class="n">doratio</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;autot&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">doratio</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span>
                        <span class="n">doratio</span> <span class="o">=</span> <span class="n">doratio</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">Ratio</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">doratio</span><span class="p">)</span>
                    <span class="n">t</span><span class="o">.</span><span class="n">ratio</span><span class="p">(</span><span class="n">Ratio</span><span class="p">)</span>
                    <span class="n">p</span><span class="o">.</span><span class="n">viewport</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">x1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">x2</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y2</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;text&#39;</span><span class="p">:</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">Tt_name</span> <span class="o">+</span> <span class="s1">&#39;:::&#39;</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">To_name</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;text&#39;</span> <span class="ow">and</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                            <span class="s2">&quot;donotstoredisplay&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="n">sp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:::&quot;</span><span class="p">)</span>
                        <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;texttable&quot;</span><span class="p">][</span><span class="n">sp</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
                        <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;textorientation&quot;</span><span class="p">][</span><span class="n">sp</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
                        <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;textcombined&quot;</span><span class="p">][</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                    <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;marker&#39;</span><span class="p">:</span>
                        <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;marker&quot;</span><span class="p">][</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                    <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;line&#39;</span><span class="p">:</span>
                        <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;line&quot;</span><span class="p">][</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                    <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;fillarea&#39;</span><span class="p">:</span>
                        <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;fillarea&quot;</span><span class="p">][</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="c1"># cleanup temp template</span>
                <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">][</span><span class="n">t</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;boxfill&#39;</span><span class="p">,</span> <span class="s1">&#39;isofill&#39;</span><span class="p">,</span> <span class="s1">&#39;isoline&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;vector&#39;</span><span class="p">,</span> <span class="s1">&#39;meshfill&#39;</span><span class="p">]</span> <span class="ow">or</span>
                  <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">vcsaddons</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">VCSaddon</span><span class="p">))</span> <span class="ow">and</span> \
                    <span class="n">doratio</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;autot&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">doratio</span> <span class="o">==</span> <span class="s1">&#39;auto&#39;</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ASD&#39;</span><span class="p">):</span>
                <span class="n">box_and_ticks</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">doratio</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;t&#39;</span> <span class="ow">or</span> <span class="n">template_origin</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
                    <span class="n">box_and_ticks</span> <span class="o">=</span> <span class="mi">1</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">vcsaddons</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">VCSaddon</span><span class="p">):</span>
                    <span class="n">gm</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">tp</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">tp</span> <span class="o">==</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span>
                        <span class="n">tp</span> <span class="o">=</span> <span class="s2">&quot;textcombined&quot;</span>
                    <span class="n">gm</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">tp</span><span class="p">][</span><span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span>
                <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getprojection</span><span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">projection</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">type</span> <span class="ow">in</span> <span class="n">no_deformation_projections</span><span class="p">:</span>
                    <span class="n">doratio</span> <span class="o">=</span> <span class="s2">&quot;1t&quot;</span>
                <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;linear&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">g_name</span> <span class="o">==</span> <span class="s1">&#39;Gfm&#39;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isplottinggridded</span><span class="p">:</span>
                            <span class="c1"># TODO: This computation is wrong as a meshfill can be wrapped.</span>
                            <span class="c1"># this means that we have to create the VTK dataset before</span>
                            <span class="c1"># we know the actual lon1, lon2.</span>
                            <span class="n">lon1</span><span class="p">,</span> <span class="n">lon2</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">minmax</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="o">...</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>
                            <span class="n">lat1</span><span class="p">,</span> <span class="n">lat2</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">minmax</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="o">...</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:])</span>
                            <span class="k">if</span> <span class="n">lon2</span> <span class="o">-</span> <span class="n">lon1</span> <span class="o">&gt;</span> <span class="mi">360</span><span class="p">:</span>
                                <span class="n">lon1</span><span class="p">,</span> <span class="n">lon2</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">360.</span>
                            <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">&lt;</span> <span class="mf">9.99E19</span><span class="p">:</span>
                                <span class="n">lon1</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span>
                            <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">&lt;</span> <span class="mf">9.99E19</span><span class="p">:</span>
                                <span class="n">lon2</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span>
                            <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">&lt;</span> <span class="mf">9.99E19</span><span class="p">:</span>
                                <span class="n">lat1</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span>
                            <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">&lt;</span> <span class="mf">9.99E19</span><span class="p">:</span>
                                <span class="n">lat2</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span>
                            <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                                <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span>
                                    <span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                                <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">name</span>
                            <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">ratio_linear_projection</span><span class="p">(</span>
                                <span class="n">lon1</span><span class="p">,</span>
                                <span class="n">lon2</span><span class="p">,</span>
                                <span class="n">lat1</span><span class="p">,</span>
                                <span class="n">lat2</span><span class="p">,</span>
                                <span class="kc">None</span><span class="p">,</span>
                                <span class="n">box_and_ticks</span><span class="o">=</span><span class="n">box_and_ticks</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isLongitude</span><span class="p">()</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">isLatitude</span><span class="p">():</span>
                        <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span> <span class="o">&lt;</span> <span class="mf">9.99E19</span><span class="p">:</span>
                            <span class="n">lon1</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x1</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">lon1</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
                        <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span> <span class="o">&lt;</span> <span class="mf">9.99E19</span><span class="p">:</span>
                            <span class="n">lon2</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_x2</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">lon2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
                        <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span> <span class="o">&lt;</span> <span class="mf">9.99E19</span><span class="p">:</span>
                            <span class="n">lat1</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y1</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">lat1</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span>
                        <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span> <span class="o">&lt;</span> <span class="mf">9.99E19</span><span class="p">:</span>
                            <span class="n">lat2</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">datawc_y2</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">lat2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span>
                        <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">ratio_linear_projection</span><span class="p">(</span>
                            <span class="n">lon1</span><span class="p">,</span>
                            <span class="n">lon2</span><span class="p">,</span>
                            <span class="n">lat1</span><span class="p">,</span>
                            <span class="n">lat2</span><span class="p">,</span>
                            <span class="kc">None</span><span class="p">,</span>
                            <span class="n">box_and_ticks</span><span class="o">=</span><span class="n">box_and_ticks</span><span class="p">,</span>
                            <span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">name</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="p">(</span><span class="n">doratio</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;autot&#39;</span><span class="p">])</span> <span class="ow">or</span>\
                <span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;boxfill&#39;</span><span class="p">,</span> <span class="s1">&#39;isofill&#39;</span><span class="p">,</span> <span class="s1">&#39;isoline&#39;</span><span class="p">,</span> <span class="s1">&#39;vector&#39;</span><span class="p">,</span> <span class="s1">&#39;meshfill&#39;</span><span class="p">]</span> <span class="ow">and</span>
                 <span class="nb">str</span><span class="p">(</span><span class="n">doratio</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;autot&#39;</span><span class="p">])</span> <span class="ow">and</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;ASD&#39;</span><span class="p">:</span>
                <span class="n">box_and_ticks</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">doratio</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;t&#39;</span> <span class="ow">or</span> <span class="n">template_origin</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
                    <span class="n">box_and_ticks</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">doratio</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span>
                        <span class="n">doratio</span> <span class="o">=</span> <span class="n">doratio</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">Ratio</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">doratio</span><span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">Ratio</span> <span class="o">=</span> <span class="n">doratio</span>
                <span class="k">if</span> <span class="n">copy_tmpl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">copy_tmpl</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createtemplate</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">name</span>
                <span class="n">copy_tmpl</span><span class="o">.</span><span class="n">ratio</span><span class="p">(</span><span class="n">Ratio</span><span class="p">,</span> <span class="n">box_and_ticks</span><span class="o">=</span><span class="n">box_and_ticks</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_isplottinggridded&#39;</span><span class="p">):</span>
                <span class="k">del</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_isplottinggridded</span><span class="p">)</span>
            <span class="c1"># Get the continents for animation generation</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animate</span><span class="o">.</span><span class="n">continents_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_continentspath</span><span class="p">()</span>

            <span class="c1"># Get the option for doing graphics in the background.</span>
            <span class="k">if</span> <span class="n">bg</span><span class="p">:</span>
                <span class="n">arglist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">arglist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;scatter&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span>
                        <span class="n">numpy</span><span class="o">.</span><span class="n">equal</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[:],</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[:])</span><span class="o">.</span><span class="n">all</span><span class="p">()):</span>
                    <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                        <span class="s1">&#39;Error - ScatterPlot requires X and Y defined in the same place&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;vector&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">equal</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[:],</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[:])</span><span class="o">.</span><span class="n">all</span><span class="p">())</span> <span class="ow">or</span> <span class="ow">not</span><span class="p">(</span>
                        <span class="n">numpy</span><span class="o">.</span><span class="n">equal</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)[:],</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)[:])</span><span class="o">.</span><span class="n">all</span><span class="p">()):</span>
                    <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                        <span class="s1">&#39;Error - VECTOR components must be on the same grid.&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;bg&quot;</span> <span class="ow">in</span> <span class="n">keyargs</span><span class="p">:</span>
                <span class="k">del</span><span class="p">(</span><span class="n">keyargs</span><span class="p">[</span><span class="s2">&quot;bg&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">vcsaddons</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">VCSaddon</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">dn</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="n">template</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                        <span class="n">bg</span><span class="o">=</span><span class="n">bg</span><span class="p">,</span>
                        <span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                        <span class="o">**</span><span class="n">keyargs</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dn</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="n">arglist</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                        <span class="n">template</span><span class="o">=</span><span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                        <span class="n">bg</span><span class="o">=</span><span class="n">bg</span><span class="p">,</span>
                        <span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                        <span class="o">**</span><span class="n">keyargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">returned_kargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">*</span><span class="n">arglist</span><span class="p">,</span> <span class="o">**</span><span class="n">keyargs</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;donotstoredisplay&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                    <span class="n">dname</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;display_name&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">dname</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">dn</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s1">&#39;display&#39;</span><span class="p">][</span><span class="n">dname</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">nm</span><span class="p">,</span> <span class="n">src</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_name_source</span><span class="p">(</span>
                            <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span><span class="p">)</span>
                        <span class="n">dn</span> <span class="o">=</span> <span class="n">displayplot</span><span class="o">.</span><span class="n">Dp</span><span class="p">(</span><span class="n">nm</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
                    <span class="n">dn</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">dn</span><span class="o">.</span><span class="n">g_type</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">dn</span><span class="o">.</span><span class="n">g_name</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
                    <span class="n">dn</span><span class="o">.</span><span class="n">array</span> <span class="o">=</span> <span class="n">arglist</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">dn</span><span class="o">.</span><span class="n">backend</span> <span class="o">=</span> <span class="n">returned_kargs</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dn</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="n">dn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dn</span><span class="o">.</span><span class="n">_template_origin</span> <span class="o">=</span> <span class="n">template_origin</span>
                <span class="n">dn</span><span class="o">.</span><span class="n">ratio</span> <span class="o">=</span> <span class="n">keyargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ratio&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="n">dn</span><span class="o">.</span><span class="n">continents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getcontinentstype</span><span class="p">()</span>
                <span class="n">dn</span><span class="o">.</span><span class="n">continents_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getcontinentsline</span><span class="p">()</span>
                <span class="n">dn</span><span class="o">.</span><span class="n">newelements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__new_elts</span><span class="p">(</span><span class="n">original_elts</span><span class="p">,</span> <span class="n">new_elts</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># self.update()</span>
                <span class="k">pass</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">dn</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
            <span class="c1"># Pointer to the plotted slab of data and the VCS Canas display infomation.</span>
            <span class="c1"># This is needed to find the animation min and max values and the number of</span>
            <span class="c1"># displays on the VCS Canvas.</span>
            <span class="k">if</span> <span class="n">dn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">animate_info</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">result</span><span class="p">,</span> <span class="n">arglist</span><span class="p">[:</span><span class="mi">2</span><span class="p">]))</span>

        <span class="c1"># Now executes output commands</span>
        <span class="k">for</span> <span class="n">cc</span> <span class="ow">in</span> <span class="n">cmds</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">cc</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cmds</span><span class="p">[</span><span class="n">cc</span><span class="p">],</span> <span class="nb">type</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)):</span>
                <span class="n">args</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">cmds</span><span class="p">[</span><span class="n">cc</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">cmds</span><span class="p">[</span><span class="n">cc</span><span class="p">],)</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;ps&#39;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;postscript&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">postscript</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;pdf&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;gif&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">gif</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;eps&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">eps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;cgm&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cgm</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;ras&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ras</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="c1"># self.clean_auto_generated_objects(&quot;template&quot;)</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">slab_changed_attributes</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">slab_changed_attributes</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">tmp</span> <span class="o">==</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="nb">delattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">arglist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">g_type</span> <span class="ow">in</span> <span class="p">(</span>
                    <span class="s2">&quot;3d_scalar&quot;</span><span class="p">,</span> <span class="s2">&quot;3d_vector&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">endconfigure</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">bg</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">setAnimationStepper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stepper</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">setAnimationStepper</span><span class="p">(</span><span class="n">stepper</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">return_display_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_names</span>

<div class="viewcode-block" id="Canvas.remove_display_name"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.remove_display_name">[docs]</a>    <span class="k">def</span> <span class="nf">remove_display_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a plotted item from the canvas.</span>

<span class="sd">        :param args: Any number of display names to remove.</span>
<span class="sd">        :type args: str list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_names</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">display_names</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

<div class="viewcode-block" id="Canvas.cgm"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.cgm">[docs]</a>    <span class="k">def</span> <span class="nf">cgm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Export an image in CGM format.</span>

<span class="sd">        :param file: Filename to save</span>
<span class="sd">        :param mode: Ignored.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="s1">&#39;w&#39;</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;cgm only supports &#39;w&#39; mode ignoring your mode (&#39;</span><span class="si">%s</span><span class="s2">&#39;)&quot;</span> <span class="o">%</span>
                <span class="n">mode</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">cgm</span><span class="p">(</span><span class="n">file</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.clear"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clears all the VCS displays on a page (i.e., the VCS Canvas object).</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_clear</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.clear() # clear VCS displays from the page</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animate</span><span class="o">.</span><span class="n">created</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animate</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span><span class="o">.</span><span class="n">stop_animating</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animate_info</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animate</span><span class="o">.</span><span class="n">update_animate_display_list</span><span class="p">()</span>

        <span class="n">preserve_display</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;preserve_display&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;preserve_display&quot;</span> <span class="ow">in</span> <span class="n">kargs</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">kargs</span><span class="p">[</span><span class="s2">&quot;preserve_display&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">nm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_names</span><span class="p">:</span>
            <span class="c1"># Lets look at elements created by dispaly production</span>
            <span class="c1"># Apparently when updating we shouldn&#39;t be clearing these elemnts</span>
            <span class="c1"># yet</span>
            <span class="k">if</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;render&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
                <span class="n">dn</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;display&quot;</span><span class="p">][</span><span class="n">nm</span><span class="p">]</span>
                <span class="n">new_elts</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dn</span><span class="p">,</span> <span class="s2">&quot;newelements&quot;</span><span class="p">,</span> <span class="p">{})</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">new_elts</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">e</span> <span class="o">==</span> <span class="s2">&quot;display&quot;</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">new_elts</span><span class="p">[</span><span class="n">e</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">e</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">e</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">preserve_display</span><span class="p">:</span>
                <span class="k">del</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;display&quot;</span><span class="p">][</span><span class="n">nm</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="Canvas.close"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.close">[docs]</a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Close the VCS Canvas. It will not deallocate the VCS Canvas object.</span>
<span class="sd">        To deallocate the VCS Canvas, use the destroy method.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_close</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.close() #close the vcs canvas</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">configurator</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endconfigure</span><span class="p">()</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animate_info</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">return</span> <span class="n">a</span></div>

<div class="viewcode-block" id="Canvas.destroy"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.destroy">[docs]</a>    <span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Destroy the VCS Canvas. It will deallocate the VCS Canvas object.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_destroy</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.destroy()</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">gc</span>

        <span class="k">del</span> <span class="bp">self</span>
        <span class="n">gc</span><span class="o">.</span><span class="n">garbage</span>
        <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span></div>

<div class="viewcode-block" id="Canvas.change_display_graphic_method"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.change_display_graphic_method">[docs]</a>    <span class="k">def</span> <span class="nf">change_display_graphic_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes the type and graphic method of a plot.</span>

<span class="sd">        :param display: Display to change.</span>
<span class="sd">        :param type: New graphics method type.</span>
<span class="sd">        :param name: Name of new graphics method.</span>
<span class="sd">        :type display: str or vcs.displayplot.Dp</span>
<span class="sd">        :type name: str</span>
<span class="sd">        :type type: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">unicode</span><span class="p">)):</span>
            <span class="n">display</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;display&quot;</span><span class="p">][</span><span class="n">display</span><span class="p">]</span>
        <span class="n">display</span><span class="o">.</span><span class="n">g_type</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="n">display</span><span class="o">.</span><span class="n">g_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

<div class="viewcode-block" id="Canvas.get_selected_display"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.get_selected_display">[docs]</a>    <span class="k">def</span> <span class="nf">get_selected_display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. deprecated:: 2.0</span>

<span class="sd">            This function is no longer supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_selected_display</span><span class="p">(</span><span class="o">*</span><span class="p">())</span></div>

    <span class="k">def</span> <span class="nf">plot_annotation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">plot_annotation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.flush"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.flush">[docs]</a>    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The flush command executes all buffered X events in the queue.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_flush</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.flush()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">flush</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.geometry"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.geometry">[docs]</a>    <span class="k">def</span> <span class="nf">geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The geometry command is used to set the size and position of the VCS canvas.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_geometry</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.geometry(450,337)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s1">&#39;Error -  The width and height values must be an integer greater than 0.&#39;</span><span class="p">)</span>

        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>  <span class="c1"># update the canvas by processing all the X events</span>

        <span class="k">return</span> <span class="n">a</span></div>

<div class="viewcode-block" id="Canvas.canvasinfo"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.canvasinfo">[docs]</a>    <span class="k">def</span> <span class="nf">canvasinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obtain the current attributes of the VCS Canvas window.</span>

<span class="sd">        :returns: Dictionary with keys: &quot;mapstate&quot; (whether the canvas is opened), &quot;height&quot;, &quot;width&quot;, &quot;depth&quot;, &quot;x&quot;, &quot;y&quot;</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">canvasinfo</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.getcontinentstype"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getcontinentstype">[docs]</a>    <span class="k">def</span> <span class="nf">getcontinentstype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve continents type from VCS; either an integer between 0 and 11 or the</span>
<span class="sd">        path to a custom continentstype.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_getcontinentstype</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; cont_type = a.getcontinentstype() # Get the continents type</span>

<span class="sd">        :returns: An int between 1 and 0, or the path to a custom continentstype</span>
<span class="sd">        :rtype: int or system filepath</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_continents</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Canvas.pstogif"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.pstogif">[docs]</a>    <span class="k">def</span> <span class="nf">pstogif</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="o">*</span><span class="n">opt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        In some cases, the user may want to save the plot out as a gif image. This</span>
<span class="sd">        routine allows the user to convert a postscript file to a gif file.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_pstogif</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.pstogif(&#39;filename.ps&#39;) # convert the postscript file to a gif file (l=landscape)</span>
<span class="sd">                &gt;&gt;&gt; a.pstogif(&#39;filename.ps&#39;,&#39;l&#39;) # convert the postscript file to a gif file (l=landscape)</span>
<span class="sd">                &gt;&gt;&gt; a.pstogif(&#39;filename.ps&#39;,&#39;p&#39;) # convert the postscript file to a gif file (p=portrait)</span>

<span class="sd">        :param filename: String name of the desired output file</span>
<span class="sd">        :type filename: str</span>

<span class="sd">        :param opt: One of &#39;l&#39; or &#39;p&#39;, indicating landscape or portrait mode, respectively.</span>
<span class="sd">        :type opt: str</span>

<span class="sd">        :returns: ???</span>
<span class="sd">        :rtype: ???</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">os</span> <span class="k">import</span> <span class="n">popen</span>

        <span class="c1"># Generate the VCS postscript file</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">filename</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;.ps&#39;</span><span class="p">):</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span> <span class="o">+</span> <span class="s1">&#39;.ps&#39;</span>

        <span class="c1"># Set the default orientation to landscape&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">opt</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;l&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">orientation</span> <span class="o">=</span> <span class="n">opt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># end of if len(orientation) == 0:</span>

        <span class="n">cmd1</span> <span class="o">=</span> <span class="s1">&#39;gs -r72x72 -q -sDEVICE=ppmraw -sOutputFile=- &#39;</span>
        <span class="n">cmd2flip</span> <span class="o">=</span> <span class="s1">&#39; | pnmflip -cw &#39;</span>
        <span class="n">cmd3</span> <span class="o">=</span> <span class="s1">&#39;| pnmcrop | ppmtogif &gt; &#39;</span>

        <span class="k">if</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;l&#39;</span><span class="p">:</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="n">cmd1</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="n">cmd2flip</span> <span class="o">+</span> <span class="n">cmd3</span> <span class="o">+</span> <span class="n">filename</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;gif</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">elif</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="n">cmd1</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="n">cmd3</span> <span class="o">+</span> <span class="n">filename</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;gif </span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="c1"># end if orientation == &#39;l&#39;:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="Canvas.grid"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.grid">[docs]</a>    <span class="k">def</span> <span class="nf">grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the default plotting region for variables that have more dimension values</span>
<span class="sd">        than the graphics method. This will also be used for animating plots over the</span>
<span class="sd">        third and fourth dimensions.</span>


<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_grid</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.grid(12,12,0,71,0,45)</span>

<span class="sd">        .. admonition:: Not Yet Implemented</span>

<span class="sd">            :py:func`vcs.Canvas.grid`_ does not work.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">p</span></div>

<div class="viewcode-block" id="Canvas.landscape"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.landscape">[docs]</a>    <span class="k">def</span> <span class="nf">landscape</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=-</span><span class="mi">99</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="mi">99</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">99</span><span class="p">,</span> <span class="n">y</span><span class="o">=-</span><span class="mi">99</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change the VCS Canvas orientation to Landscape.</span>

<span class="sd">        .. note::</span>

<span class="sd">            The (width, height) and (x, y) arguments work in pairs. That is, you must</span>
<span class="sd">            set (width, height) or (x, y) together to see any change in the VCS Canvas.</span>

<span class="sd">            If the portrait method is called  with arguments before displaying a VCS Canvas,</span>
<span class="sd">            then the arguments (width, height, x, y, and clear) will have no effect on the</span>
<span class="sd">            canvas.</span>

<span class="sd">        .. warning::</span>

<span class="sd">            If the visible plot on the VCS Canvas is not adjusted properly, then resize</span>
<span class="sd">            the screen with the point. Some X servers are not handling the threads properly</span>
<span class="sd">            to keep up with the demands of the X client.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_landscape</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.landscape() # Change the VCS Canvas orientation and set object flag to landscape</span>
<span class="sd">                &gt;&gt;&gt; a.landscape(clear=1) # Change the VCS Canvas to landscape and clear the page</span>
<span class="sd">                &gt;&gt;&gt; a.landscape(width = 400, height = 337) # Change to landscape and set the window size</span>
<span class="sd">                &gt;&gt;&gt; a.landscape(x=100, y = 200) # Change to landscape and set the x and y screen position</span>
<span class="sd">                &gt;&gt;&gt; a.landscape(width = 400, height = 337, x=100, y = 200, clear=1) # landscape with more settings</span>

<span class="sd">        :param width: Width of the canvas, in pixels</span>
<span class="sd">        :type width: int</span>

<span class="sd">        :param height: Height of the canvas, in pixels</span>
<span class="sd">        :type height: int</span>

<span class="sd">        :param x: Unused</span>
<span class="sd">        :type x: int</span>

<span class="sd">        :param y: Unused</span>
<span class="sd">        :type y: int</span>

<span class="sd">        :param clear: Indicates the canvas should be cleared (1),</span>
<span class="sd">                        or should not be cleared (0), when orientation is changed.</span>
<span class="sd">        :type clear: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;landscape&#39;</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="p">(((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">or</span>
                <span class="p">((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">or</span>
                <span class="p">((</span><span class="n">width</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">width</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">))</span> <span class="ow">or</span> <span class="p">((</span><span class="n">height</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">height</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">))</span> <span class="ow">or</span>
                <span class="p">((</span><span class="n">x</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">))</span> <span class="ow">or</span> <span class="p">((</span><span class="n">y</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">))):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s1">&#39;If specified, width, height, x, and y must be integer values greater than or equal to 0.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">clear</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">clear</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;clear must be: 0 - &#39;the default value for not clearing the canvas&#39; or 1 - &#39;for clearing the canvas&#39;.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">((</span><span class="n">width</span> <span class="o">==</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">height</span> <span class="o">==</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">clear</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)):</span>
            <span class="n">cargs</span> <span class="o">=</span> <span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvasinfo</span><span class="p">(</span><span class="o">*</span><span class="n">cargs</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">height</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>  <span class="c1"># update the canvas by processing all the X events</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">clear</span><span class="p">)</span>
        <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">landscape</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">l</span></div>

<div class="viewcode-block" id="Canvas.listelements"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.listelements">[docs]</a>    <span class="k">def</span> <span class="nf">listelements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a Python list of all the VCS class objects.</span>

<span class="sd">        The list that will be returned:</span>
<span class="sd">        [&#39;1d&#39;, &#39;3d_dual_scalar&#39;, &#39;3d_scalar&#39;, &#39;3d_vector&#39;, &#39;boxfill&#39;, &#39;colormap&#39;, &#39;display&#39;, &#39;fillarea&#39;,</span>
<span class="sd">         &#39;font&#39;, &#39;fontNumber&#39;, &#39;isofill&#39;, &#39;isoline&#39;, &#39;line&#39;, &#39;list&#39;, &#39;marker&#39;, &#39;meshfill&#39;, &#39;projection&#39;,</span>
<span class="sd">         &#39;scatter&#39;, &#39;taylordiagram&#39;, &#39;template&#39;, &#39;textcombined&#39;, &#39;textorientation&#39;, &#39;texttable&#39;,</span>
<span class="sd">         &#39;vector&#39;, &#39;xvsy&#39;, &#39;xyvsy&#39;, &#39;yxvsx&#39;]</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_listelements</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.listelements()</span>
<span class="sd">                [&#39;1d&#39;, &#39;3d_dual_scalar&#39;, &#39;3d_scalar&#39;, ...]</span>

<span class="sd">        :returns: A list of string names of all VCS class objects</span>
<span class="sd">        :rtype: list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">listelements</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">L</span></div>

<div class="viewcode-block" id="Canvas.updateorientation"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.updateorientation">[docs]</a>    <span class="k">def</span> <span class="nf">updateorientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. deprecated:: 2.0</span>

<span class="sd">            Use :func:`landscape` or :func:`portrait` instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">updateorientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">a</span></div>

<div class="viewcode-block" id="Canvas.open"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.open">[docs]</a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open VCS Canvas object. This routine really just manages the VCS canvas. It will</span>
<span class="sd">        popup the VCS Canvas for viewing. It can be used to display the VCS Canvas.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_open</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.open()</span>
<span class="sd">                &gt;&gt;&gt; a.open(800,600)</span>

<span class="sd">        :param width: Integer representing the desire width of the opened window in pixels</span>
<span class="sd">        :type width: int</span>

<span class="sd">        :param height: Integer representing the desire height of the opened window in pixels</span>
<span class="sd">        :type height: int</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">a</span></div>

<div class="viewcode-block" id="Canvas.canvasid"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.canvasid">[docs]</a>    <span class="k">def</span> <span class="nf">canvasid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the ID of this canvas.</span>

<span class="sd">        This ID number is found at the top of the VCS Canvas, as part of its title.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canvas_id</span></div>

<div class="viewcode-block" id="Canvas.portrait"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.portrait">[docs]</a>    <span class="k">def</span> <span class="nf">portrait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=-</span><span class="mi">99</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="mi">99</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">99</span><span class="p">,</span> <span class="n">y</span><span class="o">=-</span><span class="mi">99</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change the VCS Canvas orientation to Portrait.</span>

<span class="sd">        .. note::</span>

<span class="sd">            If the current orientation of the canvas is already portrait, nothing happens.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_portrait</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.portrait()  # Change the VCS Canvas orientation and set object flag to portrait</span>
<span class="sd">                &gt;&gt;&gt; a.portrait(clear=1) # Change the VCS Canvas to portrait and clear the page</span>
<span class="sd">                &gt;&gt;&gt; a.portrait(width = 337, height = 400) # Change to portrait and set the window size</span>
<span class="sd">                &gt;&gt;&gt; a.portrait(x=100, y = 200) # Change to portrait and set the x and y screen position</span>
<span class="sd">                &gt;&gt;&gt; a.portrait(width = 337, height = 400, x=100, y = 200, clear=1) # portrait, with more specifications</span>

<span class="sd">        :param width: Width to set the canvas to (in pixels)</span>
<span class="sd">        :type width: int</span>

<span class="sd">        :param height: Height to set the canvas to (in pixels)</span>
<span class="sd">        :type height: int</span>

<span class="sd">        :param x: Unused.</span>
<span class="sd">        :type x: None</span>

<span class="sd">        :param y: Unused.</span>
<span class="sd">        :type y: None</span>

<span class="sd">        :param clear: 0: Do not clear the canvas when orientation is changed.</span>
<span class="sd">                      1: clear the canvas when orientation is changed.</span>
<span class="sd">        :type clear: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;portrait&#39;</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="p">(((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">or</span>
                <span class="p">((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">or</span>
                <span class="p">((</span><span class="n">width</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">width</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">))</span> <span class="ow">or</span> <span class="p">((</span><span class="n">height</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">height</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">))</span> <span class="ow">or</span>
                <span class="p">((</span><span class="n">x</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">))</span> <span class="ow">or</span> <span class="p">((</span><span class="n">y</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">))):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s1">&#39;If specified, width, height, x, and y must be integer values greater than or equal to 0.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(((</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">clear</span><span class="p">,</span> <span class="nb">int</span><span class="p">)))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">clear</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;clear must be: 0 - &#39;the default value for not clearing the canvas&#39; or 1 - &#39;for clearing the canvas&#39;.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">((</span><span class="n">width</span> <span class="o">==</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">height</span> <span class="o">==</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">clear</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)):</span>
            <span class="n">cargs</span> <span class="o">=</span> <span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvasinfo</span><span class="p">(</span><span class="o">*</span><span class="n">cargs</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">height</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>  <span class="c1"># update the canvas by processing all the X events</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">clear</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">portrait</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">p</span></div>

<div class="viewcode-block" id="Canvas.ffmpeg"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.ffmpeg">[docs]</a>    <span class="k">def</span> <span class="nf">ffmpeg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">movie</span><span class="p">,</span> <span class="n">files</span><span class="p">,</span> <span class="n">bitrate</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">rate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        MPEG output from a list of valid files.</span>
<span class="sd">        Can output to more than just mpeg format.</span>

<span class="sd">        .. note::</span>

<span class="sd">            ffmpeg ALWAYS overwrites the output file</span>

<span class="sd">        .. admonishment:: Audio configuration</span>

<span class="sd">            via the options arg you can add audio file to your movie (see ffmpeg help)</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_ffmpeg</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; import cdms2</span>
<span class="sd">                &gt;&gt;&gt; f = cdms2.open(vcs.sample_data+&#39;/clt.nc&#39;)</span>
<span class="sd">                &gt;&gt;&gt; v = f(&#39;v&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; u = f(&#39;u&#39;) # use the data file to create a cdms2 slab</span>
<span class="sd">                &gt;&gt;&gt; png_files = [] # for saving file names to make the mpeg</span>
<span class="sd">                &gt;&gt;&gt; plots = [] # for saving plots for later reference</span>
<span class="sd">                &gt;&gt;&gt; for i in range(10): # create a number of pngs to use for an mpeg</span>
<span class="sd">                ...     a.clear()</span>
<span class="sd">                ...     if (i%2):</span>
<span class="sd">                ...         plots.append(a.plot(u,v))</span>
<span class="sd">                ...     else:</span>
<span class="sd">                ...         plots.append(a.plot(v,u))</span>
<span class="sd">                ...     a.png(&#39;my_png__%i&#39; % i)</span>
<span class="sd">                ...     png_files.append(&#39;my_png__%i.png&#39; % i)</span>
<span class="sd">                &gt;&gt;&gt; a.ffmpeg(&#39;mymovie.mpeg&#39;,png_files) # generates from list of files</span>
<span class="sd">                True</span>
<span class="sd">                &gt;&gt;&gt; a.ffmpeg(&#39;mymovie.mpeg&#39;,files=&quot;my_png__[0-9]*\.png&quot;) # generate from files with name matching regex</span>
<span class="sd">                True</span>
<span class="sd">                &gt;&gt;&gt; a.ffmpeg(&#39;mymovie.mpeg&#39;,png_files,bitrate=512) # generates mpeg at 512kbit</span>
<span class="sd">                True</span>
<span class="sd">                &gt;&gt;&gt; a.ffmpeg(&#39;mymovie.mpeg&#39;,png_files,rate=50) # generates movie with 50 frame per second</span>
<span class="sd">                True</span>

<span class="sd">        :param movie: Output video file name</span>
<span class="sd">        :type movie: str</span>

<span class="sd">        :param files: String file name</span>
<span class="sd">        :type files: str, list, or tuple</span>

<span class="sd">        :param rate: Desired output framerate</span>
<span class="sd">        :type rate: str</span>

<span class="sd">        :param options: Additional FFMPEG arguments</span>
<span class="sd">        :type options: str</span>

<span class="sd">        :returns: The output string generated by ffmpeg program</span>
<span class="sd">        :rtype: str</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ffmpeg&quot;</span><span class="p">,</span> <span class="s2">&quot;-y&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">rate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;-framerate&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">rate</span><span class="p">)))</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">test_file</span> <span class="o">=</span> <span class="n">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">rnd</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">/.uvcdat/__uvcdat_</span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">600000000</span><span class="p">))</span>
            <span class="n">Files</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">files</span><span class="p">):</span>
                <span class="n">fnm</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_</span><span class="si">%i</span><span class="s2">.png&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rnd</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">fnm</span><span class="p">)</span>
                <span class="n">Files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fnm</span><span class="p">)</span>
            <span class="n">args</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;-i&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_</span><span class="si">%%</span><span class="s2">d.png&quot;</span> <span class="o">%</span> <span class="n">rnd</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="c1"># Extract formatter</span>
            <span class="n">percent_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">r&quot;(</span><span class="si">%0*d</span><span class="s2">)&quot;</span><span class="p">)</span>
            <span class="n">str_format</span> <span class="o">=</span> <span class="n">percent_re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">str_format</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">prefix</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">suffix</span> <span class="o">=</span> <span class="n">percent_re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">numeric_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">str_format</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">path</span><span class="p">,</span> <span class="n">pre</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">path</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>
                <span class="n">file_names</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">file_names</span><span class="p">:</span>
                    <span class="c1"># Make sure it starts with the &quot;before number&quot; part</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">f</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">pre</span><span class="p">):</span>
                        <span class="k">continue</span>

                    <span class="c1"># Make sure the length is correct</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pre</span><span class="p">)</span> <span class="o">+</span> <span class="n">numeric_length</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="k">continue</span>

                    <span class="c1"># Iterate the numeric section</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pre</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">pre</span><span class="p">)</span> <span class="o">+</span> <span class="n">numeric_length</span><span class="p">):</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                            <span class="c1"># Invalid character found, exit the loop</span>
                            <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># Make sure the ending is correct</span>
                        <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">test_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
                            <span class="c1"># We found a test file, we can stop now</span>
                            <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">test_file</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="n">args</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s1">&#39;-i&#39;</span><span class="p">,</span> <span class="n">files</span><span class="p">))</span>

        <span class="n">args</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;-pix_fmt&quot;</span><span class="p">,</span> <span class="s2">&quot;yuv420p&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">test_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span><span class="p">:</span>
            <span class="c1"># H264 requires even numbered heights and widths</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">png_dimensions</span><span class="p">(</span><span class="n">test_file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">width</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">width</span> <span class="o">=</span> <span class="n">width</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">height</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">height</span> <span class="o">=</span> <span class="n">height</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">args</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;-vf&quot;</span><span class="p">,</span> <span class="s2">&quot;scale=</span><span class="si">%d</span><span class="s2">:</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)))</span>

        <span class="k">if</span> <span class="n">options</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>

        <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">movie</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">Files</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">0</span></div>

    <span class="k">def</span> <span class="nf">getantialiasing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">getantialiasing</span><span class="p">()</span>

<div class="viewcode-block" id="Canvas.setantialiasing"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.setantialiasing">[docs]</a>    <span class="k">def</span> <span class="nf">setantialiasing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">antialiasing</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set antialiasing rate.</span>

<span class="sd">        :param antialiasing: Integer from 0-64, representing the antialising rate (0 means no antialiasing).</span>
<span class="sd">        :type antialiasing: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">setantialiasing</span><span class="p">(</span><span class="n">antialiasing</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.setbgoutputdimensions"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.setbgoutputdimensions">[docs]</a>    <span class="k">def</span> <span class="nf">setbgoutputdimensions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;inches&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets dimensions for output in bg mode.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_setbgoutputdimensions</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.setbgoutputdimensions(width=11.5, height= 8.5) # US Legal</span>
<span class="sd">                &gt;&gt;&gt; a.setbgoutputdimensions(width=21, height=29.7, units=&#39;cm&#39;) # A4</span>

<span class="sd">        :param width: Float representing the desired width of the output, using the specified unit of measurement</span>
<span class="sd">        :type width: float</span>

<span class="sd">        :param height: Float representing the desired height of the output, using the specified unit of measurement.</span>
<span class="sd">        :type height: float</span>

<span class="sd">        :param units: One of [&#39;inches&#39;, &#39;in&#39;, &#39;cm&#39;, &#39;mm&#39;, &#39;pixel&#39;, &#39;pixels&#39;, &#39;dot&#39;, &#39;dots&#39;]. Defaults to &#39;inches&#39;.</span>
<span class="sd">        :type units: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">units</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;inches&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="s1">&#39;mm&#39;</span><span class="p">,</span> <span class="s1">&#39;pixel&#39;</span><span class="p">,</span> <span class="s1">&#39;pixels&#39;</span><span class="p">,</span> <span class="s1">&#39;dot&#39;</span><span class="p">,</span> <span class="s1">&#39;dots&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;units must be on of inches, in, cm, mm, pixel(s) or dot(s)&quot;</span><span class="p">)</span>

        <span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_width_height</span><span class="p">(</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>

        <span class="c1"># in pixels?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bgX</span> <span class="o">=</span> <span class="n">W</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bgY</span> <span class="o">=</span> <span class="n">H</span>
        <span class="k">return</span></div>
    <span class="c1"># display ping</span>

    <span class="k">def</span> <span class="nf">put_png_on_canvas</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">xOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">yOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">put_png_on_canvas</span><span class="p">(</span>
            <span class="n">filename</span><span class="p">,</span>
            <span class="n">zoom</span><span class="p">,</span>
            <span class="n">xOffset</span><span class="p">,</span>
            <span class="n">yOffset</span><span class="p">,</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.png"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.png">[docs]</a>    <span class="k">def</span> <span class="nf">png</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">units</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">draw_white_background</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        PNG output, dimensions set via setbgoutputdimensions</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_png</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.png(&#39;example&#39;) # Overwrite a png file</span>

<span class="sd">        :param file: Output image filename</span>
<span class="sd">        :type file: str</span>

<span class="sd">        :param width: Float representing the desired width of the output png, using the specified unit of measurement</span>
<span class="sd">        :type width: float</span>

<span class="sd">        :param height: Float representing the desired height of the output png, using the specified unit of measurement</span>
<span class="sd">        :type height: float</span>

<span class="sd">        :param units: One of [&#39;inches&#39;, &#39;in&#39;, &#39;cm&#39;, &#39;mm&#39;, &#39;pixel&#39;, &#39;pixels&#39;, &#39;dot&#39;, &#39;dots&#39;]. Defaults to &#39;inches&#39;.</span>
<span class="sd">        :type units: str</span>

<span class="sd">        :param draw_white_background: Boolean value indicating if the background should be white. Defaults to True.</span>
<span class="sd">        :type draw_white_background: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">base</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">base</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Output path: </span><span class="si">%s</span><span class="s2"> does not exist&quot;</span> <span class="o">%</span> <span class="n">base</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">units</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;inches&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="s1">&#39;mm&#39;</span><span class="p">,</span>
                <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;pixel&#39;</span><span class="p">,</span> <span class="s1">&#39;pixels&#39;</span><span class="p">,</span> <span class="s1">&#39;dot&#39;</span><span class="p">,</span> <span class="s1">&#39;dots&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;units must be on of inches, in, cm, mm, pixel(s) or dot(s)&quot;</span><span class="p">)</span>

        <span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_width_height</span><span class="p">(</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">png</span><span class="p">(</span>
            <span class="n">file</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span> <span class="n">draw_white_background</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.pdf"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.pdf">[docs]</a>    <span class="k">def</span> <span class="nf">pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;inches&#39;</span><span class="p">,</span>
            <span class="n">textAsPaths</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        PDF output is another form of vector graphics.</span>

<span class="sd">        .. note::</span>

<span class="sd">            The textAsPaths parameter preserves custom fonts, but text can no longer be edited in the file</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_pdf</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.pdf(&#39;example&#39;) # Overwrite a postscript file</span>
<span class="sd">                &gt;&gt;&gt; a.pdf(&#39;example&#39;, width=11.5, height= 8.5) # US Legal</span>
<span class="sd">                &gt;&gt;&gt; a.pdf(&#39;example&#39;, width=21, height=29.7, units=&#39;cm&#39;) # A4</span>

<span class="sd">        :param file: Desired string name of the output file</span>
<span class="sd">        :type file: str</span>

<span class="sd">        :param width: Integer specifying the desired width of the output, measured in the chosen units</span>
<span class="sd">        :type width: int</span>

<span class="sd">        :param height: Integer specifying the desired height of the output, measured in the chosen units</span>
<span class="sd">        :type height: int</span>

<span class="sd">        :param units: Must be one of [&#39;inches&#39;, &#39;in&#39;, &#39;cm&#39;, &#39;mm&#39;, &#39;pixel&#39;, &#39;pixels&#39;, &#39;dot&#39;, &#39;dots&#39;]. Default is &#39;inches&#39;.</span>
<span class="sd">        :type units: str</span>

<span class="sd">        :param textAsPaths: Specifies whether to render text objects as paths.</span>
<span class="sd">        :type textAsPaths: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">units</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;inches&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="s1">&#39;mm&#39;</span><span class="p">,</span> <span class="s1">&#39;pixel&#39;</span><span class="p">,</span> <span class="s1">&#39;pixels&#39;</span><span class="p">,</span> <span class="s1">&#39;dot&#39;</span><span class="p">,</span> <span class="s1">&#39;dots&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;units must be on of inches, in, cm, mm, pixel(s) or dot(s)&quot;</span><span class="p">)</span>

        <span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_width_height</span><span class="p">(</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;pdf&#39;</span><span class="p">]:</span>
            <span class="n">file</span> <span class="o">+=</span> <span class="s1">&#39;.pdf&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">textAsPaths</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.svg"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.svg">[docs]</a>    <span class="k">def</span> <span class="nf">svg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;inches&#39;</span><span class="p">,</span>
            <span class="n">textAsPaths</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        SVG output is another form of vector graphics.</span>

<span class="sd">        .. note::</span>

<span class="sd">            The textAsPaths parameter preserves custom fonts, but text can no longer be edited in the file</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_svg</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.svg(&#39;example&#39;) # Overwrite a postscript file</span>
<span class="sd">                &gt;&gt;&gt; a.svg(&#39;example&#39;, width=11.5, height= 8.5) # US Legal</span>
<span class="sd">                &gt;&gt;&gt; a.svg(&#39;example&#39;, width=21, height=29.7, units=&#39;cm&#39;) # A4</span>

<span class="sd">        :param file:</span>
<span class="sd">        :type file:</span>

<span class="sd">        :param width: Float to set width of output SVG, in specified unit of measurement</span>
<span class="sd">        :type width: float</span>

<span class="sd">        :param height: Float to set height of output SVG, in specified unit of measurement</span>
<span class="sd">        :type height: float</span>

<span class="sd">        :param units: One of [&#39;inches&#39;, &#39;in&#39;, &#39;cm&#39;, &#39;mm&#39;, &#39;pixel&#39;, &#39;pixels&#39;, &#39;dot&#39;, &#39;dots&#39;]. Deafults to &#39;inches&#39;.</span>
<span class="sd">        :type units: str</span>

<span class="sd">        :param textAsPaths: Specifies whether to render text objects as paths.</span>
<span class="sd">        :type textAsPaths: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">units</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;inches&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="s1">&#39;mm&#39;</span><span class="p">,</span> <span class="s1">&#39;pixel&#39;</span><span class="p">,</span> <span class="s1">&#39;pixels&#39;</span><span class="p">,</span> <span class="s1">&#39;dot&#39;</span><span class="p">,</span> <span class="s1">&#39;dots&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;units must be on of inches, in, cm, mm, pixel(s) or dot(s)&quot;</span><span class="p">)</span>

        <span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_width_height</span><span class="p">(</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;svg&#39;</span><span class="p">]:</span>
            <span class="n">file</span> <span class="o">+=</span> <span class="s1">&#39;.svg&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">svg</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">textAsPaths</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_compute_margins</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">top_margin</span><span class="p">,</span> <span class="n">bottom_margin</span><span class="p">,</span> <span class="n">right_margin</span><span class="p">,</span> <span class="n">left_margin</span><span class="p">,</span> <span class="n">dpi</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ci</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvasinfo</span><span class="p">()</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">ci</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">ci</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mi">72</span>
            <span class="n">size</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">width</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mf">1.</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="mf">1.2941176470588236</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
        <span class="k">if</span> <span class="n">bottom_margin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="n">bottom_margin</span> <span class="o">*</span> <span class="n">factor</span>
        <span class="k">if</span> <span class="n">left_margin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="n">left_margin</span> <span class="o">*</span> <span class="n">factor</span>
        <span class="k">if</span> <span class="n">right_margin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="n">right_margin</span> <span class="o">*</span> <span class="n">factor</span>
        <span class="k">if</span> <span class="n">top_margin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="n">top_margin</span> <span class="o">*</span> <span class="n">factor</span>

        <span class="c1"># now for sure factor is 1.</span>
        <span class="n">factor</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="k">if</span> <span class="n">left_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">right_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">top_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">bottom_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># default margins</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">top_margin</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">top_margin</span> <span class="o">+</span> <span class="n">bottom_margin</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="n">bottom_margin</span>
        <span class="c1"># bottom_defined</span>
        <span class="k">elif</span> <span class="n">left_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">right_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">top_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">bottom_margin</span>
        <span class="c1"># top_defined</span>
        <span class="k">elif</span> <span class="n">left_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">right_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">bottom_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">top_margin</span>
        <span class="c1"># right defined</span>
        <span class="k">elif</span> <span class="n">top_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">bottom_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">left_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">top_margin</span>
        <span class="c1"># left defined</span>
        <span class="k">elif</span> <span class="n">top_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">bottom_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">right_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">top_margin</span>
        <span class="c1"># left defined and bottom</span>
        <span class="k">elif</span> <span class="n">top_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">right_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">bottom_margin</span>
        <span class="c1"># right defined and bottom</span>
        <span class="k">elif</span> <span class="n">top_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">left_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">bottom_margin</span>
        <span class="c1"># right defined and top</span>
        <span class="k">elif</span> <span class="n">bottom_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">left_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">top_margin</span>
        <span class="c1"># left defined and top</span>
        <span class="k">elif</span> <span class="n">bottom_margin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">right_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">top_margin</span>
        <span class="c1"># all but bottom</span>
        <span class="k">elif</span> <span class="n">bottom_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">top_margin</span>
        <span class="c1"># all but top</span>
        <span class="k">elif</span> <span class="n">top_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">twidth</span> <span class="o">=</span> <span class="n">W</span> <span class="o">-</span> <span class="p">(</span><span class="n">left_margin</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">top_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">twidth</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">-</span> <span class="n">bottom_margin</span>
        <span class="c1"># all but right</span>
        <span class="k">elif</span> <span class="n">right_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">theight</span> <span class="o">=</span> <span class="n">H</span> <span class="o">-</span> <span class="p">(</span><span class="n">top_margin</span> <span class="o">+</span> <span class="n">bottom_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">W</span> <span class="o">-</span> <span class="n">theight</span> <span class="o">*</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">+</span> <span class="n">left_margin</span>
        <span class="c1"># all but left</span>
        <span class="k">elif</span> <span class="n">left_margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">theight</span> <span class="o">=</span> <span class="n">H</span> <span class="o">-</span> <span class="p">(</span><span class="n">top_margin</span> <span class="o">+</span> <span class="n">bottom_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">dpi</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">W</span> <span class="o">-</span> <span class="n">theight</span> <span class="o">*</span> <span class="n">size</span><span class="p">)</span> <span class="o">/</span> <span class="n">dpi</span> <span class="o">+</span> <span class="n">right_margin</span>

        <span class="k">return</span> <span class="n">top_margin</span><span class="p">,</span> <span class="n">bottom_margin</span><span class="p">,</span> <span class="n">right_margin</span><span class="p">,</span> <span class="n">left_margin</span>

<div class="viewcode-block" id="Canvas.isopened"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.isopened">[docs]</a>    <span class="k">def</span> <span class="nf">isopened</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a boolean value indicating whether the canvas is opened or not.</span>

<span class="sd">        :returns: A boolean value indicating whether the Canvas is opened (1), or closed (0)</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">isopened</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_compute_width_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span> <span class="n">ps</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">dpi</span> <span class="o">=</span> <span class="mf">72.</span>  <span class="c1"># dot per inches</span>
        <span class="k">if</span> <span class="n">units</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="s2">&quot;inches&quot;</span><span class="p">]:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="s1">&#39;cm&#39;</span><span class="p">:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mf">0.393700787</span>
        <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="s1">&#39;mm&#39;</span><span class="p">:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mf">0.0393700787</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mi">72</span>
        <span class="n">sfactor</span> <span class="o">=</span> <span class="n">factor</span>
        <span class="k">if</span> <span class="n">width</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">height</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isopened</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">ci</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvasinfo</span><span class="p">()</span>
                    <span class="n">height</span> <span class="o">=</span> <span class="n">ci</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span>
                    <span class="n">width</span> <span class="o">=</span> <span class="n">ci</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span>
                    <span class="n">sfactor</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mf">72.</span>
                    <span class="k">if</span> <span class="n">ps</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="n">ratio</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mf">1.4142857142857141</span><span class="p">:</span>
                            <span class="c1"># A4 output</span>
                            <span class="n">width</span> <span class="o">=</span> <span class="mf">29.7</span>
                            <span class="n">sfactor</span> <span class="o">=</span> <span class="mf">0.393700787</span>
                            <span class="n">height</span> <span class="o">=</span> <span class="mf">21.</span>
                        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mf">1.4142857142857141</span><span class="p">:</span>
                            <span class="n">width</span> <span class="o">=</span> <span class="mf">21.</span>
                            <span class="n">sfactor</span> <span class="o">=</span> <span class="mf">0.393700787</span>
                            <span class="n">height</span> <span class="o">=</span> <span class="mf">29.7</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">sfactor</span> <span class="o">=</span> <span class="mf">1.</span>
                            <span class="k">if</span> <span class="n">ratio</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                                <span class="n">width</span> <span class="o">=</span> <span class="mf">11.</span>
                                <span class="n">height</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="n">ratio</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">height</span> <span class="o">=</span> <span class="mf">11.</span>
                                <span class="n">width</span> <span class="o">=</span> <span class="n">height</span> <span class="o">*</span> <span class="n">ratio</span>
                <span class="k">except</span><span class="p">:</span>  <span class="c1"># canvas never opened</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">sfactor</span> <span class="o">=</span> <span class="mf">1.</span>
                        <span class="n">height</span> <span class="o">=</span> <span class="mf">8.5</span>
                        <span class="n">width</span> <span class="o">=</span> <span class="mf">11.</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mf">1.4142857142857141</span><span class="p">:</span>
                        <span class="n">sfactor</span> <span class="o">=</span> <span class="mf">0.393700787</span>
                        <span class="n">width</span> <span class="o">=</span> <span class="mf">29.7</span>
                        <span class="n">height</span> <span class="o">=</span> <span class="mf">21.</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">sfactor</span> <span class="o">=</span> <span class="mf">1.</span>
                        <span class="n">height</span> <span class="o">=</span> <span class="mf">8.5</span>
                        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">*</span> <span class="n">height</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bgX</span>
                <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bgY</span>
        <span class="k">elif</span> <span class="n">width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">width</span> <span class="o">=</span> <span class="mf">1.2941176470588236</span> <span class="o">*</span> <span class="n">height</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">*</span> <span class="n">height</span>
        <span class="k">elif</span> <span class="n">height</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">height</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="mf">1.2941176470588236</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">height</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
        <span class="n">W</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="n">dpi</span> <span class="o">*</span> <span class="n">sfactor</span><span class="p">)</span>
        <span class="n">H</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">height</span> <span class="o">*</span> <span class="n">dpi</span> <span class="o">*</span> <span class="n">sfactor</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isportrait</span><span class="p">()</span> <span class="ow">and</span> <span class="n">W</span> <span class="o">&gt;</span> <span class="n">H</span><span class="p">)</span> \
                <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">islandscape</span><span class="p">()</span> <span class="ow">and</span> <span class="n">H</span> <span class="o">&gt;</span> <span class="n">W</span><span class="p">):</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">W</span>
            <span class="n">W</span> <span class="o">=</span> <span class="n">H</span>
            <span class="n">H</span> <span class="o">=</span> <span class="n">tmp</span>
        <span class="k">return</span> <span class="n">W</span><span class="p">,</span> <span class="n">H</span>


<div class="viewcode-block" id="Canvas.postscript"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.postscript">[docs]</a>    <span class="k">def</span> <span class="nf">postscript</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;inches&#39;</span><span class="p">,</span> <span class="n">textAsPaths</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Postscript output is another form of vector graphics. It is larger than its CGM output</span>
<span class="sd">        counter part, because it is stored out in ASCII format.</span>

<span class="sd">        There are two modes for saving a postscript file: `Append&#39; (a) mode appends postscript</span>
<span class="sd">        output to an existing postscript file; and `Replace&#39; (r) mode overwrites an existing</span>
<span class="sd">        postscript file with new postscript output. The default mode is to overwrite an existing</span>
<span class="sd">        postscript file (i.e. mode (r)).</span>

<span class="sd">        .. note::</span>

<span class="sd">            The textAsPaths parameter preserves custom fonts, but text can no longer be edited in the file</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_postscript</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;) # Overwrite a postscript file</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, &#39;a&#39;) # Append postscript to an existing file</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, &#39;r&#39;) # Overwrite an existing file</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, mode=&#39;a&#39;) # Append postscript to an existing file</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, width=11.5, height= 8.5) # US Legal (default)</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, width=21, height=29.7, units=&#39;cm&#39;) # A4</span>

<span class="sd">        :param file: String name of the desired output file</span>
<span class="sd">        :type file: str</span>

<span class="sd">        :param mode: The mode in which to open the file. One of &#39;r&#39; or &#39;a&#39;.</span>
<span class="sd">        :type mode: str</span>

<span class="sd">        :param orientation: Deprecated.</span>
<span class="sd">        :type orientation: None</span>

<span class="sd">        :param width: Desired width of the postscript output, in the specified unit of measurement</span>
<span class="sd">        :type width: int</span>

<span class="sd">        :param height: Desired height of the postscript output, in the specified unit of measurement</span>
<span class="sd">        :type height: int</span>
<span class="sd">        :type units: str</span>

<span class="sd">        :param textAsPaths: Specifies whether to render text objects as paths.</span>
<span class="sd">        :type textAsPaths: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">units</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s1">&#39;inches&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="s1">&#39;mm&#39;</span><span class="p">,</span> <span class="s1">&#39;pixel&#39;</span><span class="p">,</span> <span class="s1">&#39;pixels&#39;</span><span class="p">,</span> <span class="s1">&#39;dot&#39;</span><span class="p">,</span> <span class="s1">&#39;dots&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;units must be on of inches, in, cm, mm, pixel(s) or dot(s)&quot;</span><span class="p">)</span>

        <span class="c1"># figures out width/height</span>
        <span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_width_height</span><span class="p">(</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span> <span class="n">ps</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># orientation keyword is useless left for backward compatibility</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ps&#39;</span><span class="p">,</span> <span class="s1">&#39;eps&#39;</span><span class="p">]:</span>
            <span class="n">file</span> <span class="o">+=</span> <span class="s1">&#39;.ps&#39;</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">postscript</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;pixels&quot;</span><span class="p">,</span> <span class="n">textAsPaths</span><span class="o">=</span><span class="n">textAsPaths</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000000000000</span><span class="p">)</span>
            <span class="n">psnm</span> <span class="o">=</span> <span class="s1">&#39;/tmp/&#39;</span> <span class="o">+</span> <span class="s1">&#39;__VCS__tmp__&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.ps&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">postscript</span><span class="p">(</span><span class="n">psnm</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;pixels&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
                <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;r+&#39;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># goes to end of file</span>
                <span class="n">f2</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">psnm</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="n">f2</span><span class="o">.</span><span class="n">readlines</span><span class="p">())</span>
                <span class="n">f2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">psnm</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">psnm</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_scriptrun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">_scriptrun</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scriptrun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aFile</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="n">vcs</span><span class="o">.</span><span class="n">scriptrun</span><span class="p">(</span><span class="n">aFile</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.setcolormap"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.setcolormap">[docs]</a>    <span class="k">def</span> <span class="nf">setcolormap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        It is necessary to change the colormap. This routine will change the VCS</span>
<span class="sd">        color map.</span>

<span class="sd">        If the the visual display is 16-bit, 24-bit, or 32-bit TrueColor, then a redrawing</span>
<span class="sd">        of the VCS Canvas is made every time the colormap is changed.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_setcolormap</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.setcolormap(&quot;AMIP&quot;)</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :param name: Name of the colormap to use</span>
<span class="sd">        :type name: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Don&#39;t update the VCS segment if there is no Canvas. This condition</span>
        <span class="c1"># happens in the initalize function for VCDAT only. This will cause a</span>
        <span class="c1"># core dump is not checked.</span>
        <span class="c1"># try:</span>
        <span class="c1">#   updateVCSsegments_flag = args[1]</span>
        <span class="c1"># except:</span>
        <span class="c1">#   updateVCSsegments_flag = 1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="Canvas.setcolorcell"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.setcolorcell">[docs]</a>    <span class="k">def</span> <span class="nf">setcolorcell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set a individual color cell in the active colormap. If default is</span>
<span class="sd">        the active colormap, then return an error string.</span>

<span class="sd">        If the the visul display is 16-bit, 24-bit, or 32-bit TrueColor, then a redrawing</span>
<span class="sd">        of the VCS Canvas is made evertime the color cell is changed.</span>

<span class="sd">        Note, the user can only change color cells 0 through 239 and R,G,B</span>
<span class="sd">        value must range from 0 to 100. Where 0 represents no color intensity</span>
<span class="sd">        and 100 is the greatest color intensity.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_setcolorcell</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.setcolormap(&quot;AMIP&quot;)</span>
<span class="sd">                &gt;&gt;&gt; a.setcolorcell(11,0,0,0)</span>
<span class="sd">                &gt;&gt;&gt; a.setcolorcell(21,100,0,0)</span>
<span class="sd">                &gt;&gt;&gt; a.setcolorcell(31,0,100,0)</span>
<span class="sd">                &gt;&gt;&gt; a.setcolorcell(41,0,0,100)</span>
<span class="sd">                &gt;&gt;&gt; a.setcolorcell(51,100,100,100)</span>
<span class="sd">                &gt;&gt;&gt; a.setcolorcell(61,70,70,70)</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">setcolorcell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">colormap</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span></div>

<div class="viewcode-block" id="Canvas.setcontinentsline"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.setcontinentsline">[docs]</a>    <span class="k">def</span> <span class="nf">setcontinentsline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        One has the option of configuring the appearance of the lines used to</span>
<span class="sd">        draw continents by providing a VCS Line object.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_setcontinentsline</span>

<span class="sd">                &gt;&gt;&gt; a = vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; line = vcs.createline()</span>
<span class="sd">                &gt;&gt;&gt; line.width = 5</span>
<span class="sd">                &gt;&gt;&gt; a.setcontinentsline(line) # Use custom continents line</span>
<span class="sd">                &gt;&gt;&gt; a.setcontinentsline(&quot;default&quot;) # Use default line</span>

<span class="sd">        :param line: Line to use for drawing continents. Can be a string name of a line, or a VCS line object</span>
<span class="sd">        :type line: str or :py:class:`vcs.line.Tl`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">linename</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkLine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;continentsline&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getline</span><span class="p">(</span><span class="n">linename</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_continents_line</span> <span class="o">=</span> <span class="n">line</span></div>

    <span class="k">def</span> <span class="nf">getcontinentsline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_continents_line</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getline</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_continents_line</span>

<div class="viewcode-block" id="Canvas.setcontinentstype"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.setcontinentstype">[docs]</a>    <span class="k">def</span> <span class="nf">setcontinentstype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        One has the option of using continental maps that are predefined or that</span>
<span class="sd">        are user-defined. Predefined continental maps are either internal to VCS</span>
<span class="sd">        or are specified by external files. User-defined continental maps are</span>
<span class="sd">        specified by additional external files that must be read as input.</span>

<span class="sd">        The continents-type values are integers ranging from 0 to 11, where:</span>
<span class="sd">          0 signifies &quot;No Continents&quot;</span>
<span class="sd">          1 signifies &quot;Fine Continents&quot;</span>
<span class="sd">          2 signifies &quot;Coarse Continents&quot;</span>
<span class="sd">          3 signifies &quot;United States&quot; (with &quot;Fine Continents&quot;)</span>
<span class="sd">          4 signifies &quot;Political Borders&quot; (with &quot;Fine Continents&quot;)</span>
<span class="sd">          5 signifies &quot;Rivers&quot; (with &quot;Fine Continents&quot;)</span>

<span class="sd">          6 uses a custom continent set</span>

<span class="sd">        You can also pass a file by path.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_setcontinentstype</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.setcontinentstype(3)</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array,&#39;default&#39;,&#39;isofill&#39;,&#39;quick&#39;)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>

<span class="sd">        :param value: Integer representing continent type, as specified in function description</span>
<span class="sd">        :type value: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">continent_path</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkContinents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_continents</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">continent_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
                <span class="n">continent_path</span><span class="p">):</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Continents file not found: </span><span class="si">%s</span><span class="s2">, substituing with fine continents&quot;</span> <span class="o">%</span>
                <span class="n">continent_path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_continents</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">return</span></div>

    <span class="k">def</span> <span class="nf">_continentspath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkContinents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_continents</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_continents</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkContinents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">path</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">VCS_validation_functions</span><span class="o">.</span><span class="n">checkContinents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.gif"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.gif">[docs]</a>    <span class="k">def</span> <span class="nf">gif</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;noname.gif&#39;</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">geometry</span><span class="o">=</span><span class="s1">&#39;1600x1200&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        In some cases, the user may want to save the plot out as a gif image. This</span>
<span class="sd">        routine allows the user to save the VCS canvas output as a SUN gif file.</span>
<span class="sd">        This file can be converted to other gif formats with the aid of xv and other</span>
<span class="sd">        such imaging tools found freely on the web.</span>

<span class="sd">        By default, the page orientation is in Landscape mode (l). To translate the page</span>
<span class="sd">        orientation to portrait mode (p), set the orientation = &#39;p&#39;.</span>

<span class="sd">        The GIF command is used to create or append to a gif file. There are two modes</span>
<span class="sd">        for saving a gif file: &#39;Append&#39; mode (a) appends gif output to an existing gif</span>
<span class="sd">        file; &#39;Replace&#39; (r) mode overwrites an existing gif file with new gif output.</span>
<span class="sd">        The default mode is to overwrite an existing gif file (i.e. mode (r)).</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_gif</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(1, 11) for _ in range(1, 11)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.gif(filename=&#39;example.gif&#39;, merge=&#39;a&#39;, orientation=&#39;l&#39;, geometry=&#39;800x600&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.gif(&#39;example&#39;) # overwrite existing gif file (default is merge=&#39;r&#39;)</span>
<span class="sd">                &gt;&gt;&gt; a.gif(&#39;example&#39;,merge=&#39;r&#39;) # overwrite existing gif file</span>
<span class="sd">                &gt;&gt;&gt; a.gif(&#39;example&#39;,merge=&#39;a&#39;) # merge gif image into existing gif file</span>
<span class="sd">                &gt;&gt;&gt; a.gif(&#39;example&#39;,orientation=&#39;l&#39;) # merge gif image into existing gif file with landscape orientation</span>
<span class="sd">                &gt;&gt;&gt; a.gif(&#39;example&#39;,orientation=&#39;p&#39;) # merge gif image into existing gif file with portrait orientation</span>
<span class="sd">                &gt;&gt;&gt; a.gif(&#39;example&#39;,geometry=&#39;600x500&#39;) # merge gif image into existing gif file and set gif geometry</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">orientation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">orientation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
        <span class="n">f1</span> <span class="o">=</span> <span class="n">f1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mf">1100.0</span> <span class="o">*</span> <span class="mf">100.0</span>
        <span class="n">f2</span> <span class="o">=</span> <span class="n">f2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mf">849.85</span> <span class="o">*</span> <span class="mf">100.0</span>
        <span class="n">geometry</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%4.1f</span><span class="s2">x</span><span class="si">%4.1f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f2</span><span class="p">,</span> <span class="n">f1</span><span class="p">)</span>
        <span class="n">nargs</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;gif&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">merge</span><span class="p">,</span> <span class="n">orientation</span><span class="p">,</span> <span class="n">geometry</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">gif</span><span class="p">(</span><span class="n">nargs</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">gs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;noname.gs&#39;</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;png256&#39;</span><span class="p">,</span>
           <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="s1">&#39;792x612&#39;</span><span class="p">):</span>

        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Export to GhostScript is no longer supported&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

<div class="viewcode-block" id="Canvas.eps"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.eps">[docs]</a>    <span class="k">def</span> <span class="nf">eps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;inches&#39;</span><span class="p">,</span> <span class="n">textAsPaths</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        In some cases, the user may want to save the plot out as an Encapsulated</span>
<span class="sd">        PostScript image. This routine allows the user to save the VCS canvas output</span>
<span class="sd">        as an Encapsulated PostScript file.</span>
<span class="sd">        This file can be converted to other image formats with the aid of xv and other</span>
<span class="sd">        such imaging tools found freely on the web.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_eps</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(10) for _ in range(10)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;) # Overwrite a postscript file</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, &#39;a&#39;) # Append postscript to an existing file</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, &#39;r&#39;) # Overwrite an existing file</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, mode=&#39;a&#39;) # Append postscript to an existing file</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, width=11.5, height= 8.5) # US Legal (default)</span>
<span class="sd">                &gt;&gt;&gt; a.postscript(&#39;example&#39;, width=21, height=29.7, units=&#39;cm&#39;) # A4</span>

<span class="sd">        :param file: String name of the desired output file</span>
<span class="sd">        :type file: str</span>

<span class="sd">        :param mode: The mode in which to open the file. One of &#39;r&#39; or &#39;a&#39;.</span>
<span class="sd">        :type mode: str</span>

<span class="sd">        :param orientation: Deprecated.</span>
<span class="sd">        :type orientation: None</span>

<span class="sd">        :param width: Width of the output image, in the unit of measurement specified</span>
<span class="sd">        :type width: float</span>

<span class="sd">        :param height: Height of the output image, in the unit of measurement specified</span>
<span class="sd">        :type height: float</span>

<span class="sd">        :param units: One of [&#39;inches&#39;, &#39;in&#39;, &#39;cm&#39;, &#39;mm&#39;, &#39;pixel&#39;, &#39;pixels&#39;, &#39;dot&#39;, &#39;dots&#39;]. Defaults to &#39;inches&#39;.</span>
<span class="sd">        :type units: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ext</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;eps&#39;</span><span class="p">:</span>
            <span class="n">file</span> <span class="o">=</span> <span class="n">file</span> <span class="o">+</span> <span class="s1">&#39;.eps&#39;</span>
        <span class="n">num</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">100000000000</span><span class="p">)</span>
        <span class="n">tmpfile</span> <span class="o">=</span> <span class="s2">&quot;/tmp/vcs_tmp_eps_file_</span><span class="si">%i</span><span class="s2">.ps&quot;</span> <span class="o">%</span> <span class="n">num</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">tmpfile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">postscript</span><span class="p">(</span>
            <span class="n">tmpfile</span><span class="p">,</span>
            <span class="n">mode</span><span class="p">,</span>
            <span class="n">orientation</span><span class="p">,</span>
            <span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="p">,</span>
            <span class="n">units</span><span class="p">,</span>
            <span class="n">textAsPaths</span><span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s2">&quot;ps2epsi </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tmpfile</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tmpfile</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.show"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.show">[docs]</a>    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span></div>
    <span class="n">show</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.isinfile"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.isinfile">[docs]</a>    <span class="k">def</span> <span class="nf">isinfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">GM</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a graphic method is stored in a file</span>
<span class="sd">        if no file name is passed then looks into the initial.attributes file</span>

<span class="sd">        :param GM: The graphics method to search for</span>
<span class="sd">        :type GM: str</span>

<span class="sd">        :param file: String name of the file to search</span>
<span class="sd">        :type file: str</span>

<span class="sd">        :returns: ???</span>
<span class="sd">        :rtype: ???</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nm</span> <span class="o">=</span> <span class="n">GM</span><span class="o">.</span><span class="n">name</span>
        <span class="n">gm</span> <span class="o">=</span> <span class="n">GM</span><span class="o">.</span><span class="n">g_name</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">gm</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">nm</span> <span class="o">+</span> <span class="s1">&#39;(&#39;</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_dotdir</span><span class="p">,</span>
                <span class="s1">&#39;initial.attributes&#39;</span><span class="p">)</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ln</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ln</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="Canvas.saveinitialfile"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.saveinitialfile">[docs]</a>    <span class="k">def</span> <span class="nf">saveinitialfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        At start-up, VCS reads a script file named initial.attributes that</span>
<span class="sd">        defines the initial appearance of the VCS Interface. Although not</span>
<span class="sd">        required to run VCS, this initial.attributes file contains many</span>
<span class="sd">        predefined settings to aid the beginning user of VCS.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_saveinitial</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.saveinitialfile()</span>

<span class="sd">        .. warning::</span>

<span class="sd">            This removes first ALL objects generated automatically</span>
<span class="sd">            (i.e. whose name starts with &#39;__&#39;) in order to preserve this, rename objects first</span>
<span class="sd">            e.g:</span>

<span class="sd">            .. doctest:: canvas_saveinitial_warning</span>

<span class="sd">                &gt;&gt;&gt; b=vcs.createboxfill()</span>
<span class="sd">                &gt;&gt;&gt; b.rename(&#39;MyBoxfill&#39;) # graphic method is now preserved</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clean_auto_generated_objects</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">saveinitialfile</span><span class="p">()</span></div>

<div class="viewcode-block" id="Canvas.raisecanvas"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.raisecanvas">[docs]</a>    <span class="k">def</span> <span class="nf">raisecanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Raise the VCS Canvas to the top of all open windows.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">raisecanvas</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.islandscape"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.islandscape">[docs]</a>    <span class="k">def</span> <span class="nf">islandscape</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indicates if VCS&#39;s orientation is landscape.</span>

<span class="sd">        Returns a 1 if orientation is landscape.</span>
<span class="sd">        Otherwise, it will return a 0, indicating false (not in landscape mode).</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_islandscape</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(10) for _ in range(10)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; if a.islandscape():</span>
<span class="sd">                ...     a.portrait() # Set VCS&#39;s orientation to portrait mode</span>

<span class="sd">        :returns: Integer indicating VCS is in landscape mode (1), or not (0)</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;landscape&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="Canvas.isportrait"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.isportrait">[docs]</a>    <span class="k">def</span> <span class="nf">isportrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indicates if VCS&#39;s orientation is portrait.</span>


<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_isportrait</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; array = [range(10) for _ in range(10)]</span>
<span class="sd">                &gt;&gt;&gt; a.plot(array)</span>
<span class="sd">                &lt;vcs.displayplot.Dp ...&gt;</span>
<span class="sd">                &gt;&gt;&gt; if a.isportrait():</span>
<span class="sd">                ...     a.landscape() # Set VCS&#39;s orientation to landscape mode</span>

<span class="sd">        :returns: Returns a 1 if orientation is portrait, or 0 if not in portrait mode</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;portrait&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="Canvas.getplot"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getplot">[docs]</a>    <span class="k">def</span> <span class="nf">getplot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Dp_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. deprecated:: 2.0</span>

<span class="sd">            The getplot function is deprecated. Do not use it.</span>

<span class="sd">        This function will create a display plot object from an existing display</span>
<span class="sd">        plot object from an existing VCS plot. If no display plot name</span>
<span class="sd">        is given, then None is returned.</span>


<span class="sd">        :param Dp_name_src: String name of an existing display plot object</span>
<span class="sd">        :type Dp_name_src: str</span>

<span class="sd">        :param template: The displayplot template to inherit from</span>
<span class="sd">        :type template:</span>

<span class="sd">        :returns: A VCS displayplot object</span>
<span class="sd">        :rtype: vcs.displayplot.Dp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">Dp_name_src</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Error -  The argument must be a string.&#39;</span><span class="p">)</span>

        <span class="n">Dp_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">display</span> <span class="o">=</span> <span class="n">displayplot</span><span class="o">.</span><span class="n">Dp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Dp_name</span><span class="p">,</span> <span class="n">Dp_name_src</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">display</span><span class="o">.</span><span class="n">_template_origin</span> <span class="o">=</span> <span class="n">template</span>
        <span class="k">return</span> <span class="n">display</span></div>

<div class="viewcode-block" id="Canvas.createcolormap"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.createcolormap">[docs]</a>    <span class="k">def</span> <span class="nf">createcolormap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cp_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Cp_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">createcolormap</span><span class="p">(</span><span class="n">Cp_name</span><span class="p">,</span> <span class="n">Cp_name_src</span><span class="p">)</span></div>
    <span class="n">createcolormap</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">createcolormap</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getcolormap"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getcolormap">[docs]</a>    <span class="k">def</span> <span class="nf">getcolormap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cp_name_src</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getcolormap</span><span class="p">(</span><span class="n">Cp_name_src</span><span class="p">)</span></div>
    <span class="n">getcolormap</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">manageElements</span><span class="o">.</span><span class="n">getcolormap</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.addfont"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.addfont">[docs]</a>    <span class="k">def</span> <span class="nf">addfont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a font to VCS.</span>

<span class="sd">        :param path: Path to the font file you wish to add (must be .ttf)</span>
<span class="sd">        :type path: str</span>

<span class="sd">        :param name: Name to use to represent the font.</span>
<span class="sd">        :type name: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Error -  The font path does not exists&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="n">dir_files</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">subfiles</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">subfiles</span><span class="p">:</span>
                    <span class="n">dir_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">subfiles</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">subfiles</span><span class="p">:</span>
                        <span class="n">dir_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">dir_files</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ttf&#39;</span><span class="p">,</span> <span class="s1">&#39;pfa&#39;</span><span class="p">,</span> <span class="s1">&#39;pfb&#39;</span><span class="p">]:</span>
                    <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">files</span> <span class="o">=</span> <span class="p">[[</span><span class="n">path</span><span class="p">,</span> <span class="n">name</span><span class="p">],</span> <span class="p">]</span>

        <span class="n">nms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="n">fnm</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">f</span>
            <span class="n">i</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;fontNumber&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">fnm</span>
            <span class="n">vcs</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;fontNumber&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nms</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s1">&#39;No font Loaded&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">nms</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">nms</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">nms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="Canvas.getfontnumber"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getfontnumber">[docs]</a>    <span class="k">def</span> <span class="nf">getfontnumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getfontnumber</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>
    <span class="n">getfontnumber</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">getfontnumber</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getfontname"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getfontname">[docs]</a>    <span class="k">def</span> <span class="nf">getfontname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getfontname</span><span class="p">(</span><span class="n">number</span><span class="p">)</span></div>
    <span class="n">getfontname</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">getfontname</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getfont"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getfont">[docs]</a>    <span class="k">def</span> <span class="nf">getfont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the font name/number associated with a font number/name</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_getfont</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; font_names=[]</span>
<span class="sd">                &gt;&gt;&gt; for i in range(1,17):</span>
<span class="sd">                ...     font_names.append(str(a.getfont(i))) # font_names is now filled with all font names</span>
<span class="sd">                &gt;&gt;&gt; font_names</span>
<span class="sd">                [&#39;default&#39;, ...]</span>
<span class="sd">                &gt;&gt;&gt; font_numbers = []</span>
<span class="sd">                &gt;&gt;&gt; for name in font_names:</span>
<span class="sd">                ...     font_numbers.append(a.getfont(name)) # font_numbers is now filled with all font numbers</span>
<span class="sd">                &gt;&gt;&gt; font_numbers</span>
<span class="sd">                [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]</span>

<span class="sd">        :param font: The font name/number</span>
<span class="sd">        :type font: int or str</span>

<span class="sd">        :returns: If font parameter was a string, will return the integer associated with that string.</span>
<span class="sd">                  If font parameter was an integer, will return the string associated with that integer.</span>
<span class="sd">        :rtype: int or str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getfontname</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getfontnumber</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span><span class="s2">&quot;Error you must pass a string or int&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.switchfonts"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.switchfonts">[docs]</a>    <span class="k">def</span> <span class="nf">switchfonts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font1</span><span class="p">,</span> <span class="n">font2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Switch the font numbers of two fonts.</span>

<span class="sd">        :param font1: The first font</span>
<span class="sd">        :type font1: int or str</span>

<span class="sd">        :param font2: The second font</span>
<span class="sd">        :type font2: int or str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font1</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">index1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">font1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font1</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="n">index1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">font1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">index1</span><span class="p">)</span>  <span class="c1"># make sure font exists</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                <span class="s2">&quot;Error you must pass either a number or font name!, you passed for font 1: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                <span class="n">font1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font2</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">index2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">font2</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font2</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="n">index2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">font2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span>  <span class="c1"># make sure font exists</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                <span class="s2">&quot;Error you must pass either a number or font name!, you passed for font 2: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                <span class="n">font2</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">switchfontnumbers</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">))</span></div>

<div class="viewcode-block" id="Canvas.copyfontto"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.copyfontto">[docs]</a>    <span class="k">def</span> <span class="nf">copyfontto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font1</span><span class="p">,</span> <span class="n">font2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Copy &#39;font1&#39; into &#39;font2&#39;.</span>

<span class="sd">        :param font1: Name/number of font to copy</span>
<span class="sd">        :type font1: str or int</span>

<span class="sd">        :param font2: Name/number of destination</span>
<span class="sd">        :type font2: str or int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font1</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">index1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">font1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font1</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="n">index1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">font1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">index1</span><span class="p">)</span>  <span class="c1"># make sure font exists</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                <span class="s2">&quot;Error you must pass either a number or font name!, you passed for font 1: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                <span class="n">font1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font2</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">index2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">font2</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font2</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="n">index2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">font2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span>  <span class="c1"># make sure font exists</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">vcsError</span><span class="p">(</span>
                <span class="s2">&quot;Error you must pass either a number or font name!, you passed for font 2: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                <span class="n">font2</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">copyfontto</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">))</span></div>

<div class="viewcode-block" id="Canvas.setdefaultfont"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.setdefaultfont">[docs]</a>    <span class="k">def</span> <span class="nf">setdefaultfont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the passed/def show font as the default font for vcs</span>

<span class="sd">        :param font: Font name or index to use as default</span>
<span class="sd">        :type font: str or int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getfont</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copyfontto</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.orientation"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.orientation">[docs]</a>    <span class="k">def</span> <span class="nf">orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return canvas orientation.</span>

<span class="sd">        The current implementation does not use any args or kargs.</span>

<span class="sd">        :Example:</span>

<span class="sd">            .. doctest:: canvas_orientation</span>

<span class="sd">                &gt;&gt;&gt; a=vcs.init()</span>
<span class="sd">                &gt;&gt;&gt; a.orientation() # Show current orientation of the canvas</span>
<span class="sd">                &#39;landscape&#39;</span>

<span class="sd">        :returns: A string indicating the orientation of the canvas, i.e. &#39;landscape&#39; or &#39;portrait&#39;</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas.getcolorcell"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getcolorcell">[docs]</a>    <span class="k">def</span> <span class="nf">getcolorcell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">getcolorcell</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="p">)</span></div>
    <span class="n">getcolorcell</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">vcs</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">getcolorcell</span><span class="o">.</span><span class="n">__doc__</span>

<div class="viewcode-block" id="Canvas.getcolormapname"><a class="viewcode-back" href="../../vcs/Canvas.html#vcs.Canvas.Canvas.getcolormapname">[docs]</a>    <span class="k">def</span> <span class="nf">getcolormapname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the name of the colormap this canvas is set to use by default.</span>

<span class="sd">        To set that colormap, use :ref:`setcolormap`_.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">vcs</span><span class="o">.</span><span class="n">_colorMap</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span></div>

    <span class="k">def</span> <span class="nf">dummy_user_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="nb">print</span> <span class="s1">&#39;Arguments:&#39;</span><span class="p">,</span> <span class="n">args</span>
        <span class="nb">print</span> <span class="s1">&#39;Keywords:&#39;</span><span class="p">,</span> <span class="n">kargs</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<span class="k">def</span> <span class="nf">change_date_time</span><span class="p">(</span><span class="n">tv</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
    <span class="n">timeaxis</span> <span class="o">=</span> <span class="n">tv</span><span class="o">.</span><span class="n">getTime</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">timeaxis</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">tobj</span> <span class="o">=</span> <span class="n">cdtime</span><span class="o">.</span><span class="n">reltime</span><span class="p">(</span><span class="n">timeaxis</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="n">timeaxis</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
            <span class="n">cobj</span> <span class="o">=</span> <span class="n">tobj</span><span class="o">.</span><span class="n">tocomp</span><span class="p">(</span><span class="n">timeaxis</span><span class="o">.</span><span class="n">getCalendar</span><span class="p">())</span>
            <span class="n">tv</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="se">\0</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cobj</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">cobj</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">cobj</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
            <span class="n">tv</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:</span><span class="si">%s</span><span class="s1">:</span><span class="si">%s</span><span class="se">\0</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cobj</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="n">cobj</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="n">cobj</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/uvcdat.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">VCS 2.4.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../vcs.html" >vcs</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, LLNL.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>